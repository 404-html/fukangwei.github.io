<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="泥腿子出身">
<meta property="og:url" content="http://fukangwei.gitee.io/page/84/index.html">
<meta property="og:site_name" content="泥腿子出身">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="泥腿子出身">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '561O3H1PZB',
      apiKey: '7631d3cf19ac49bd39ada7163ec937a7',
      indexName: 'fuxinzi',
      hits: "",
      labels: ""
    }
  };
</script>



  <link rel="canonical" href="http://fukangwei.gitee.io/page/84/">





  <title>泥腿子出身</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">泥腿子出身</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/24/Java/String类/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/24/Java/String类/" itemprop="url">String类</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-24T09:23:07+08:00">
                2018-12-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;在<code>Java</code>中，字符串属于对象，<code>Java</code>提供了<code>String</code>类来创建和操作字符串。创建字符串最简单的方式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String greeting = <span class="string">"菜鸟教程"</span>;</span><br></pre></td></tr></table></figure>
<p>在代码中遇到字符串常量时，编译器会使用该值创建一个<code>String</code>对象。和其它对象一样，可以使用关键字和构造方法来创建<code>String</code>对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] helloArray = &#123;<span class="string">'r'</span>, <span class="string">'u'</span>, <span class="string">'n'</span>, <span class="string">'o'</span>, <span class="string">'o'</span>, <span class="string">'b'</span>&#125;;</span><br><span class="line">        String helloString = <span class="keyword">new</span> String(helloArray);</span><br><span class="line">        System.out.println(helloString); <span class="comment">/* 输出“runoob” */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意，<code>String</code>类是不可改变的，所以你一旦创建了<code>String</code>对象，那它的值就无法改变了。</p>
<h3 id="字符串长度"><a href="#字符串长度" class="headerlink" title="字符串长度"></a>字符串长度</h3><p>&emsp;&emsp;用于获取有关对象的信息的方法称为访问器方法。<code>String</code>类的一个访问器方法是<code>length</code>方法，它返回字符串对象包含的字符数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        String site = <span class="string">"www.runoob.com"</span>;</span><br><span class="line">        <span class="keyword">int</span> len = site.length();</span><br><span class="line">        <span class="comment">/* 输出“菜鸟教程网址长度：14” */</span></span><br><span class="line">        System.out.println(<span class="string">"菜鸟教程网址长度："</span> + len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="连接字符串"><a href="#连接字符串" class="headerlink" title="连接字符串"></a>连接字符串</h3><p>&emsp;&emsp;<code>String</code>类提供了连接两个字符串的方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string1.concat(string2);</span><br></pre></td></tr></table></figure>
<p>该方法返回<code>string2</code>连接<code>string1</code>的新字符串。也可以对字符串常量使用<code>concat</code>方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"我的名字是 "</span>.concat(<span class="string">"Runoob"</span>);</span><br></pre></td></tr></table></figure>
<p>更常用的是使用<code>+</code>操作符来连接字符串：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"Hello,"</span> + <span class="string">" runoob"</span> + <span class="string">"!"</span></span><br></pre></td></tr></table></figure>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        String string1 = <span class="string">"菜鸟教程网址："</span>;</span><br><span class="line">        <span class="comment">/* 输出“这是菜鸟教程网址：www.runoob.com” */</span></span><br><span class="line">        System.out.println(<span class="string">"这是"</span> + string1 + <span class="string">"www.runoob.com"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="创建格式化字符串"><a href="#创建格式化字符串" class="headerlink" title="创建格式化字符串"></a>创建格式化字符串</h3><p>&emsp;&emsp;我们知道输出格式化数字可以使用<code>printf</code>和<code>format</code>方法。<code>String</code>类使用静态方法<code>format</code>返回一个<code>String</code>对象，而不是<code>PrintStream</code>对象。<code>format</code>能用来创建可复用的格式化字符串，而不仅仅是用于一次打印输出：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">System.out.printf(<span class="string">"浮点型变量的值为 "</span> + <span class="string">"%f, 整型变量的值为 "</span> +</span><br><span class="line">    <span class="string">" %d, 字符串变量的值为 "</span> + <span class="string">" %s"</span>, floatVar, intVar, stringVar);</span><br><span class="line"></span><br><span class="line">String fs;</span><br><span class="line">fs = String.format(<span class="string">"浮点型变量的值为 "</span> +<span class="string">"%f, 整型变量的值为 "</span> +</span><br><span class="line">    <span class="string">" %d, 字符串变量的值为 "</span> + <span class="string">" %s"</span>, floatVar, intVar, stringVar);</span><br></pre></td></tr></table></figure>
<h3 id="String方法"><a href="#String方法" class="headerlink" title="String方法"></a>String方法</h3><p>&emsp;&emsp;下面是<code>String</code>类支持的方法：</p>
<ul>
<li><code>char charAt(int index)</code>：返回指定索引处的<code>char</code>值。</li>
<li><code>int compareTo(Object o)</code>：把这个字符串和另一个对象比较。</li>
<li><code>int compareTo(String anotherString)</code>：按字典顺序比较两个字符串。</li>
<li><code>int compareToIgnoreCase(String str)</code>：按字典顺序比较两个字符串，不考虑大小写。</li>
<li><code>String concat(String str)</code>：将指定字符串连接到此字符串的结尾。</li>
<li><code>boolean contentEquals(StringBuffer sb)</code>：当且仅当字符串与指定的<code>StringBuffer</code>有相同顺序的字符时返回真。</li>
<li><code>static String copyValueOf(char[] data)</code>：返回指定数组中表示该字符序列的<code>String</code>。</li>
<li><code>static String copyValueOf(char[] data, int offset, int count)</code>：返回指定数组中表示该字符序列的<code>String</code>。</li>
<li><code>boolean endsWith(String suffix)</code>：测试此字符串是否以指定的后缀结束。</li>
<li><code>boolean equals(Object anObject)</code>：将此字符串与指定的对象比较。</li>
<li><code>boolean equalsIgnoreCase(String anotherString)</code>：将此<code>String</code>与另一个<code>String</code>比较，不考虑大小写。</li>
<li><code>byte[] getBytes()</code>：使用平台的默认字符集将此<code>String</code>编码为<code>byte</code>序列，并将结果存储到一个新的<code>byte</code>数组中。</li>
<li><code>byte[] getBytes(String charsetName)</code>：使用指定的字符集将此<code>String</code>编码为<code>byte</code>序列，并将结果存储到一个新的<code>byte</code>数组中。</li>
<li><code>void getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin)</code>：将字符从此字符串复制到目标字符数组。</li>
<li><code>int hashCode()</code>：返回此字符串的哈希码。</li>
<li><code>int indexOf(int ch)</code>：返回指定字符在此字符串中第一次出现处的索引。</li>
<li><code>int indexOf(int ch, int fromIndex)</code>：返回在此字符串中第一次出现指定字符处的索引，从指定的索引开始搜索。</li>
<li><code>int indexOf(String str)</code>：返回指定子字符串在此字符串中第一次出现处的索引。</li>
<li><code>int indexOf(String str, int fromIndex)</code>：返回指定子字符串在此字符串中第一次出现处的索引，从指定的索引开始。</li>
<li><code>String intern()</code>：返回字符串对象的规范化表示形式。</li>
<li><code>int lastIndexOf(int ch)</code>：返回指定字符在此字符串中最后一次出现处的索引。</li>
<li><code>int lastIndexOf(int ch, int fromIndex)</code>：返回指定字符在此字符串中最后一次出现处的索引，从指定的索引处开始进行反向搜索。</li>
<li><code>int lastIndexOf(String str)</code>：返回指定子字符串在此字符串中最右边出现处的索引。</li>
<li><code>int lastIndexOf(String str, int fromIndex)</code>：返回指定子字符串在此字符串中最后一次出现处的索引，从指定的索引开始反向搜索。</li>
<li><code>int length()</code>：返回此字符串的长度。</li>
<li><code>boolean matches(String regex)</code>：告知此字符串是否匹配给定的正则表达式。</li>
<li><code>boolean regionMatches(boolean ignoreCase, int toffset, String other, int ooffset, int len)</code>：测试两个字符串区域是否相等。</li>
<li><code>boolean regionMatches(int toffset, String other, int ooffset, int len)</code>：测试两个字符串区域是否相等。</li>
<li><code>String replace(char oldChar, char newChar)</code>：返回一个新的字符串，它是通过用<code>newChar</code>替换此字符串中出现的所有<code>oldChar</code>得到的。</li>
<li><code>String replaceAll(String regex, String replacement)</code>：使用给定的<code>replacement</code>替换此字符串所有匹配给定的正则表达式的子字符串。</li>
<li><code>String replaceFirst(String regex, String replacement)</code>：使用给定的<code>replacement</code>替换此字符串匹配给定的正则表达式的第一个子字符串。</li>
<li><code>String[] split(String regex)</code>：根据给定正则表达式的匹配拆分此字符串。</li>
<li><code>String[] split(String regex, int limit)</code>：根据给定正则表达式的匹配拆分此字符串。</li>
<li><code>boolean startsWith(String prefix)</code>：测试此字符串是否以指定的前缀开始。</li>
<li><code>boolean startsWith(String prefix, int toffset)</code>：测试此字符串从指定索引开始的子字符串是否以指定前缀开始。</li>
<li><code>CharSequence subSequence(int beginIndex, int endIndex)</code>：返回一个新的字符序列，它是此序列的一个子序列。</li>
<li><code>String substring(int beginIndex)</code>：返回一个新的字符串，它是此字符串的一个子字符串。</li>
<li><code>String substring(int beginIndex, int endIndex)</code>：返回一个新字符串，它是此字符串的一个子字符串。</li>
<li><code>char[] toCharArray()</code>：将此字符串转换为一个新的字符数组。</li>
<li><code>String toLowerCase()</code>：使用默认语言环境的规则将此<code>String</code>中的所有字符都转换为小写。</li>
<li><code>String toLowerCase(Locale locale)</code>：使用给定<code>Locale</code>的规则将此<code>String</code>中的所有字符都转换为小写。</li>
<li><code>String toString()</code>：返回此对象本身(它已经是一个字符串)。</li>
<li><code>String toUpperCase()</code>：使用默认语言环境的规则将此<code>String</code>中的所有字符都转换为大写。</li>
<li><code>String toUpperCase(Locale locale)</code>：使用给定<code>Locale</code>的规则将此<code>String</code>中的所有字符都转换为大写。</li>
<li><code>String trim()</code>：返回字符串的副本，忽略前导空白和尾部空白。</li>
<li><code>static String valueOf(primitive data type x)</code>：返回给定<code>data type</code>类型<code>x</code>参数的字符串表示形式。</li>
</ul>
<h3 id="字符串与其它类型间的转换"><a href="#字符串与其它类型间的转换" class="headerlink" title="字符串与其它类型间的转换"></a>字符串与其它类型间的转换</h3><p>&emsp;&emsp;其它类型向字符串的转换：</p>
<ul>
<li>调用类的串转换方法：<code>X.toString();</code></li>
<li>自动转换：<code>X + &quot;&quot;;</code></li>
<li>使用<code>String</code>的方法：<code>String.valueOf(X);</code></li>
</ul>
<p>&emsp;&emsp;字符串作为值，向其它类型的转换：<br>&emsp;&emsp;1. 先转换成相应的封装器实例，再调用对应的方法转换成其它类型。例如字符<code>32.1</code>转换<code>double</code>类型的值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Float(<span class="string">"32.1"</span>).doubleValue(); <span class="comment">/* 第一种方式 */</span></span><br><span class="line">Double.valueOf(<span class="string">"32.1"</span>).doubleValue(); <span class="comment">/* 第二种方式 */</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;2. 静态<code>parseXXX</code>方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">"1"</span>;</span><br><span class="line"><span class="keyword">byte</span> b = Byte.parseByte(s);</span><br><span class="line"><span class="keyword">short</span> t = Short.parseShort(s);</span><br><span class="line"><span class="keyword">int</span> i = Integer.parseInt(s);</span><br><span class="line"><span class="keyword">long</span> l = Long.parseLong(s);</span><br><span class="line">Float f = Float.parseFloat(s);</span><br><span class="line">Double d = Double.parseDouble(s);</span><br></pre></td></tr></table></figure>
<hr>
<p>&emsp;&emsp;<code>String</code>类是不可改变的解析：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">"Google"</span>;</span><br><span class="line">System.out.println(<span class="string">"s = "</span> + s);</span><br><span class="line">s = <span class="string">"Runoob"</span>;</span><br><span class="line">System.out.println(<span class="string">"s = "</span> + s);</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = Google</span><br><span class="line">s = Runoob</span><br></pre></td></tr></table></figure>
<p>从结果上看是改变了，但为什么说<code>String</code>对象是不可变的呢？原因在于实例中的<code>s</code>只是一个<code>String</code>对象的引用，并不是对象本身。当执行<code>s = &quot;Runoob&quot;;</code>时，创建了一个新的对象<code>Runoob</code>，而原来的<code>Google</code>还存在于内存中。</p>
<hr>
<h3 id="java-lang-String-contains"><a href="#java-lang-String-contains" class="headerlink" title="java.lang.String.contains"></a>java.lang.String.contains</h3><p>&emsp;&emsp;函数原型如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(CharSequence s)</span></span>;</span><br></pre></td></tr></table></figure>
<p>当字符串包含<code>CharSequence</code>字符序列时，返回<code>true</code>，否则返回<code>false</code>。如果<code>s</code>为<code>null</code>，则触发<code>NullPointerException</code>异常。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String str1 = <span class="string">"tutorials point"</span>, str2 = <span class="string">"http://"</span>;</span><br><span class="line">        CharSequence cs1 = <span class="string">"int"</span>;</span><br><span class="line">        <span class="comment">/* string contains the specified sequence of char values */</span></span><br><span class="line">        <span class="keyword">boolean</span> retval = str1.contains(cs1);</span><br><span class="line">        System.out.println(<span class="string">"Method returns : "</span> + retval);</span><br><span class="line">        <span class="comment">/* string does not contain the specified sequence of char value */</span></span><br><span class="line">        retval = str2.contains(<span class="string">"_"</span>);</span><br><span class="line">        System.out.println(<span class="string">"Methods returns : "</span> + retval);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Method returns : <span class="literal">true</span></span><br><span class="line">Methods returns : <span class="literal">false</span></span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/23/Java/泛型/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/Java/泛型/" itemprop="url">泛型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T22:38:09+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;泛型(<code>generics</code>)提供了编译时类型安全检测机制，该机制允许程序员在编译时检测到非法的类型。泛型的本质是参数化类型，也就是说所操作的数据类型被指定为一个参数。<br>&emsp;&emsp;假定我们有这样一个需求：写一个排序方法，能够对整型数组、字符串数组甚至其他任何类型的数组进行排序，该如何实现？答案是可以使用<code>Java</code>泛型。使用<code>Java</code>泛型的概念，我们可以写一个泛型方法来对一个对象数组排序，然后调用该泛型方法来对整型数组、浮点数数组、字符串数组等进行排序。</p>
<h3 id="泛型方法"><a href="#泛型方法" class="headerlink" title="泛型方法"></a>泛型方法</h3><p>&emsp;&emsp;你可以写一个泛型方法，该方法在调用时可以接收不同类型的参数。根据传递给泛型方法的参数类型，编译器适当地处理每一个方法调用。下面是定义泛型方法的规则：</p>
<ul>
<li>所有泛型方法声明都有一个类型参数声明部分(由<code>尖括号</code>分隔)，该类型参数声明部分在方法返回类型之前(例如下面例子中的<code>&lt;E&gt;</code>)。</li>
<li>每一个类型参数声明部分包含一个或多个类型参数，参数间用逗号隔开。一个泛型参数，也被称为一个类型变量，是用于指定一个泛型类型名称的标识符。</li>
<li>类型参数能被用来声明返回值类型，并且能作为泛型方法得到的实际参数类型的占位符。</li>
<li>泛型方法体的声明和其他方法一样。注意类型参数只能代表引用型类型，不能是原始类型(像<code>int</code>、<code>double</code>、<code>char</code>等)。</li>
</ul>
<p>&emsp;&emsp;下面的例子演示了如何使用泛型方法打印不同字符串的元素：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericMethodTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* 泛型方法printArray */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; <span class="function"><span class="keyword">void</span> <span class="title">printArray</span><span class="params">(E[] inputArray)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (E element : inputArray) &#123; <span class="comment">/* 输出数组元素 */</span></span><br><span class="line">            System.out.printf(<span class="string">"%s "</span>, element);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">/* 创建不同类型数组：Integer、Double和Character */</span></span><br><span class="line">        Integer[] intArray = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">        Double[] doubleArray = &#123;<span class="number">1.1</span>, <span class="number">2.2</span>, <span class="number">3.3</span>, <span class="number">4.4</span>&#125;;</span><br><span class="line">        Character[] charArray = &#123;<span class="string">'H'</span>, <span class="string">'E'</span>, <span class="string">'L'</span>, <span class="string">'L'</span>, <span class="string">'O'</span>&#125;;</span><br><span class="line">​</span><br><span class="line">        System.out.print(<span class="string">"整型数组元素为："</span>);</span><br><span class="line">        printArray(intArray); <span class="comment">/* 传递一个整型数组 */</span></span><br><span class="line">​</span><br><span class="line">        System.out.print(<span class="string">"\n双精度型数组元素为："</span>);</span><br><span class="line">        printArray(doubleArray); <span class="comment">/* 传递一个双精度型数组 */</span></span><br><span class="line">​</span><br><span class="line">        System.out.print(<span class="string">"\n字符型数组元素为："</span>);</span><br><span class="line">        printArray(charArray); <span class="comment">/* 传递一个字符型数组 */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">整型数组元素为：1 2 3 4 5</span><br><span class="line">双精度型数组元素为：1.1 2.2 3.3 4.4</span><br><span class="line">字符型数组元素为：H E L L O</span><br></pre></td></tr></table></figure>
<h3 id="有界的类型参数"><a href="#有界的类型参数" class="headerlink" title="有界的类型参数"></a>有界的类型参数</h3><p>&emsp;&emsp;可能你会想限制那些被允许传递到一个类型参数的种类范围，例如一个操作数字的方法可能只希望接受<code>Number</code>或者<code>Number</code>子类的实例，这就是有界类型参数的目的。要声明一个有界的类型参数，首先列出类型参数的名称，后跟<code>extends</code>关键字，最后紧跟它的上界。<br>&emsp;&emsp;下面的例子中的泛型方法返回三个可比较对象的最大值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MaximumTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* 比较三个值，并返回最大值 */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T extends Comparable&lt;T&gt;&gt; <span class="function">T <span class="title">maximum</span><span class="params">(T x, T y, T z)</span> </span>&#123;</span><br><span class="line">        T max = x; <span class="comment">/* 假设x是初始最大值 */</span></span><br><span class="line">        <span class="keyword">if</span> (y.compareTo(max) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            max = y; <span class="comment">/* y更大 */</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (z.compareTo(max) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            max = z; <span class="comment">/* 现在z更大 */</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max; <span class="comment">/* 返回最大对象 */</span></span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        System.out.printf(<span class="string">"%d, %d 和 %d 中最大的数为 %d\n"</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, maximum(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>));</span><br><span class="line">        System.out.printf(<span class="string">"%.1f, %.1f 和 %.1f 中最大的数为 %.1f\n"</span>, <span class="number">6.6</span>, <span class="number">8.8</span>, <span class="number">7.7</span>, maximum(<span class="number">6.6</span>, <span class="number">8.8</span>, <span class="number">7.7</span>));</span><br><span class="line">        System.out.printf(<span class="string">"%s, %s 和 %s 中最大的数为 %s"</span>, <span class="string">"pear"</span>, <span class="string">"apple"</span>, <span class="string">"orange"</span>, maximum(<span class="string">"pear"</span>, <span class="string">"apple"</span>, <span class="string">"orange"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3, 4 和 5 中最大的数为 5</span><br><span class="line">6.6, 8.8 和 7.7 中最大的数为 8.8</span><br><span class="line">pear, apple 和 orange 中最大的数为 pear</span><br></pre></td></tr></table></figure>
<h3 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h3><p>&emsp;&emsp;如下实例演示了如何定义一个泛型类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Box</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T t;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.t = t;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Box&lt;Integer&gt; integerBox = <span class="keyword">new</span> Box&lt;Integer&gt;();</span><br><span class="line">        Box&lt;String&gt; stringBox = <span class="keyword">new</span> Box&lt;String&gt;();</span><br><span class="line">​</span><br><span class="line">        integerBox.add(<span class="number">10</span>);</span><br><span class="line">        stringBox.add(<span class="string">"菜鸟教程"</span>);</span><br><span class="line">​</span><br><span class="line">        System.out.printf(<span class="string">"整型值为：%d\n"</span>, integerBox.get());</span><br><span class="line">        System.out.printf(<span class="string">"字符串为：%s\n"</span>, stringBox.get());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">整型值为：10</span><br><span class="line">字符串为：菜鸟教程</span><br></pre></td></tr></table></figure>
<h3 id="类型通配符"><a href="#类型通配符" class="headerlink" title="类型通配符"></a>类型通配符</h3><p>&emsp;&emsp;类型通配符一般使用<code>?</code>代替具体的类型参数，例如<code>List&lt;?&gt;</code>在逻辑上是<code>List&lt;String&gt;</code>、<code>List&lt;Integer&gt;</code>等所有<code>List&lt;具体类型实参&gt;</code>的父类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; name = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        List&lt;Integer&gt; age = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        List&lt;Number&gt; number = <span class="keyword">new</span> ArrayList&lt;Number&gt;();</span><br><span class="line">​</span><br><span class="line">        name.add(<span class="string">"icon"</span>);</span><br><span class="line">        age.add(<span class="number">18</span>);</span><br><span class="line">        number.add(<span class="number">314</span>);</span><br><span class="line">​</span><br><span class="line">        getData(name);</span><br><span class="line">        getData(age);</span><br><span class="line">        getData(number);</span><br><span class="line">​</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getData</span><span class="params">(List&lt;?&gt; data)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"data："</span> + data.get(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data：icon</span><br><span class="line">data：18</span><br><span class="line">data：314</span><br></pre></td></tr></table></figure>
<p>因为<code>getData</code>方法的参数是<code>List</code>类型的，所以<code>name</code>、<code>age</code>、<code>number</code>都可以作为这个方法的实参，这就是通配符的作用。<br>&emsp;&emsp;类型通配符上限通过形如<code>List</code>来定义，如此定义就是通配符泛型值接受<code>Number</code>及其下层子类类型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; name = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        List&lt;Integer&gt; age = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        List&lt;Number&gt; number = <span class="keyword">new</span> ArrayList&lt;Number&gt;();</span><br><span class="line">​</span><br><span class="line">        name.add(<span class="string">"icon"</span>);</span><br><span class="line">        age.add(<span class="number">18</span>);</span><br><span class="line">        number.add(<span class="number">314</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="comment">// getUperNumber(name); // 出错</span></span><br><span class="line">        getUperNumber(age);</span><br><span class="line">        getUperNumber(number);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getUperNumber</span><span class="params">(List&lt;? extends Number&gt; data)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"data："</span> + data.get(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data：18</span><br><span class="line">data：314</span><br></pre></td></tr></table></figure>
<p>上例出错的原因是因为<code>getUperNumber</code>方法中的参数已经限定了参数泛型上限为<code>Number</code>，泛型为<code>String</code>是不在这个范围之内，所以会报错。<br>&emsp;&emsp;类型通配符下限通过形如<code>List&lt;? super Number&gt;</code>来定义，表示类型只能接受<code>Number</code>及其三层父类类型，例如<code>Objec</code>类型的实例。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/23/Java/变量类型/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/Java/变量类型/" itemprop="url">变量类型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T20:17:12+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;在<code>Java</code>中，所有的变量在使用前必须声明。声明变量的基本格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type identifier [= value] [, identifier [= value] ...];</span><br></pre></td></tr></table></figure>
<p><code>type</code>为<code>Java</code>数据类型，<code>identifier</code>是变量名，可以使用逗号隔开来声明多个同类型变量。以下列出了一些变量的声明实例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a, b, c; <span class="comment">/* 声明三个int型整数：a、 b、c */</span></span><br><span class="line"><span class="keyword">int</span> d = <span class="number">3</span>, e = <span class="number">4</span>, f = <span class="number">5</span>; <span class="comment">/* 声明三个整数并赋予初值 */</span></span><br><span class="line"><span class="keyword">byte</span> z = <span class="number">22</span>; <span class="comment">/* 声明并初始化z */</span></span><br><span class="line">String s = <span class="string">"runoob"</span>; <span class="comment">/* 声明并初始化字符串s */</span></span><br><span class="line"><span class="keyword">double</span> pi = <span class="number">3.14159</span>; <span class="comment">/* 声明了双精度浮点型变量pi */</span></span><br><span class="line"><span class="keyword">char</span> x = <span class="string">'x'</span>; <span class="comment">/* 声明变量x的值是字符'x' */</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;<code>Java</code>语言支持的变量类型有：</p>
<ul>
<li><code>类变量</code>：独立于方法之外的变量，用<code>static</code>修饰。</li>
<li><code>实例变量</code>：独立于方法之外的变量，不过没有<code>static</code>修饰。</li>
<li><code>局部变量</code>：类的方法中的变量。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Variable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> allClicks = <span class="number">0</span>; <span class="comment">/* 类变量 */</span></span><br><span class="line">    String str = <span class="string">"hello world"</span>; <span class="comment">/* 实例变量 */</span></span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>; <span class="comment">/* 局部变量 */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Java局部变量"><a href="#Java局部变量" class="headerlink" title="Java局部变量"></a>Java局部变量</h3><p>&emsp;&emsp;局部变量有如下要求：</p>
<ul>
<li>局部变量声明在方法、构造方法或者语句块中。</li>
<li>局部变量在方法、构造方法、或者语句块被执行的时候创建，当它们执行完成后，变量将会被销毁。</li>
<li>访问修饰符不能用于局部变量。</li>
<li>局部变量只在声明它的方法、构造方法或者语句块中可见。</li>
<li>局部变量是在栈上分配的。</li>
<li>局部变量没有默认值，所以局部变量被声明后，必须经过初始化，才可以使用。</li>
</ul>
<p>&emsp;&emsp;在以下实例中，<code>age</code>是一个局部变量，定义在<code>pupAge</code>方法中，它的作用域就限制在这个方法中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pupAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> age = <span class="number">0</span>;</span><br><span class="line">        age = age + <span class="number">7</span>;</span><br><span class="line">        System.out.println(<span class="string">"小狗的年龄是："</span> + age);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Test test = <span class="keyword">new</span> Test();</span><br><span class="line">        test.pupAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="实例变量"><a href="#实例变量" class="headerlink" title="实例变量"></a>实例变量</h3><p>&emsp;&emsp;实例变量有如下要求：</p>
<ul>
<li>实例变量声明在一个类中，但在方法、构造方法和语句块之外。</li>
<li>当一个对象被实例化之后，每个实例变量的值就跟着确定。</li>
<li>实例变量在对象创建的时候创建，在对象被销毁的时候销毁。</li>
<li>实例变量的值应该至少被一个方法、构造方法或者语句块引用，使得外部能够通过这些方式获取实例变量信息。</li>
<li>访问修饰符可以修饰实例变量。</li>
<li>实例变量对于类中的方法、构造方法或者语句块是可见的。一般情况下应该把实例变量设为私有。通过使用访问修饰符，可以使实例变量对子类可见。</li>
<li>实例变量具有默认值，数值型变量的默认值是<code>0</code>，布尔型变量的默认值是<code>false</code>，引用类型变量的默认值是<code>null</code>。变量的值可以在声明时指定，也可以在构造方法中指定。</li>
<li>实例变量可以直接通过变量名访问，但在静态方法以及其他类中，就应该使用完全限定名，例如<code>ObejectReference.VariableName</code>。</li>
</ul>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name; <span class="comment">/* 这个实例变量对子类可见 */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> salary; <span class="comment">/* 私有变量，仅在该类可见 */</span></span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(String empName)</span> </span>&#123; <span class="comment">/* 在构造器中对name赋值 */</span></span><br><span class="line">        name = empName;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSalary</span><span class="params">(<span class="keyword">double</span> empSal)</span> </span>&#123; <span class="comment">/* 设定salary的值 */</span></span><br><span class="line">        salary = empSal;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printEmp</span><span class="params">()</span> </span>&#123; <span class="comment">/* 打印信息 */</span></span><br><span class="line">        System.out.println(<span class="string">"名字："</span> + name);</span><br><span class="line">        System.out.println(<span class="string">"薪水："</span> + salary);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Employee empOne = <span class="keyword">new</span> Employee(<span class="string">"RUNOOB"</span>);</span><br><span class="line">        empOne.setSalary(<span class="number">1000</span>);</span><br><span class="line">        empOne.printEmp();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">名字：RUNOOB</span><br><span class="line">薪水：1000.0</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;<code>Java</code>实例变量在整个类内部是可访问的，而不管实例变量声明在类的哪个位置：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(String empName)</span> </span>&#123;</span><br><span class="line">        name = empName;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSalary</span><span class="params">(<span class="keyword">double</span> empSal)</span> </span>&#123;</span><br><span class="line">        salary = empSal;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printEmp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"name:"</span> + name);</span><br><span class="line">        System.out.println(<span class="string">"salary:"</span> + salary);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Employee empOne = <span class="keyword">new</span> Employee(<span class="string">"RUNOOB"</span>);</span><br><span class="line">        empOne.setSalary(<span class="number">1000</span>);</span><br><span class="line">        empOne.printEmp();</span><br><span class="line">        System.out.println(empOne.salary);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> salary;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>比如在上面代码中，尽管实例变量声明在类的尾部，在之前方法中仍可访问。</p>
<h3 id="类变量-静态变量"><a href="#类变量-静态变量" class="headerlink" title="类变量(静态变量)"></a>类变量(静态变量)</h3><p>&emsp;&emsp;类变量有如下要求：</p>
<ul>
<li>类变量也称为静态变量，在类中以<code>static</code>关键字声明，但必须在方法构造方法和语句块之外。</li>
<li>无论一个类创建了多少个对象，类只拥有类变量的一份拷贝。</li>
<li>静态变量储存在静态存储区，经常被声明为常量，很少单独使用<code>static</code>声明变量。</li>
<li>静态变量在程序开始时创建，在程序结束时销毁。</li>
<li>与实例变量具有相似的可见性。但为了对类的使用者可见，大多数静态变量声明为<code>public</code>类型。</li>
<li>默认值和实例变量相似，数值型变量默认值是<code>0</code>，布尔型默认值是<code>false</code>，引用类型默认值是<code>null</code>。变量的值可以在声明的时候指定，也可以在构造方法中指定。此外，静态变量还可以在静态语句块中初始化。</li>
<li>静态变量可以通过<code>ClassName.VariableName</code>的方式访问。</li>
<li>类变量被声明为<code>public static final</code>类型时，类变量名称一般建议使用大写字母。如果静态变量不是<code>public</code>和<code>final</code>类型，其命名方式与实例变量以及局部变量的命名方式一致。</li>
</ul>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">double</span> salary; <span class="comment">/* salary是静态的私有变量 */</span></span><br><span class="line">    <span class="comment">/* DEPARTMENT是一个常量 */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String DEPARTMENT = <span class="string">"开发人员"</span>;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        salary = <span class="number">10000</span>;</span><br><span class="line">        System.out.println(DEPARTMENT + <span class="string">"平均工资："</span> + salary);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">开发人员平均工资：10000.0</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;对于下面的程序，无论创建多少个实例对象，永远都只分配了一个<code>staticInt</code>变量。并且每创建一个实例对象，这个<code>staticInt</code>就会加<code>1</code>。但是每创建一个实例对象，就会分配一个<code>random</code>，即可以分配多个<code>random</code>，并且每个<code>random</code>的值都只自加了<code>1</code>次：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> staticInt = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> random = <span class="number">2</span>;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StaticTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        staticInt++;</span><br><span class="line">        random++;</span><br><span class="line">        System.out.println(<span class="string">"staticInt = "</span> + staticInt + <span class="string">"  random = "</span> + random);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        StaticTest test = <span class="keyword">new</span> StaticTest();</span><br><span class="line">        StaticTest test2 = <span class="keyword">new</span> StaticTest();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">staticInt = 3  random = 3</span><br><span class="line">staticInt = 4  random = 3</span><br></pre></td></tr></table></figure>
<h3 id="类变量赋值方法"><a href="#类变量赋值方法" class="headerlink" title="类变量赋值方法"></a>类变量赋值方法</h3><ul>
<li><code>无final修饰</code>：声明时赋值，构造器中赋值，静态语句块或静态方法赋值。</li>
<li><code>有final修饰</code>：声明时赋值，声明与赋值分开可在静态语句块中赋值。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> staticInt = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> random = <span class="number">2</span>;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StaticTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        staticInt++;</span><br><span class="line">        random++;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"类变量与对象变量的值变化"</span>);</span><br><span class="line">        StaticTest test = <span class="keyword">new</span> StaticTest();</span><br><span class="line">        System.out.println(<span class="string">"  实例1：staticInt:"</span> + test.staticInt + <span class="string">" -- random:"</span> + test.random);</span><br><span class="line">        StaticTest test2 = <span class="keyword">new</span> StaticTest();</span><br><span class="line">        System.out.println(<span class="string">"  实例2：staticInt:"</span> + test.staticInt + <span class="string">" -- random:"</span> + test.random);</span><br><span class="line">        System.out.println(<span class="string">"静态变量赋值"</span>);</span><br><span class="line">        System.out.println(<span class="string">"  静态语句块起作用:"</span> + A.staticA);</span><br><span class="line">        A a = <span class="keyword">new</span> A();</span><br><span class="line">        System.out.println(<span class="string">"  构造器起作用:"</span> + a.staticA);</span><br><span class="line">        a.toChange();</span><br><span class="line">        System.out.println(<span class="string">"  静态方法1起作用:"</span> + A.staticA);</span><br><span class="line">        a.toChange2();</span><br><span class="line">        System.out.println(<span class="string">"  静态方法2起作用:"</span> + A.staticA);</span><br><span class="line">        System.out.println(<span class="string">"常量赋值"</span>);</span><br><span class="line">        System.out.println(<span class="string">"  静态语句赋值:"</span> + B.staticB);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String staticA = <span class="string">"A"</span>;</span><br><span class="line">​</span><br><span class="line">    <span class="keyword">static</span> &#123; <span class="comment">/* 静态语句块修改值 */</span></span><br><span class="line">        staticA = <span class="string">"A1"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">()</span> </span>&#123; <span class="comment">/* 构造器修改值 */</span></span><br><span class="line">        staticA = <span class="string">"A2"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">toChange</span><span class="params">()</span> </span>&#123; <span class="comment">/* 静态方法起作用 */</span></span><br><span class="line">        staticA = <span class="string">"A3"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">toChange2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        staticA = <span class="string">"A4"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String staticB; <span class="comment">/* 声明与赋值分离 */</span></span><br><span class="line">​</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        staticB = <span class="string">"B"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">类变量与对象变量的值变化</span><br><span class="line">  实例1：staticInt:3 -- random:3</span><br><span class="line">  实例2：staticInt:4 -- random:3</span><br><span class="line">静态变量赋值</span><br><span class="line">  静态语句块起作用:A1</span><br><span class="line">  构造器起作用:A2</span><br><span class="line">  静态方法1起作用:A3</span><br><span class="line">  静态方法2起作用:A4</span><br><span class="line">常量赋值</span><br><span class="line">  静态语句赋值:B</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/23/Java/方法/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/Java/方法/" itemprop="url">方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T16:40:03+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;我们经常使用到<code>System.out.println</code>，那么它是什么呢？<code>System</code>是系统类，<code>out</code>是标准输出对象，<code>println</code>是一个方法。这句话的用法是调用系统类<code>System</code>中的标准输出对象<code>out</code>中的方法<code>println</code>。<br>&emsp;&emsp;Java方法是语句的集合，它们在一起执行一个功能。方法是解决一类问题的步骤的有序组合；方法包含于类或对象中；方法在程序中被创建，在其他地方被引用。<br>&emsp;&emsp;方法的优点如下：使程序变得更简短而清晰；有利于程序维护；可以提高程序开发的效率；提高了代码的重用性。<br>&emsp;&emsp;方法的命名规则：</p>
<ul>
<li>方法的名字的第一个单词应以小写字母作为开头，后面的单词则用大写字母开头写，不使用连接符，例如<code>addPerson</code>。</li>
<li>下划线可能出现在<code>JUnit</code>测试方法名称中，用以分隔名称的逻辑组件。一个典型的模式是<code>test&lt;MethodUnderTest&gt;_&lt;state&gt;</code>，例如<code>testPop_emptyStack</code>。</li>
</ul>
<h3 id="方法的定义"><a href="#方法的定义" class="headerlink" title="方法的定义"></a>方法的定义</h3><p>&emsp;&emsp;一般情况下，定义一个方法包含以下语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">修饰符 返回值类型 方法名 (参数类型 参数名) &#123;</span><br><span class="line">    ...</span><br><span class="line">    方法体</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> 返回值;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法包含一个方法名和一个方法体。下面是一个方法的所有部分：</p>
<ul>
<li><code>修饰符</code>：修饰符，这是可选的，告诉编译器如何调用该方法，定义了该方法的访问类型。</li>
<li><code>返回值类型</code>：方法可能会返回值。有些方法执行所需的操作，但没有返回值。在这种情况下，返回值类型是关键字<code>void</code>。</li>
<li><code>方法名</code>：方法的实际名称，方法名和参数表共同构成方法签名。</li>
<li><code>参数类型</code>：参数像是一个占位符。当方法被调用时，传递值给参数，这个值被称为实参或变量。参数列表是指方法的参数类型、顺序和参数的个数。参数是可选的，方法可以不包含任何参数。</li>
<li><code>方法体</code>：方法体包含具体的语句，定义该方法的功能。</li>
</ul>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">age</span><span class="params">(<span class="keyword">int</span> birthday)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参数可以有多个：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">float</span> <span class="title">interest</span><span class="params">(<span class="keyword">float</span> principal, <span class="keyword">int</span> year)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意，在一些其它语言中，方法指的是过程和函数，一个返回非void类型返回值的方法称为<code>函数</code>，一个返回void类型返回值的方法叫做<code>过程</code>。<br>&emsp;&emsp;下面的方法包含2个参数<code>num1</code>和<code>num2</code>，它返回这两个参数的最大值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> num1, <span class="keyword">int</span> num2)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> result;</span><br><span class="line">   <span class="keyword">if</span> (num1 &gt; num2)</span><br><span class="line">      result = num1;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">      result = num2;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="方法调用"><a href="#方法调用" class="headerlink" title="方法调用"></a>方法调用</h3><p>&emsp;&emsp;Java支持两种调用方法的方式，根据方法是否返回值来选择。当程序调用一个方法时，程序的控制权交给了被调用的方法。当被调用方法的返回语句执行或者到达方法体闭括号时候，交还控制权给程序。下面的例子演示如何定义一个方法，以及如何调用它：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestMax</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123; <span class="comment">/* 主方法 */</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">int</span> j = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> k = max(i, j);</span><br><span class="line">        <span class="comment">/* 输出“5和2比较，最大值是5” */</span></span><br><span class="line">        System.out.println(i + <span class="string">"和"</span> + j + <span class="string">"比较，最大值是"</span> + k);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="comment">/* 返回两个整数变量较大的值 */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> num1, <span class="keyword">int</span> num2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result;</span><br><span class="line">        <span class="keyword">if</span> (num1 &gt; num2)</span><br><span class="line">            result = num1;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            result = num2;</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="void关键字"><a href="#void关键字" class="headerlink" title="void关键字"></a>void关键字</h3><p>&emsp;&emsp;代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestVoidMethod</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        printGrade(<span class="number">78.5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printGrade</span><span class="params">(<span class="keyword">double</span> score)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (score &gt;= <span class="number">90.0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">'A'</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (score &gt;= <span class="number">80.0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">'B'</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (score &gt;= <span class="number">70.0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">'C'</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (score &gt;= <span class="number">60.0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">'D'</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">'F'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="通过值传递参数"><a href="#通过值传递参数" class="headerlink" title="通过值传递参数"></a>通过值传递参数</h3><p>&emsp;&emsp;调用一个方法时候需要提供参数，你必须按照参数列表指定的顺序提供：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPassByValue</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num1 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> num2 = <span class="number">2</span>;</span><br><span class="line">​</span><br><span class="line">        System.out.println(<span class="string">"交换前num1的值为"</span> + num1 + <span class="string">"，num2的值为"</span> + num2);</span><br><span class="line">        swap(num1, num2); <span class="comment">/* 调用swap方法 */</span></span><br><span class="line">        System.out.println(<span class="string">"交换后num1的值为"</span> + num1 + <span class="string">"，num2的值为"</span> + num2);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="comment">/* 交换两个变量的方法 */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> n1, <span class="keyword">int</span> n2)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t进入swap方法"</span>);</span><br><span class="line">        System.out.println(<span class="string">"\t\t交换前n1的值为"</span> + n1 + <span class="string">"，n2的值为"</span> + n2);</span><br><span class="line">        <span class="comment">/* 交换n1与n2的值 */</span></span><br><span class="line">        <span class="keyword">int</span> temp = n1;</span><br><span class="line">        n1 = n2;</span><br><span class="line">        n2 = temp;</span><br><span class="line">        System.out.println(<span class="string">"\t\t交换后n1的值为"</span> + n1 + <span class="string">"，n2的值为"</span> + n2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">交换前num1的值为1，num2的值为2</span><br><span class="line">    进入swap方法</span><br><span class="line">        交换前n1的值为1，n2的值2</span><br><span class="line">        交换后n1的值为2，n2的值1</span><br><span class="line">交换后num1的值为1，num2的值为2</span><br></pre></td></tr></table></figure>
<p>传递两个参数调用swap方法。有趣的是，方法被调用后，实参的值并没有改变。</p>
<h3 id="方法的重载"><a href="#方法的重载" class="headerlink" title="方法的重载"></a>方法的重载</h3><p>&emsp;&emsp;上面使用的max方法仅仅适用于int型数据，但如果你想得到两个浮点类型数据的最大值呢？解决方法是创建另一个有相同名字但参数不同的方法，如下面代码所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">max</span><span class="params">(<span class="keyword">double</span> num1, <span class="keyword">double</span> num2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num1 &gt; num2)</span><br><span class="line">        <span class="keyword">return</span> num1;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;如果你调用max方法时传递的是int型参数，则int型参数的max方法就会被调用；如果传递的是double型参数，则double类型的max方法体会被调用，这叫做方法重载。就是说一个类的两个方法拥有相同的名字，但是有不同的参数列表。Java编译器根据方法签名判断哪个方法应该被调用。<br>&emsp;&emsp;方法重载可以让程序更清晰易读。重载的方法必须拥有不同的参数列表，你不能仅仅依据修饰符或者返回类型的不同来重载方法。</p>
<h3 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h3><p>&emsp;&emsp;变量的范围是程序中该变量可以被引用的部分。方法内定义的变量被称为局部变量，局部变量的作用范围从声明开始，直到包含它的块结束。参数实际上是一个局部变量。<br>&emsp;&emsp;for循环的初始化部分声明的变量，其作用范围在整个循环，但循环体内声明的变量其适用范围是从它声明到循环体结束。</p>
<h3 id="命令行参数的使用"><a href="#命令行参数的使用" class="headerlink" title="命令行参数的使用"></a>命令行参数的使用</h3><p>&emsp;&emsp;有时候你希望运行一个程序时候再传递给它消息，这要靠传递命令行参数给main函数实现。命令行参数是在执行程序时候紧跟在程序名字后面的信息。下面的程序打印所有的命令行参数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CommandLine</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">"args["</span> + i + <span class="string">"]: "</span> + args[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ javac CommandLine.java</span><br><span class="line">$ java CommandLine this is a <span class="built_in">command</span> line 200 -100</span><br><span class="line">args[0]: this</span><br><span class="line">args[1]: is</span><br><span class="line">args[2]: a</span><br><span class="line">args[3]: <span class="built_in">command</span></span><br><span class="line">args[4]: line</span><br><span class="line">args[5]: 200</span><br><span class="line">args[6]: -100</span><br></pre></td></tr></table></figure>
<p><code>String[] args</code>可以看出来它是一个数组，在命令行中运行<code>Test.class</code>文件，你可以这样写：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java Test runoob</span><br></pre></td></tr></table></figure>
<p>相当于给数组传入了一个<code>runoob</code>字符串。<code>String[] args</code>还有一种等价的写法<code>String... args</code>，前者为数组形式，后者为可变参数形式。</p>
<h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><p>&emsp;&emsp;当一个对象被创建时，构造方法用来初始化该对象。构造方法和它所在类的名字相同，但构造方法没有返回值。通常会使用构造方法给一个类的实例变量赋初值，或者执行其它必要的步骤来创建一个完整的对象。<br>&emsp;&emsp;不管你与否自定义构造方法，所有的类都有构造方法，因为Java自动提供了一个默认构造方法，它把所有成员初始化为0。一旦你定义了自己的构造方法，默认构造方法就会失效：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">​</span><br><span class="line">    MyClass() &#123; <span class="comment">/* 这是构造函数 */</span></span><br><span class="line">        x = <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>你可以像下面这样调用构造方法来初始化一个对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        MyClass t1 = <span class="keyword">new</span> MyClass();</span><br><span class="line">        MyClass t2 = <span class="keyword">new</span> MyClass();</span><br><span class="line">        System.out.println(t1.x + <span class="string">" "</span> + t2.x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h3><p>&emsp;&emsp;<code>JDK 1.5</code>开始，Java支持传递同类型的可变参数给一个方法。方法的可变参数的声明如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">typeName... parameterName</span><br></pre></td></tr></table></figure>
<p>在方法声明中，在指定参数类型后加一个省略号(<code>...</code>)。一个方法中只能指定一个可变参数，它必须是方法的最后一个参数，任何普通的参数必须在它之前声明：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VarargsDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">/* 调用可变参数的方法 */</span></span><br><span class="line">        printMax(<span class="number">34</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">56.5</span>);</span><br><span class="line">        printMax(<span class="keyword">new</span> <span class="keyword">double</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printMax</span><span class="params">(<span class="keyword">double</span>... numbers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (numbers.length == <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">"No argument passed"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">double</span> result = numbers[<span class="number">0</span>];</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; numbers.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (numbers[i] &gt; result) &#123;</span><br><span class="line">                result = numbers[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"The max value is "</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The max value is 56.5</span><br><span class="line">The max value is 3.0</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/23/Java/数组/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/23/Java/数组/" itemprop="url">数组</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-23T14:48:07+08:00">
                2018-12-23
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;Java提供的数组是用来存储固定大小的同类型元素。你可以声明一个数组变量，例如<code>numbers[100]</code>来代替直接声明100个独立变量<code>number0</code>、<code>number1</code>、…、<code>number99</code>。<br>&emsp;&emsp;首先必须声明数组变量，才能在程序中使用数组。下面是声明数组变量的语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dataType[] arrayRefVar; <span class="comment">/* 首选的方法 */</span></span><br><span class="line">dataType arrayRefVar[]; <span class="comment">/* 效果相同，但不是首选方法 */</span></span><br></pre></td></tr></table></figure>
<p>下面是这两种语法的代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span>[] myList; <span class="comment">/* 首选的方法 */</span></span><br><span class="line"><span class="keyword">double</span> myList[]; <span class="comment">/* 效果相同，但不是首选方法 */</span></span><br></pre></td></tr></table></figure>
<p>Java使用new操作符来创建数组，语法如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arrayRefVar = <span class="keyword">new</span> dataType[arraySize];</span><br></pre></td></tr></table></figure>
<p>上面的语句做了两件事：使用<code>dataType[arraySize]</code>创建了一个数组；把新创建的数组的引用赋值给变量<code>arrayRefVar</code>。数组变量的声明和创建数组可以用一条语句完成：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataType[] arrayRefVar = <span class="keyword">new</span> dataType[arraySize];</span><br></pre></td></tr></table></figure>
<p>另外，你还可以使用如下的方式创建数组：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataType[] arrayRefVar = &#123;value0, value1, ..., valuek&#125;;</span><br></pre></td></tr></table></figure>
<p>数组的元素是通过索引访问的，数组索引从<code>0</code>开始，所以索引值从<code>0</code>到<code>arrayRefVar.length - 1</code>。代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestArray</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> size = <span class="number">10</span>; <span class="comment">/* 数组大小 */</span></span><br><span class="line">        <span class="keyword">double</span>[] myList = <span class="keyword">new</span> <span class="keyword">double</span>[size]; <span class="comment">/* 定义数组 */</span></span><br><span class="line">        myList[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        myList[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        myList[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">        myList[<span class="number">3</span>] = <span class="number">3</span>;</span><br><span class="line">        myList[<span class="number">4</span>] = <span class="number">4</span>;</span><br><span class="line">        <span class="comment">/* 计算所有元素的总和 */</span></span><br><span class="line">        <span class="keyword">double</span> total = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            total += myList[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* 输出“总和为：10.0” */</span></span><br><span class="line">        System.out.println(<span class="string">"总和为："</span> + total);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="处理数组"><a href="#处理数组" class="headerlink" title="处理数组"></a>处理数组</h3><p>&emsp;&emsp;数组的元素类型和数组的大小都是确定的，所以当处理数组元素时候，我们通常使用<code>基本循环</code>或者<code>foreach循环</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestArray</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span>[] myList = &#123;<span class="number">1.9</span>, <span class="number">2.9</span>, <span class="number">3.4</span>, <span class="number">3.5</span>&#125;;</span><br><span class="line">        <span class="comment">/* 打印所有数组元素 */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; myList.length; i++) &#123;</span><br><span class="line">            System.out.println(myList[i] + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* 计算所有元素的总和 */</span></span><br><span class="line">        <span class="keyword">double</span> total = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; myList.length; i++) &#123;</span><br><span class="line">            total += myList[i];</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"Total is "</span> + total);</span><br><span class="line">        <span class="comment">/* 查找最大元素 */</span></span><br><span class="line">        <span class="keyword">double</span> max = myList[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; myList.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (myList[i] &gt; max) &#123;</span><br><span class="line">                max = myList[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"Max is "</span> + max);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="foreach循环"><a href="#foreach循环" class="headerlink" title="foreach循环"></a>foreach循环</h3><p>&emsp;&emsp;<code>JDK 1.5</code>引进了一种新的循环类型，被称为<code>foreach循环</code>或者<code>加强型循环</code>，它能在不使用下标的情况下遍历数组：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestArray</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span>[] myList = &#123;<span class="number">1.9</span>, <span class="number">2.9</span>, <span class="number">3.4</span>, <span class="number">3.5</span>&#125;;</span><br><span class="line">        <span class="comment">/* 打印所有数组元素 */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">double</span> element : myList) &#123;</span><br><span class="line">            System.out.println(element);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="数组和函数"><a href="#数组和函数" class="headerlink" title="数组和函数"></a>数组和函数</h3><p>&emsp;&emsp;数组可以作为参数传递给方法。下面的例子打印int数组中元素：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestArray</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span>[] myList = &#123;<span class="number">1.9</span>, <span class="number">2.9</span>, <span class="number">3.4</span>, <span class="number">3.5</span>&#125;;</span><br><span class="line">        printArray(myList);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printArray</span><span class="params">(<span class="keyword">double</span>[] array)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">            System.out.print(array[i] + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>数组也可以作为函数的返回值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestArray</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] numList = reverse(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> element : numList) &#123;</span><br><span class="line">            System.out.println(element);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] reverse(<span class="keyword">int</span>[] list) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[list.length];</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = result.length - <span class="number">1</span>; i &lt; list.length; i++, j--) &#123;</span><br><span class="line">            result[j] = list[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h3><p>&emsp;&emsp;多维数组可以看成是数组的数组，比如二维数组就是一个特殊的一维数组，其每一个元素都是一个一维数组：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str[][] = <span class="keyword">new</span> String[<span class="number">3</span>][<span class="number">4</span>];</span><br></pre></td></tr></table></figure>
<p>多维数组可以直接为每一维分配空间，语法格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type arrayName = <span class="keyword">new</span> type[arraylenght1][arraylenght2];</span><br></pre></td></tr></table></figure>
<p><code>type</code>可以为基本数据类型和复合数据类型，<code>arraylenght1</code>和<code>arraylenght2</code>必须为正整数，<code>arraylenght1</code>为行数，<code>arraylenght2</code>为列数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[][] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>][<span class="number">3</span>]; <span class="comment">/* 二维数组a可以看成一个两行三列的数组 */</span></span><br></pre></td></tr></table></figure>
<p>也可以从最高维开始，分别为每一维分配空间：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">String s[][] = <span class="keyword">new</span> String[<span class="number">2</span>][];</span><br><span class="line">s[<span class="number">0</span>] = <span class="keyword">new</span> String[<span class="number">2</span>];</span><br><span class="line">s[<span class="number">1</span>] = <span class="keyword">new</span> String[<span class="number">3</span>];</span><br><span class="line">s[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">new</span> String(<span class="string">"Good"</span>);</span><br><span class="line">s[<span class="number">0</span>][<span class="number">1</span>] = <span class="keyword">new</span> String(<span class="string">"Luck"</span>);</span><br><span class="line">s[<span class="number">1</span>][<span class="number">0</span>] = <span class="keyword">new</span> String(<span class="string">"to"</span>);</span><br><span class="line">s[<span class="number">1</span>][<span class="number">1</span>] = <span class="keyword">new</span> String(<span class="string">"you"</span>);</span><br><span class="line">s[<span class="number">1</span>][<span class="number">2</span>] = <span class="keyword">new</span> String(<span class="string">"!"</span>);</span><br></pre></td></tr></table></figure>
<p><code>s[0] = new String[2]</code>和<code>s[1] = new String[3]</code>是为最高维分配引用空间，也就是为最高维限制其能保存数据的最长的长度，然后再为其每个数组元素单独分配空间。<br>&emsp;&emsp;对二维数组中的每个元素，引用方式为<code>arrayName[index1][index2]</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num[<span class="number">1</span>][<span class="number">0</span>];</span><br></pre></td></tr></table></figure>
<h3 id="Arrays类"><a href="#Arrays类" class="headerlink" title="Arrays类"></a>Arrays类</h3><p>&emsp;&emsp;<code>java.util.Arrays</code>类能方便地操作数组，具有以下功能：</p>
<ul>
<li><code>给数组赋值</code>：通过<code>fill</code>方法。</li>
<li><code>对数组排序</code>：通过<code>sort</code>方法，默认按升序。</li>
<li><code>比较数组</code>：通过<code>equals</code>方法比较数组中元素值是否相等。</li>
<li><code>查找数组元素</code>：通过<code>binarySearch</code>方法能对排序好的数组进行二分查找法操作。</li>
</ul>
<p>它提供的所有方法都是静态的：</p>
<ul>
<li><code>public static int binarySearch(Object[] a, Object key)</code>：用二分查找算法在给定数组中搜索给定值的对象(<code>Byte</code>、<code>Int</code>、<code>double</code>等)。数组在调用前必须排序好的。如果查找值包含在数组中，则返回搜索键的索引，否则返回<code>-1</code>。</li>
<li><code>public static boolean equals(long[] a, long[] a2)</code>：如果两个指定的long型数组彼此相等，则返回true。如果两个数组包含相同数量的元素，并且两个数组中的所有相应元素对都是相等的，则认为这两个数组是相等的。同样的方法适用于所有的其他基本数据类型(<code>Byte</code>、<code>short</code>、<code>Int</code>等)。</li>
<li><code>public static void fill(int[] a, int val)</code>：将指定的int值分配给指定int型数组指定范围中的每个元素。同样的方法适用于所有的其他基本数据类型(<code>Byte</code>、<code>short</code>、<code>Int</code>等)。</li>
<li><code>public static void sort(Object[] a)</code>：对指定对象数组根据其元素的自然顺序进行升序排列。同样的方法适用于所有的其他基本数据类型(<code>Byte</code>、<code>short</code>、<code>Int</code>等)。</li>
</ul>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestArrays</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (array != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">                System.out.print(array[i] + <span class="string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="comment">/* 填充数组 */</span></span><br><span class="line">        Arrays.fill(array, <span class="number">5</span>);</span><br><span class="line">        System.out.println(<span class="string">"填充数组：Arrays.fill(array, 5)："</span>);</span><br><span class="line">        TestArrays.output(array);</span><br><span class="line">        <span class="comment">/* 将数组的第2和第3个元素赋值为8 */</span></span><br><span class="line">        Arrays.fill(array, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>);</span><br><span class="line">        System.out.println(<span class="string">"将数组的第2和第3个元素赋值为8：Arrays.fill(array, 2, 4, 8)："</span>);</span><br><span class="line">        TestArrays.output(array);</span><br><span class="line">        <span class="keyword">int</span>[] array1 = &#123;<span class="number">7</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>&#125;;</span><br><span class="line">        <span class="comment">/* 对数组的第2个到第6个进行排序进行排序 */</span></span><br><span class="line">        Arrays.sort(array1, <span class="number">2</span>, <span class="number">7</span>);</span><br><span class="line">        System.out.println(<span class="string">"对数组的第2个到第6个元素进行排序进行排序：Arrays.sort(array,2,7)："</span>);</span><br><span class="line">        TestArrays.output(array1);</span><br><span class="line">        <span class="comment">/* 对整个数组进行排序 */</span></span><br><span class="line">        Arrays.sort(array1);</span><br><span class="line">        System.out.println(<span class="string">"对整个数组进行排序：Arrays.sort(array1)："</span>);</span><br><span class="line">        TestArrays.output(array1);</span><br><span class="line">        <span class="comment">/* 比较数组元素是否相等 */</span></span><br><span class="line">        System.out.println(<span class="string">"比较数组元素是否相等：Arrays.equals(array, array1):"</span> + <span class="string">"\n"</span> + Arrays.equals(array, array1));</span><br><span class="line">        <span class="keyword">int</span>[] array2 = array1.clone();</span><br><span class="line">        System.out.println(<span class="string">"克隆后数组元素是否相等：Arrays.equals(array1, array2):"</span> + <span class="string">"\n"</span> + Arrays.equals(array1, array2));</span><br><span class="line">        <span class="comment">/* 使用二分搜索算法查找指定元素所在的下标(必须是排序好的，否则结果不正确) */</span></span><br><span class="line">        Arrays.sort(array1);</span><br><span class="line">        System.out.println(<span class="string">"元素3在array1中的位置：Arrays.binarySearch(array1, 3)："</span> + <span class="string">"\n"</span> + Arrays.binarySearch(array1, <span class="number">3</span>));</span><br><span class="line">        <span class="comment">/* 如果不存在就返回负数 */</span></span><br><span class="line">        System.out.println(<span class="string">"元素9在array1中的位置：Arrays.binarySearch(array1, 9)："</span> + <span class="string">"\n"</span> + Arrays.binarySearch(array1, <span class="number">9</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">填充数组：Arrays.fill(array, 5)：</span><br><span class="line">5 5 5 5 5</span><br><span class="line">将数组的第2和第3个元素赋值为8：Arrays.fill(array, 2, 4, 8)：</span><br><span class="line">5 5 8 8 5</span><br><span class="line">对数组的第2个到第6个元素进行排序进行排序：Arrays.sort(array,2,7)：</span><br><span class="line">7 8 2 3 3 6 12 5 4</span><br><span class="line">对整个数组进行排序：Arrays.sort(array1)：</span><br><span class="line">2 3 3 4 5 6 7 8 12</span><br><span class="line">比较数组元素是否相等：Arrays.equals(array, array1):</span><br><span class="line"><span class="literal">false</span></span><br><span class="line">克隆后数组元素是否相等：Arrays.equals(array1, array2):</span><br><span class="line"><span class="literal">true</span></span><br><span class="line">元素3在array1中的位置：Arrays.binarySearch(array1, 3)：</span><br><span class="line">1</span><br><span class="line">元素9在array1中的位置：Arrays.binarySearch(array1, 9)：</span><br><span class="line">-9</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/22/Java/异常处理/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/22/Java/异常处理/" itemprop="url">异常处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-22T21:54:36+08:00">
                2018-12-22
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;异常是程序中的一些错误，但并不是所有的错误都是异常，并且错误有时候是可以避免的。例如你的代码少了一个分号，那么运行出来结果是提示错误<code>java.lang.Error</code>；如果你使用<code>System.out.println(11/0)</code>，用0做了除数，会抛出<code>java.lang.ArithmeticException</code>的异常。<br>&emsp;&emsp;异常发生的原因有很多，通常包含以下几大类：用户输入了非法数据；要打开的文件不存在；网络通信时连接中断；JVM内存溢出。这些异常有的是因为用户错误引起，有的是程序错误引起的，还有其它一些是因为物理错误引起的。<br>&emsp;&emsp;要理解Java异常处理是如何工作的，你需要掌握以下三种类型的异常：</p>
<ul>
<li><code>检查性异常</code>：最具代表的检查性异常是用户错误或问题引起的异常，这是程序员无法预见的。例如要打开一个不存在文件时，一个异常就发生了，这些异常在编译时不能被简单地忽略。</li>
<li><code>运行时异常</code>：运行时异常是可能被程序员避免的异常。与检查性异常相反，运行时异常可以在编译时被忽略。</li>
<li><code>错误</code>：错误不是异常，而是脱离程序员控制的问题。例如当栈溢出时，一个错误就发生了，它们在编译时检查不到。</li>
</ul>
<h3 id="Exception类的层次"><a href="#Exception类的层次" class="headerlink" title="Exception类的层次"></a>Exception类的层次</h3><p>&emsp;&emsp;所有的异常类是从<code>java.lang.Exception</code>类继承的子类，Exception类是Throwable类的子类。除了Exception类外，Throwable还有一个子类Error，Error用来指示运行时环境发生的错误，例如JVM内存溢出。一般情况下，程序不会从错误中恢复。异常类有两个主要的子类：<code>IOException</code>类和<code>RuntimeException</code>类。</p>
<h3 id="Java内置异常类"><a href="#Java内置异常类" class="headerlink" title="Java内置异常类"></a>Java内置异常类</h3><p>&emsp;&emsp;Java定义了一些异常类在<code>java.lang</code>标准包中。标准运行时异常类的子类是最常见的异常类。由于<code>java.lang</code>包是默认加载到所有的Java程序的，所以大部分从运行时异常类继承而来的异常都可以直接使用。<br>&emsp;&emsp;Java根据各个类库也定义了一些其他的异常，下面列出了Java的非检查性异常：</p>
<ul>
<li><code>ArithmeticException</code>：当出现异常的运算条件时，抛出此异常。例如一个整数除以零时，Java将会抛出此类异常。</li>
<li><code>ArrayIndexOutOfBoundsException</code>：用非法索引访问数组时抛出的异常。如果索引为负或大于等于数组大小，则该索引为非法索引。</li>
<li><code>ArrayStoreException</code>：试图将错误类型的对象存储到一个对象数组时抛出的异常。</li>
<li><code>ClassCastException</code>：试图将对象强制转换为不是实例的子类时抛出该异常。</li>
<li><code>IllegalArgumentException</code>：抛出的异常表明向方法传递了一个不合法或不正确的参数。</li>
<li><code>IllegalMonitorStateException</code>：抛出的异常表明某一线程已经试图等待对象的监视器，或者试图通知其他正在等待对象的监视器而本身没有指定监视器的线程。</li>
<li><code>IllegalStateException</code>：在非法或不适当的时间调用方法时产生的信号。换句话说，即Java环境或Java应用程序没有处于请求操作所要求的适当状态下。</li>
<li><code>IllegalThreadStateException</code>：线程没有处于请求操作所要求的适当状态时抛出的异常。</li>
<li><code>IndexOutOfBoundsException</code>：指示某排序索引(例如对数组、字符串或向量的排序)超出范围时抛出。</li>
<li><code>NegativeArraySizeException</code>：如果应用程序试图创建大小为负的数组，则抛出该异常。</li>
<li><code>NullPointerException</code>：当应用程序试图在需要对象的地方使用null时，抛出该异常。</li>
<li><code>NumberFormatException</code>：当应用程序试图将字符串转换成一种数值类型，但该字符串不能转换为适当格式时，抛出该异常。</li>
<li><code>SecurityException</code>：由安全管理器抛出的异常，指示存在安全侵犯。</li>
<li><code>StringIndexOutOfBoundsException</code>：此异常由String方法抛出，指示索引或者为负，或者超出字符串的大小。</li>
<li><code>UnsupportedOperationException</code>：当出现不支持的操作时，抛出该异常。</li>
</ul>
<p>下面的表中列出了Java定义在<code>java.lang</code>包中的检查性异常类：</p>
<ul>
<li><code>ClassNotFoundException</code>：应用程序加载类时，如果找不到相应的类，抛出该异常。</li>
<li><code>CloneNotSupportedException</code>：当调用Object类中的clone方法克隆对象，但该对象的类无法实现Cloneable接口时，抛出该异常。</li>
<li><code>IllegalAccessException</code>：拒绝访问一个类的时候，抛出该异常。</li>
<li><code>InstantiationException</code>：当试图使用Class类中的newInstance方法创建一个类的实例，而指定的类对象因为是一个接口或是一个抽象类而无法实例化时，抛出该异常。</li>
<li><code>InterruptedException</code>：一个线程被另一个线程中断，抛出该异常。</li>
<li><code>NoSuchFieldException</code>：请求的变量不存在。</li>
<li><code>NoSuchMethodException</code>：请求的方法不存在。</li>
</ul>
<h3 id="异常方法"><a href="#异常方法" class="headerlink" title="异常方法"></a>异常方法</h3><p>&emsp;&emsp;下面的列表是Throwable类的主要方法：</p>
<ul>
<li><code>public String getMessage()</code>：返回关于发生的异常的详细信息。这个消息在Throwable类的构造函数中初始化了。</li>
<li><code>public Throwable getCause()</code>：返回一个Throwable对象代表异常原因。</li>
<li><code>public String toString()</code>：使用getMessage的结果返回类的串级名字。</li>
<li><code>public void printStackTrace()</code>：打印toString结果和栈层次到<code>System.err</code>，即错误输出流。</li>
<li><code>public StackTraceElement [] getStackTrace()</code>：返回一个包含堆栈层次的数组。下标为0的元素代表栈顶，最后一个元素代表方法调用堆栈的栈底。</li>
<li><code>public Throwable fillInStackTrace()</code>：用当前的调用栈层次填充Throwable对象栈层次，添加到栈层次任何先前信息中。</li>
</ul>
<h3 id="捕获异常"><a href="#捕获异常" class="headerlink" title="捕获异常"></a>捕获异常</h3><p>&emsp;&emsp;使用try和catch关键字可以捕获异常，<code>try/catch</code>代码块放在异常可能发生的地方。<code>try/catch</code>代码块中的代码称为保护代码，使用<code>try/catch</code>的语法如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">/* 程序代码 */</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(ExceptionName e1) &#123;</span><br><span class="line">    <span class="comment">/* Catch块 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Catch语句包含要捕获异常类型的声明。当保护代码块中发生一个异常时，try后面的catch块就会被检查。如果发生的异常包含在catch块中，异常会被传递到该catch块，这和传递一个参数到方法是一样。<br>&emsp;&emsp;下面的例子声明有两个元素的一个数组，当代码试图访问数组的第三个元素的时候，就会抛出一个异常：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcepTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">            System.out.println(<span class="string">"Access element three: "</span> + a[<span class="number">3</span>]);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ArrayIndexOutOfBoundsException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Exception thrown: "</span> + e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"Out of the block"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Exception thrown: java.lang.ArrayIndexOutOfBoundsException: 3</span><br><span class="line">Out of the block</span><br></pre></td></tr></table></figure>
<h3 id="多重捕获块"><a href="#多重捕获块" class="headerlink" title="多重捕获块"></a>多重捕获块</h3><p>&emsp;&emsp;一个try代码块后面跟随多个catch代码块的情况就叫多重捕获，可以在try语句后面添加任意数量的catch块，语法如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (异常类型<span class="number">1</span> 异常的变量名<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (异常类型<span class="number">2</span> 异常的变量名<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (异常类型<span class="number">2</span> 异常的变量名<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码段包含了3个catch块，如果保护代码中发生异常，异常被抛给第一个catch块。如果抛出异常的数据类型与ExceptionType1匹配，它在这里就会被捕获；如果不匹配，它会被传递给第二个catch块。如此，直到异常被捕获或者通过所有的catch块：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    file = <span class="keyword">new</span> FileInputStream(fileName);</span><br><span class="line">    x = (<span class="keyword">byte</span>) file.read();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException i) &#123;</span><br><span class="line">    i.printStackTrace();</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException f) &#123;</span><br><span class="line">    f.printStackTrace();</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="throws-throw关键字"><a href="#throws-throw关键字" class="headerlink" title="throws/throw关键字"></a>throws/throw关键字</h3><p>&emsp;&emsp;throw一般用于程序出现某种逻辑时，程序员主动抛出某种特定类型的异常：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcepTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String s = <span class="string">"abc"</span>;</span><br><span class="line">        <span class="keyword">if</span> (s.equals(<span class="string">"abc"</span>)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Exception <span class="keyword">in</span> thread <span class="string">"main"</span> java.lang.NumberFormatException</span><br><span class="line">    at ExcepTest.main(ExcepTest.java:5)</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;throws是方法可能抛出异常的声明(用在声明方法时，表示该方法可能要抛出异常)，语法如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[(修饰符)] (返回值类型) (方法名) ([参数列表]) [<span class="keyword">throws</span> 异常类<span class="number">1</span> [, 异常类<span class="number">2</span>]] &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当某个方法可能会抛出某种异常时，用于throws声明可能抛出的异常，然后交给上层调用它的方法程序处理：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcepTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">function</span><span class="params">()</span> <span class="keyword">throws</span> NumberFormatException </span>&#123;</span><br><span class="line">        String s = <span class="string">"abc"</span>;</span><br><span class="line">        System.out.println(Double.parseDouble(s));</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            function();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line">            <span class="comment">/* 输出“非数据类型不能转换” */</span></span><br><span class="line">            System.err.println(<span class="string">"非数据类型不能转换"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="finally关键字"><a href="#finally关键字" class="headerlink" title="finally关键字"></a>finally关键字</h3><p>&emsp;&emsp;finally关键字用来创建在try代码块后面执行的代码块。无论是否发生异常，finally代码块中的代码总会被执行。finally代码块出现在catch代码块的最后：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (异常类型<span class="number">1</span> 异常的变量名<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (异常类型<span class="number">2</span> 异常的变量名<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcepTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a[] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"Access element three: "</span> + a[<span class="number">3</span>]);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ArrayIndexOutOfBoundsException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Exception thrown: "</span> + e);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            a[<span class="number">0</span>] = <span class="number">6</span>;</span><br><span class="line">            System.out.println(<span class="string">"First element value: "</span> + a[<span class="number">0</span>]);</span><br><span class="line">            System.out.println(<span class="string">"The finally statement is executed"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Exception thrown: java.lang.ArrayIndexOutOfBoundsException: 3</span><br><span class="line">First element value: 6</span><br><span class="line">The finally statement is executed</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;注意下面的事项：</p>
<ul>
<li>catch不能独立于try存在。</li>
<li>在<code>try/catch</code>后面添加finally块并非强制性要求的。</li>
<li>try代码后不能既没catch块也没finally块。</li>
<li>try、catch、finally块之间不能添加任何代码。</li>
</ul>
<h3 id="声明自定义异常"><a href="#声明自定义异常" class="headerlink" title="声明自定义异常"></a>声明自定义异常</h3><p>&emsp;&emsp;在Java中，你可以自定义异常。编写自己的异常类时需要记住下面的几点：</p>
<ul>
<li>所有异常都必须是<code>Throwable</code>的子类。</li>
<li>如果希望写一个检查性异常类，则需要继承<code>Exception</code>类。</li>
<li>如果你想写一个运行时异常类，那么需要继承<code>RuntimeException</code>类。</li>
</ul>
<p>可以像下面这样定义自己的异常类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>只继承Exception类来创建的异常类是检查性异常类。一个异常类和其它任何类一样，包含有变量和方法。<br>&emsp;&emsp;下面的<code>InsufficientFundsException</code>类是用户定义的异常类，它继承自<code>Exception</code>。以下实例是一个银行账户的模拟，通过银行卡的号码完成识别，可以进行存钱和取钱的操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InsufficientFundsException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* amount用来储存当出现异常(取出钱多于余额时)所缺乏的钱 */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> amount;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">InsufficientFundsException</span><span class="params">(<span class="keyword">double</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.amount = amount;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getAmount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> amount;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为了展示如何使用自定义的异常类，在下面的<code>CheckingAccount</code>类中包含一个<code>withdraw</code>方法，它可能会抛出一个<code>InsufficientFundsException</code>异常：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CheckingAccount</span> </span>&#123; <span class="comment">/* 此类模拟银行账户 */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> balance; <span class="comment">/* 余额 */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> number; <span class="comment">/* 卡号 */</span></span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CheckingAccount</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.number = number;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deposit</span><span class="params">(<span class="keyword">double</span> amount)</span> </span>&#123; <span class="comment">/* 存钱 */</span></span><br><span class="line">        balance += amount;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">withdraw</span><span class="params">(<span class="keyword">double</span> amount)</span> <span class="keyword">throws</span> InsufficientFundsException </span>&#123; <span class="comment">/* 取钱 */</span></span><br><span class="line">        <span class="keyword">if</span> (amount &lt;= balance) &#123;</span><br><span class="line">            balance -= amount;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">double</span> needs = amount - balance;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InsufficientFundsException(needs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getBalance</span><span class="params">()</span> </span>&#123; <span class="comment">/* 返回余额 */</span></span><br><span class="line">        <span class="keyword">return</span> balance;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNumber</span><span class="params">()</span> </span>&#123; <span class="comment">/* 返回卡号 */</span></span><br><span class="line">        <span class="keyword">return</span> number;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面的<code>BankDemo</code>程序示范了如何调用<code>CheckingAccount</code>类的<code>deposit</code>和<code>withdraw</code>方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BankDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        CheckingAccount c = <span class="keyword">new</span> CheckingAccount(<span class="number">101</span>);</span><br><span class="line">        System.out.println(<span class="string">"Depositing $500..."</span>);</span><br><span class="line">        c.deposit(<span class="number">500.00</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"\nWithdrawing $100..."</span>);</span><br><span class="line">            c.withdraw(<span class="number">100.00</span>);</span><br><span class="line">            System.out.println(<span class="string">"\nWithdrawing $600..."</span>);</span><br><span class="line">            c.withdraw(<span class="number">600.00</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InsufficientFundsException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Sorry, but you are short $"</span> + e.getAmount());</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Depositing <span class="variable">$500</span>...</span><br><span class="line">​</span><br><span class="line">Withdrawing <span class="variable">$100</span>...</span><br><span class="line">​</span><br><span class="line">Withdrawing <span class="variable">$600</span>...</span><br><span class="line">InsufficientFundsException</span><br><span class="line">    at CheckingAccount.withdraw(CheckingAccount.java:18)</span><br><span class="line">    at BankDemo.main(BankDemo.java:10)</span><br><span class="line">Sorry, but you are short <span class="variable">$200</span>.0</span><br></pre></td></tr></table></figure>
<h3 id="通用异常"><a href="#通用异常" class="headerlink" title="通用异常"></a>通用异常</h3><p>&emsp;&emsp;在Java中定义了两种类型的异常和错误：</p>
<ul>
<li><code>JVM(Java虚拟机)异常</code>：由JVM抛出的异常或错误，例如<code>NullPointerException</code>类、<code>ArrayIndexOutOfBoundsException</code>类、<code>ClassCastException</code>类。</li>
<li><code>程序级异常</code>：由程序或者API程序抛出的异常，例如<code>IllegalArgumentException</code>类、<code>IllegalStateException</code>类。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/22/Java/运算符/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/22/Java/运算符/" itemprop="url">运算符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-22T14:44:51+08:00">
                2018-12-22
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;作为一门计算机语言，Java也提供了一套丰富的运算符来操纵变量。我们可以把运算符分成以下几组：算术运算符、关系运算符、位运算符、逻辑运算符、赋值运算符和其他运算符。</p>
<h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p>&emsp;&emsp;算术运算符用在数学表达式中，它们的作用和在数学中的作用一样。下表列出了所有的算术运算符(整数变量A的值为10，变量B的值为20)：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code></td>
<td>加法：相加运算符两侧的值</td>
<td><code>A + B</code>等于<code>30</code></td>
</tr>
<tr>
<td><code>-</code></td>
<td>减法：左操作数减去右操作数</td>
<td><code>A – B</code>等于<code>-10</code></td>
</tr>
<tr>
<td><code>*</code></td>
<td>乘法：相乘操作符两侧的值</td>
<td><code>A * B</code>等于<code>200</code></td>
</tr>
<tr>
<td><code>/</code></td>
<td>除法：左操作数除以右操作数</td>
<td><code>B / A</code>等于<code>2</code></td>
</tr>
<tr>
<td><code>%</code></td>
<td>取模：左操作数除以右操作数的余数</td>
<td><code>B % A</code>等于<code>0</code></td>
</tr>
<tr>
<td><code>++</code></td>
<td>自增：操作数的值增加1</td>
<td><code>B++</code>或<code>++B</code>等于<code>21</code></td>
</tr>
<tr>
<td><code>--</code></td>
<td>自减：操作数的值减少1</td>
<td><code>B--</code>或<code>--B</code>等于<code>19</code></td>
</tr>
</tbody>
</table>
</div>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">25</span>;</span><br><span class="line">        <span class="keyword">int</span> d = <span class="number">25</span>;</span><br><span class="line">        System.out.println(<span class="string">"a + b = "</span> + (a + b));</span><br><span class="line">        System.out.println(<span class="string">"a - b = "</span> + (a - b));</span><br><span class="line">        System.out.println(<span class="string">"a * b = "</span> + (a * b));</span><br><span class="line">        System.out.println(<span class="string">"b / a = "</span> + (b / a));</span><br><span class="line">        System.out.println(<span class="string">"b % a = "</span> + (b % a));</span><br><span class="line">        System.out.println(<span class="string">"c % a = "</span> + (c % a));</span><br><span class="line">        System.out.println(<span class="string">"a++ = "</span> + (a++));</span><br><span class="line">        System.out.println(<span class="string">"a-- = "</span> + (a--));</span><br><span class="line">        <span class="comment">// 查看“d++”与“++d”的不同</span></span><br><span class="line">        System.out.println(<span class="string">"d++ = "</span> + (d++));</span><br><span class="line">        System.out.println(<span class="string">"++d = "</span> + (++d));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a + b = 30</span><br><span class="line">a - b = -10</span><br><span class="line">a * b = 200</span><br><span class="line">b / a = 2</span><br><span class="line">b % a = 0</span><br><span class="line">c % a = 5</span><br><span class="line">a++ = 10</span><br><span class="line">a-- = 11</span><br><span class="line">d++ = 25</span><br><span class="line">++d = 27</span><br></pre></td></tr></table></figure>
<h3 id="自增自减运算符"><a href="#自增自减运算符" class="headerlink" title="自增自减运算符"></a>自增自减运算符</h3><p>&emsp;&emsp;自增(<code>++</code>)自减(<code>--</code>)运算符是一种特殊的算术运算符，一般的算术运算符需要两个操作数来进行运算，而自增自减运算符是一个操作数。</p>
<ul>
<li>前缀自增自减法(<code>++a</code>和<code>--a</code>)：先进行自增或者自减运算，再进行表达式运算。</li>
<li>后缀自增自减法(<code>a++</code>和<code>a--</code>)：先进行表达式运算，再进行自增或者自减运算。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">selfAddMinus</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">2</span> * ++a;</span><br><span class="line">        <span class="keyword">int</span> y = <span class="number">2</span> * b++;</span><br><span class="line">        System.out.println(<span class="string">"自增运算符前缀运算后a = "</span> + a + <span class="string">"，x = "</span> + x);</span><br><span class="line">        System.out.println(<span class="string">"自增运算符后缀运算后b = "</span> + b + <span class="string">"，y = "</span> + y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">自增运算符前缀运算后a = 6，x = 12</span><br><span class="line">自增运算符后缀运算后b = 6，y = 10</span><br></pre></td></tr></table></figure>
<h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><p>&emsp;&emsp;下表为Java支持的关系运算符(整数变量A的值为<code>10</code>，变量B的值为<code>20</code>)：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>==</code></td>
<td>检查如果两个操作数的值是否相等，如果相等则条件为真</td>
<td><code>A == B</code>为假</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>检查如果两个操作数的值是否相等，如果值不相等则条件为真</td>
<td><code>A != B</code>为真</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>检查左操作数的值是否大于右操作数的值，如果是则条件为真</td>
<td><code>A &gt; B</code>非真</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>检查左操作数的值是否小于右操作数的值，如果是则条件为真</td>
<td><code>A &lt; B</code>为真</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>检查左操作数的值是否大于或等于右操作数的值，如果是则条件为真</td>
<td><code>A&gt; = B</code>为假</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>检查左操作数的值是否小于或等于右操作数的值，如果是则条件为真</td>
<td><code>A &lt;= B</code>为真</td>
</tr>
</tbody>
</table>
</div>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line">        System.out.println(<span class="string">"a == b = "</span> + (a == b));</span><br><span class="line">        System.out.println(<span class="string">"a != b = "</span> + (a != b));</span><br><span class="line">        System.out.println(<span class="string">"a &gt; b = "</span> + (a &gt; b));</span><br><span class="line">        System.out.println(<span class="string">"a &lt; b = "</span> + (a &lt; b));</span><br><span class="line">        System.out.println(<span class="string">"b &gt;= a = "</span> + (b &gt;= a));</span><br><span class="line">        System.out.println(<span class="string">"b &lt;= a = "</span> + (b &lt;= a));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a == b = <span class="literal">false</span></span><br><span class="line">a != b = <span class="literal">true</span></span><br><span class="line">a &gt; b = <span class="literal">false</span></span><br><span class="line">a &lt; b = <span class="literal">true</span></span><br><span class="line">b &gt;= a = <span class="literal">true</span></span><br><span class="line">b &lt;= a = <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><p>&emsp;&emsp;Java定义了位运算符，应用于整数类型(<code>int</code>)、长整型(<code>long</code>)、短整型(<code>short</code>)、字符型(<code>char</code>)和字节型(<code>byte</code>)等类型。位运算符作用在所有的位上，并且按位运算。假设a是<code>60</code>，b是<code>13</code>，它们的二进制格式如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">A     = 0011 1100</span><br><span class="line">B     = 0000 1101</span><br><span class="line">-----------------</span><br><span class="line">A &amp; b = 0000 1100</span><br><span class="line">A | B = 0011 1101</span><br><span class="line">A ^ B = 0011 0001</span><br><span class="line">~ A   = 1100 0011</span><br></pre></td></tr></table></figure>
<p>下表列出了位运算符的基本运算(整数变量A的值为<code>60</code>，变量B的值为<code>13</code>)：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;</code></td>
<td>如果相对应位都是1，则结果为1，否则为0</td>
<td><code>A ＆ B</code>得到<code>12</code>，即<code>0000_1100</code></td>
</tr>
<tr>
<td><code>&#124;</code></td>
<td>如果相对应位都是0，则结果为0，否则为1</td>
<td><code>A &#124; B</code>得到<code>61</code>，即<code>0011_1101</code></td>
</tr>
<tr>
<td><code>^</code></td>
<td>如果相对应位值相同，则结果为0，否则为1</td>
<td><code>A ^ B</code>得到<code>49</code>，即<code>0011_0001</code></td>
</tr>
<tr>
<td><code>~</code></td>
<td>按位补运算符翻转操作数的每一位，即0变成1，1变成0</td>
<td><code>~A</code>得到<code>-61</code>，即<code>1100_0011</code></td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>按位左移运算符。左操作数按位左移右操作数指定的位数</td>
<td><code>A &lt;&lt; 2</code>得到<code>240</code>，即<code>1111_0000</code></td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>按位右移运算符。左操作数按位右移右操作数指定的位数</td>
<td><code>A &gt;&gt; 2</code>得到<code>15</code>，即<code>1111</code></td>
</tr>
<tr>
<td><code>&gt;&gt;&gt;</code></td>
<td>按位右移补零操作符。左操作数的值按右操作数指定的位数右移，移动得到的空位以零填充</td>
<td><code>A &gt;&gt;&gt; 2</code>得到<code>15</code>，即<code>0000_1111</code></td>
</tr>
</tbody>
</table>
</div>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">60</span>; <span class="comment">/* 60 = 0011 1100 */</span></span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">13</span>; <span class="comment">/* 13 = 0000 1101 */</span></span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">        c = a &amp; b; <span class="comment">/* 12 = 0000 1100 */</span></span><br><span class="line">        System.out.println(<span class="string">"a &amp; b = "</span> + c);</span><br><span class="line">        c = a | b; <span class="comment">/* 61 = 0011 1101 */</span></span><br><span class="line">        System.out.println(<span class="string">"a | b = "</span> + c);</span><br><span class="line">        c = a ^ b; <span class="comment">/* 49 = 0011 0001 */</span></span><br><span class="line">        System.out.println(<span class="string">"a ^ b = "</span> + c);</span><br><span class="line">        c = ~a; <span class="comment">/* -61 = 1100 0011 */</span></span><br><span class="line">        System.out.println(<span class="string">"~a = "</span> + c);</span><br><span class="line">        c = a &lt;&lt; <span class="number">2</span>; <span class="comment">/* 240 = 1111 0000 */</span></span><br><span class="line">        System.out.println(<span class="string">"a &lt;&lt; 2 = "</span> + c);</span><br><span class="line">        c = a &gt;&gt; <span class="number">2</span>; <span class="comment">/* 15 = 1111 */</span></span><br><span class="line">        System.out.println(<span class="string">"a &gt;&gt; 2  = "</span> + c);</span><br><span class="line">        c = a &gt;&gt;&gt; <span class="number">2</span>; <span class="comment">/* 15 = 0000 1111 */</span></span><br><span class="line">        System.out.println(<span class="string">"a &gt;&gt;&gt; 2 = "</span> + c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a &amp; b = 12</span><br><span class="line">a | b = 61</span><br><span class="line">a ^ b = 49</span><br><span class="line">~a = -61</span><br><span class="line">a &lt;&lt; 2 = 240</span><br><span class="line">a &gt;&gt; 2  = 15</span><br><span class="line">a &gt;&gt;&gt; 2 = 15</span><br></pre></td></tr></table></figure>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>&emsp;&emsp;下表列出了逻辑运算符的基本运算(假设布尔变量A为真，变量B为假)：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;&amp;</code></td>
<td>逻辑与运算符，当且仅当两个操作数都为真，条件才为真</td>
<td><code>A &amp;&amp; B</code>为假</td>
</tr>
<tr>
<td><code>&#124;&#124;</code></td>
<td>逻辑或操作符，如果任何两个操作数任何一个为真，条件为真</td>
<td><code>A &#124;&#124; B</code>为真</td>
</tr>
<tr>
<td><code>!</code></td>
<td>逻辑非运算符，用来反转操作数的逻辑状态</td>
<td><code>!(A &amp;&amp; B)</code>为真</td>
</tr>
</tbody>
</table>
</div>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> a = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">boolean</span> b = <span class="keyword">false</span>;</span><br><span class="line">        System.out.println(<span class="string">"a &amp;&amp; b = "</span> + (a &amp;&amp; b));</span><br><span class="line">        System.out.println(<span class="string">"a || b = "</span> + (a || b));</span><br><span class="line">        System.out.println(<span class="string">"!(a &amp;&amp; b) = "</span> + !(a &amp;&amp; b));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a &amp;&amp; b = <span class="literal">false</span></span><br><span class="line">a || b = <span class="literal">true</span></span><br><span class="line">!(a &amp;&amp; b) = <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h3 id="短路逻辑运算符"><a href="#短路逻辑运算符" class="headerlink" title="短路逻辑运算符"></a>短路逻辑运算符</h3><p>&emsp;&emsp;当使用与逻辑运算符时，如果两个操作数都为true，结果才为true。但是当第一个操作为false时，其结果就必定是false，这时就不会再判断第二个操作了：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LuoJi</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">boolean</span> b = (a &lt; <span class="number">4</span>) &amp;&amp; (a++ &lt; <span class="number">10</span>);</span><br><span class="line">        System.out.println(<span class="string">"使用短路逻辑运算符的结果为"</span> + b);</span><br><span class="line">        System.out.println(<span class="string">"a的结果为"</span> + a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用短路逻辑运算符的结果为<span class="literal">false</span></span><br><span class="line">a的结果为5</span><br></pre></td></tr></table></figure>
<h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><p>&emsp;&emsp;下面是Java语言支持的赋值运算符：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>=</code></td>
<td>简单的赋值运算符，将右操作数的值赋给左侧操作数</td>
<td><code>C = A + B</code>将把<code>A + B</code>得到的值赋给<code>C</code></td>
</tr>
<tr>
<td><code>+=</code></td>
<td>加和赋值操作符，它把左操作数和右操作数相加赋值给左操作数</td>
<td><code>C += A</code>等价于<code>C = C + A</code></td>
</tr>
<tr>
<td><code>-=</code></td>
<td>减和赋值操作符，它把左操作数和右操作数相减赋值给左操作数</td>
<td><code>C -= A</code>等价于<code>C = C - A</code></td>
</tr>
<tr>
<td><code>*=</code></td>
<td>乘和赋值操作符，它把左操作数和右操作数相乘赋值给左操作数</td>
<td><code>C *= A</code>等价于<code>C = C * A</code></td>
</tr>
<tr>
<td><code>/=</code></td>
<td>除和赋值操作符，它把左操作数和右操作数相除赋值给左操作数</td>
<td><code>C /= A</code>等价于<code>C = C / A</code></td>
</tr>
<tr>
<td><code>%=</code></td>
<td>取模和赋值操作符，它把左操作数和右操作数取模后赋值给左操作数</td>
<td><code>C %= A</code>等价于<code>C = C % A</code></td>
</tr>
<tr>
<td><code>&lt;&lt;=</code></td>
<td>左移位赋值运算符</td>
<td><code>C &lt;&lt;= 2</code>等价于<code>C = C &lt;&lt; 2</code></td>
</tr>
<tr>
<td><code>&gt;&gt;=</code></td>
<td>右移位赋值运算符</td>
<td><code>C &gt;&gt;= 2</code>等价于<code>C = C &gt;&gt; 2</code></td>
</tr>
<tr>
<td><code>＆=</code></td>
<td>按位与赋值运算符</td>
<td><code>C &amp;= 2</code>等价于<code>C = C &amp; 2</code></td>
</tr>
<tr>
<td><code>^=</code></td>
<td>按位异或赋值操作符</td>
<td><code>C ^= 2</code>等价于<code>C = C ^ 2</code></td>
</tr>
<tr>
<td><code>&#124;=</code></td>
<td>按位或赋值操作符</td>
<td><code>C &#124;= 2</code>等价于<code>C = C &#124; 2</code></td>
</tr>
</tbody>
</table>
</div>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">        c = a + b;</span><br><span class="line">        System.out.println(<span class="string">"c = a + b = "</span> + c);</span><br><span class="line">        c += a;</span><br><span class="line">        System.out.println(<span class="string">"c += a = "</span> + c);</span><br><span class="line">        c -= a;</span><br><span class="line">        System.out.println(<span class="string">"c -= a = "</span> + c);</span><br><span class="line">        c *= a;</span><br><span class="line">        System.out.println(<span class="string">"c *= a = "</span> + c);</span><br><span class="line">        a = <span class="number">10</span>;</span><br><span class="line">        c = <span class="number">15</span>;</span><br><span class="line">        c /= a;</span><br><span class="line">        System.out.println(<span class="string">"c /= a = "</span> + c);</span><br><span class="line">        a = <span class="number">10</span>;</span><br><span class="line">        c = <span class="number">15</span>;</span><br><span class="line">        c %= a;</span><br><span class="line">        System.out.println(<span class="string">"c %= a = "</span> + c);</span><br><span class="line">        c &lt;&lt;= <span class="number">2</span>;</span><br><span class="line">        System.out.println(<span class="string">"c &lt;&lt;= 2 = "</span> + c);</span><br><span class="line">        c &gt;&gt;= <span class="number">2</span>;</span><br><span class="line">        System.out.println(<span class="string">"c &gt;&gt;= 2 = "</span> + c);</span><br><span class="line">        c &gt;&gt;= <span class="number">2</span>;</span><br><span class="line">        System.out.println(<span class="string">"c &gt;&gt;= a = "</span> + c);</span><br><span class="line">        c &amp;= a;</span><br><span class="line">        System.out.println(<span class="string">"c &amp;= 2 = "</span> + c);</span><br><span class="line">        c ^= a;</span><br><span class="line">        System.out.println(<span class="string">"c ^= a = "</span> + c);</span><br><span class="line">        c |= a;</span><br><span class="line">        System.out.println(<span class="string">"c |= a = "</span> + c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">c = a + b = 30</span><br><span class="line">c += a = 40</span><br><span class="line">c -= a = 30</span><br><span class="line">c *= a = 300</span><br><span class="line">c /= a = 1</span><br><span class="line">c %= a = 5</span><br><span class="line">c &lt;&lt;= 2 = 20</span><br><span class="line">c &gt;&gt;= 2 = 5</span><br><span class="line">c &gt;&gt;= a = 1</span><br><span class="line">c &amp;= 2 = 0</span><br><span class="line">c ^= a = 10</span><br><span class="line">c |= a = 10</span><br></pre></td></tr></table></figure>
<h3 id="条件运算符"><a href="#条件运算符" class="headerlink" title="条件运算符"></a>条件运算符</h3><p>&emsp;&emsp;条件运算符<code>?:</code>也被称为<code>三元运算符</code>。该运算符有3个操作数，并且需要判断布尔表达式的值。该运算符的主要作用是决定哪个值应该赋值给变量：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variable x = (expression) ? value <span class="keyword">if</span> <span class="keyword">true</span> : value <span class="keyword">if</span> <span class="keyword">false</span></span><br></pre></td></tr></table></figure>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a, b;</span><br><span class="line">        a = <span class="number">10</span>;</span><br><span class="line">        <span class="comment">/* 如果a等于1成立，则设置b为20，否则为30 */</span></span><br><span class="line">        b = (a == <span class="number">1</span>) ? <span class="number">20</span> : <span class="number">30</span>;</span><br><span class="line">        System.out.println(<span class="string">"Value of b is："</span> + b);</span><br><span class="line">        <span class="comment">/* 如果a等于10成立，则设置b为20，否则为30 */</span></span><br><span class="line">        b = (a == <span class="number">10</span>) ? <span class="number">20</span> : <span class="number">30</span>;</span><br><span class="line">        System.out.println(<span class="string">"Value of b is："</span> + b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Value of b is：30</span><br><span class="line">Value of b is：20</span><br></pre></td></tr></table></figure>
<h3 id="instanceof运算符"><a href="#instanceof运算符" class="headerlink" title="instanceof运算符"></a>instanceof运算符</h3><p>&emsp;&emsp;该运算符用于操作对象实例，检查该对象是否是一个特定类型(类类型或接口类型)。instanceof运算符使用格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(Object reference variable) <span class="keyword">instanceof</span> (<span class="class"><span class="keyword">class</span>/<span class="title">interface</span> <span class="title">type</span>)</span></span><br></pre></td></tr></table></figure>
<p>如果运算符左侧变量所指的对象是操作符右侧类或接口(class/interface)的一个对象，那么结果为真。代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String name = <span class="string">"James"</span>;</span><br><span class="line"><span class="comment">/* 由于name是String类型，所以返回真 */</span></span><br><span class="line"><span class="keyword">boolean</span> result = name <span class="keyword">instanceof</span> String;</span><br></pre></td></tr></table></figure>
<p>如果被比较的对象兼容于右侧类型，该运算符仍然返回true：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> <span class="keyword">extends</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Vehicle a = <span class="keyword">new</span> Car();</span><br><span class="line">        <span class="keyword">boolean</span> result = a <span class="keyword">instanceof</span> Car;</span><br><span class="line">        System.out.println(result); <span class="comment">// 输出“true”</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;在判断一个实例引用的类型时，使用的是实际类型，而不是声明的类型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vehicle v2 = <span class="keyword">new</span> Car(); <span class="comment">/* v2是Car类型 */</span></span><br></pre></td></tr></table></figure>
<p>v2是Car类型，而不是Vehicle类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> <span class="keyword">extends</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Car c1 = <span class="keyword">new</span> Car();</span><br><span class="line">        Vehicle v2 = <span class="keyword">new</span> Car(); <span class="comment">/* v2是Car类型 */</span></span><br><span class="line">        Vehicle v3 = <span class="keyword">new</span> Vehicle();</span><br><span class="line">​</span><br><span class="line">        <span class="comment">/* Car是Vehicle类型，Vehicle不是Car类型 */</span></span><br><span class="line">        <span class="keyword">boolean</span> result1 = c1 <span class="keyword">instanceof</span> Vehicle; <span class="comment">/* true */</span></span><br><span class="line">        <span class="keyword">boolean</span> result2 = v2 <span class="keyword">instanceof</span> Car; <span class="comment">/* true */</span></span><br><span class="line">        <span class="keyword">boolean</span> result3 = v2 <span class="keyword">instanceof</span> Vehicle; <span class="comment">/* true */</span></span><br><span class="line">        <span class="keyword">boolean</span> result4 = v3 <span class="keyword">instanceof</span> Car; <span class="comment">/* false */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Java运算符优先级"><a href="#Java运算符优先级" class="headerlink" title="Java运算符优先级"></a>Java运算符优先级</h3><p>&emsp;&emsp;在一个多运算符的表达式中，运算符优先级不同会导致最后得出的结果差别甚大。例如<code>x = 7 + 3 * 2;</code>，这里x得到13，而不是20，因为乘法运算符比加法运算符有较高的优先级，所以先计算<code>3 * 2</code>得到6，然后再加7。下表中具有最高优先级的运算符在的表的最上面，最低优先级的在表的底部：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>类别</th>
<th>操作符</th>
<th>关联性</th>
</tr>
</thead>
<tbody>
<tr>
<td>后缀</td>
<td><code>() [] .(点操作符)</code></td>
<td>左到右</td>
</tr>
<tr>
<td>一元</td>
<td><code>+(正号) -(负号) ++ -- ~ !</code></td>
<td>右到左</td>
</tr>
<tr>
<td>乘性</td>
<td><code>* / %</code></td>
<td>左到右</td>
</tr>
<tr>
<td>加性</td>
<td><code>+ -</code></td>
<td>左到右</td>
</tr>
<tr>
<td>移位</td>
<td><code>&gt;&gt; &gt;&gt;&gt; &lt;&lt;</code></td>
<td>左到右</td>
</tr>
<tr>
<td>关系</td>
<td><code>&lt; &lt;= &gt; &gt;= instanceof</code></td>
<td>左到右</td>
</tr>
<tr>
<td>相等</td>
<td><code>== !=</code></td>
<td>左到右</td>
</tr>
<tr>
<td>按位与</td>
<td><code>&amp;</code></td>
<td>左到右</td>
</tr>
<tr>
<td>按位异或</td>
<td><code>^</code></td>
<td>左到右</td>
</tr>
<tr>
<td>按位或</td>
<td><code>&#124;</code></td>
<td>左到右</td>
</tr>
<tr>
<td>逻辑与</td>
<td><code>&amp;&amp;</code></td>
<td>左到右</td>
</tr>
<tr>
<td>逻辑或</td>
<td><code>&#124;&#124;</code></td>
<td>左到右</td>
</tr>
<tr>
<td>条件</td>
<td><code>?:</code></td>
<td>右到左</td>
</tr>
<tr>
<td>赋值</td>
<td><code>= += -= *= /= %= &gt;&gt;= &lt;&lt;= &amp;= ^= &#124;= &gt;&gt;&gt;=</code></td>
<td>右到左</td>
</tr>
<tr>
<td>逗号</td>
<td><code>,</code></td>
<td>左到右</td>
</tr>
</tbody>
</table>
</div>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/22/Java/日期时间/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/22/Java/日期时间/" itemprop="url">日期时间</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-22T10:09:56+08:00">
                2018-12-22
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;<code>java.util</code>包提供了Date类来封装当前的日期和时间。Date类提供两个构造函数来实例化Date对象。第一个构造函数使用当前日期和时间来初始化对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Date()</span><br></pre></td></tr></table></figure>
<p>第二个构造函数接收一个参数，该参数是从1970年1月1日起的毫秒数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Date(<span class="keyword">long</span> millisec)</span><br></pre></td></tr></table></figure>
<p>Date对象创建以后，可以调用下面的方法：</p>
<p><code>boolean after(Date date)</code>：若当前调用此方法的Date对象在指定日期之后，就返回true，否则返回false。<br><code>boolean before(Date date)</code>：若当前调用此方法的Date对象在指定日期之前，就返回true，否则返回false。<br><code>Object clone()</code>：返回此对象的副本。<br><code>int compareTo(Date date)</code>：比较当前调用此方法的Date对象和指定日期，两者相等时候返回0；调用对象在指定日期之前则返回负数；调用对象在指定日期之后则返回正数。<br><code>int compareTo(Object obj)</code>：若obj是Date类型，则操作等同于<code>compareTo(Date)</code>，否则它抛出<code>ClassCastException</code>。<br><code>boolean equals(Object date)</code>：当前调用此方法的Date对象和指定日期相等时，就返回true，否则返回false。<br><code>long getTime()</code>：返回自1970年1月1日<code>00:00:00 GMT</code>以来此Date对象表示的毫秒数。<br><code>int hashCode()</code>：返回此对象的哈希码值。<br><code>void setTime(long time)</code>：用自1970年1月1日<code>00:00:00 GMT</code>以后time毫秒数设置时间和日期。<br><code>String toString()</code>：把此Date对象转换为以下形式的String：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dow mon dd hh:mm:ss zzz yyyy</span><br></pre></td></tr></table></figure>
<p>其中dow是一周中的某一天(即<code>Sun</code>、<code>Mon</code>、<code>Tue</code>、<code>Wed</code>、<code>Thu</code>、<code>Fri</code>、<code>Sat</code>)。</p>
<h3 id="获取当前日期时间"><a href="#获取当前日期时间" class="headerlink" title="获取当前日期时间"></a>获取当前日期时间</h3><p>&emsp;&emsp;Java使用Date对象的toString方法来打印当前日期和时间：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">/* 初始化Date对象 */</span></span><br><span class="line">        Date date = <span class="keyword">new</span> Date();</span><br><span class="line">        <span class="comment">/* 使用toString显示日期时间 */</span></span><br><span class="line">        System.out.println(date.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mon May 28 13:19:41 JST 2018</span><br></pre></td></tr></table></figure>
<h3 id="日期比较"><a href="#日期比较" class="headerlink" title="日期比较"></a>日期比较</h3><p>&emsp;&emsp;Java使用以下三种方法来比较两个日期：</p>
<ul>
<li>使用<code>getTime</code>方法获取两个日期(自1970年1月1日经历的毫秒数值)，然后比较这两个值。</li>
<li>使用方法<code>before</code>、<code>after</code>和<code>equals</code>，例如一个月的12号比18号早，则<code>new Date(99, 2, 12).before(new Date(99, 2, 18))</code>返回true。</li>
<li>使用<code>compareTo</code>方法，它是由Comparable接口定义的，Date类实现了这个接口。</li>
</ul>
<h3 id="SimpleDateFormat"><a href="#SimpleDateFormat" class="headerlink" title="SimpleDateFormat"></a>SimpleDateFormat</h3><p>&emsp;&emsp;SimpleDateFormat允许用户自定义日期时间格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.text.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Date dNow = <span class="keyword">new</span> Date();</span><br><span class="line">        SimpleDateFormat ft = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"E yyyy.MM.dd 'at' hh:mm:ss a zzz"</span>);</span><br><span class="line">        System.out.println(<span class="string">"Current Date: "</span> + ft.format(dNow));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Current Date: 周一 2018.05.28 at 01:29:52 下午 JST</span><br></pre></td></tr></table></figure>
<p>SimpleDateFormat这一行代码确立了转换的格式，其中<code>yyyy</code>是完整的公元年，<code>MM</code>是月份，<code>dd</code>是日期，<code>HH:mm:ss</code>是<code>时</code>、<code>分</code>、<code>秒</code>。注意，有的格式大写，有的格式小写，例如<code>MM</code>是月份，<code>mm</code>是分；<code>HH</code>是24小时制，而<code>hh</code>是12小时制。<br>&emsp;&emsp;有时我们希望得到Date的特定格式(例如<code>20020324</code>)，可以使用以下方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"></span><br><span class="line">java.util.Date date = <span class="keyword">new</span> java.util.Date();</span><br><span class="line"><span class="comment">/* 如果希望得到YYYYMMDD的格式 */</span></span><br><span class="line">SimpleDateFormat sy1 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyyMMdd"</span>);</span><br><span class="line">String dateFormat = sy1.format(date);</span><br><span class="line"><span class="comment">/* 如果希望分开得到年、月、日 */</span></span><br><span class="line">SimpleDateFormat sy = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy"</span>);</span><br><span class="line">SimpleDateFormat sm = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"MM"</span>);</span><br><span class="line">SimpleDateFormat sd = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"dd"</span>);</span><br><span class="line">String syear = sy.format(date);</span><br><span class="line">String smon = sm.format(date);</span><br><span class="line">String sday = sd.format(date);</span><br></pre></td></tr></table></figure>
<h3 id="日期和时间的格式化编码"><a href="#日期和时间的格式化编码" class="headerlink" title="日期和时间的格式化编码"></a>日期和时间的格式化编码</h3><p>&emsp;&emsp;时间模式字符串用来指定时间格式。在此模式中，所有的ASCII字母被保留为模式字母，定义如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>字母</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>G</code></td>
<td>纪元标记</td>
<td>AD</td>
</tr>
<tr>
<td><code>y</code></td>
<td>四位年份</td>
<td>2001</td>
</tr>
<tr>
<td><code>M</code></td>
<td>月份</td>
<td>July or 07</td>
</tr>
<tr>
<td><code>d</code></td>
<td>一个月的日期</td>
<td>10</td>
</tr>
<tr>
<td><code>h</code></td>
<td><code>A.M./P.M.</code>格式小时(<code>1~12</code>)</td>
<td>12</td>
</tr>
<tr>
<td><code>H</code></td>
<td>一天中的小时(<code>0~23</code>)</td>
<td>22</td>
</tr>
<tr>
<td><code>m</code></td>
<td>分钟数</td>
<td>30</td>
</tr>
<tr>
<td><code>s</code></td>
<td>秒数</td>
<td>55</td>
</tr>
<tr>
<td><code>S</code></td>
<td>毫秒数</td>
<td>234</td>
</tr>
<tr>
<td><code>E</code></td>
<td>星期几</td>
<td>Tuesday</td>
</tr>
<tr>
<td><code>D</code></td>
<td>一年中的日子</td>
<td>360</td>
</tr>
<tr>
<td><code>F</code></td>
<td>一个月中第几周的周几</td>
<td>2 (second Wed. in July)</td>
</tr>
<tr>
<td><code>w</code></td>
<td>一年中第几周</td>
<td>40</td>
</tr>
<tr>
<td><code>W</code></td>
<td>一个月中第几周</td>
<td>1</td>
</tr>
<tr>
<td><code>a</code></td>
<td><code>A.M./P.M.</code>标记</td>
<td>PM</td>
</tr>
<tr>
<td><code>k</code></td>
<td>一天中的小时(<code>1~24</code>)</td>
<td>24</td>
</tr>
<tr>
<td><code>K</code></td>
<td><code>A.M./P.M.</code>格式小时(<code>0~11</code>)</td>
<td>10</td>
</tr>
<tr>
<td><code>z</code></td>
<td>时区</td>
<td>Eastern Standard Time</td>
</tr>
<tr>
<td><code>&#39;</code></td>
<td>文字定界符</td>
<td>Delimiter</td>
</tr>
<tr>
<td><code>&quot;</code></td>
<td>单引号</td>
<td><code>`</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="使用printf格式化日期"><a href="#使用printf格式化日期" class="headerlink" title="使用printf格式化日期"></a>使用printf格式化日期</h3><p>&emsp;&emsp;printf方法可以很轻松地格式化时间和日期。它使用两个字母格式，以<code>%t</code>开头，并且以下面表格中的一个字母结尾：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>转换符</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c</code></td>
<td>包括全部日期和时间信息</td>
<td>星期六 十月 27 14:21:20 CST 2007</td>
</tr>
<tr>
<td><code>F</code></td>
<td><code>年-月-日</code>格式</td>
<td>2007-10-27</td>
</tr>
<tr>
<td><code>D</code></td>
<td><code>月/日/年</code>格式</td>
<td>10/27/07</td>
</tr>
<tr>
<td><code>r</code></td>
<td><code>HH:MM:SS PM</code>格式(12时制)</td>
<td>02:25:51 下午</td>
</tr>
<tr>
<td><code>T</code></td>
<td><code>HH:MM:SS</code>格式(24时制)</td>
<td>14:28:16</td>
</tr>
<tr>
<td><code>R</code></td>
<td><code>HH:MM</code>格式(24时制)</td>
<td>14:28</td>
</tr>
</tbody>
</table>
</div>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Date date = <span class="keyword">new</span> Date(); <span class="comment">/* 初始化Date对象 */</span></span><br><span class="line">        System.out.printf(<span class="string">"全部日期和时间信息：%tc%n"</span>, date); <span class="comment">/* “c”的使用 */</span></span><br><span class="line">        System.out.printf(<span class="string">"年-月-日格式：%tF%n"</span>, date); <span class="comment">/* “f”的使用 */</span></span><br><span class="line">        System.out.printf(<span class="string">"月/日/年格式：%tD%n"</span>, date); <span class="comment">/* “d”的使用 */</span></span><br><span class="line">        System.out.printf(<span class="string">"HH:MM:SS PM格式(12时制)：%tr%n"</span>, date); <span class="comment">/* “r”的使用 */</span></span><br><span class="line">        System.out.printf(<span class="string">"HH:MM:SS格式(24时制)：%tT%n"</span>, date); <span class="comment">/* “t”的使用 */</span></span><br><span class="line">        System.out.printf(<span class="string">"HH:MM格式(24时制)：%tR"</span>, date); <span class="comment">/* “R”的使用 */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">全部日期和时间信息：周一 5月 28 13:44:57 JST 2018</span><br><span class="line">年-月-日格式：2018-05-28</span><br><span class="line">月/日/年格式：05/28/18</span><br><span class="line">HH:MM:SS PM格式(12时制)：01:44:57 下午</span><br><span class="line">HH:MM:SS格式(24时制)：13:44:57</span><br><span class="line">HH:MM格式(24时制)：13:44</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;如果你需要重复提供日期，那么利用这种方式来格式化它的每一部分就有点复杂了。因此，可以利用一个格式化字符串指出要被格式化的参数的索引。索引必须紧跟在<code>%</code>后面，而且必须以<code>$</code>结束：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">/* 初始化Date对象 */</span></span><br><span class="line">        Date date = <span class="keyword">new</span> Date();</span><br><span class="line">        <span class="comment">/* 使用toString显示日期和时间 */</span></span><br><span class="line">        System.out.printf(<span class="string">"%1$s %2$tB %2$td, %2$tY"</span>, <span class="string">"Due date:"</span>, date);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Due date: 五月 29, 2018</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;格式为<code>%t</code>表示输出时间日期类型，<code>%t</code>之后用<code>y</code>表示输出日期的二位数的年份(例如99)，用<code>m</code>表示输出日期的月份，用<code>d</code>表示输出日期的日号，用<code>Y</code>表示输出日期的四位数的年份(例如1999)，用<code>B</code>表示输出日期的月份的完整名，用<code>b</code>表示输出日期的月份的简称，用<code>D</code>表示以<code>%tm/%td/%ty</code>的格式输出日期，用<code>F</code>表示以<code>%tY-%tm-%td</code>的格式输出日期。<br>&emsp;&emsp;用<code>H</code>表示输出时间的时(24进制)，用<code>I</code>表示输出时间的时(12进制)，用<code>M</code>表示输出时间分，用<code>S</code>表示输出时间的秒，用<code>L</code>表示输出时间的秒中的毫秒数，用<code>p</code>表示输出时间的是上午还是下午，用<code>R</code>表示以<code>%tH:%tM</code>的格式输出时间，用<code>T</code>表示以<code>%tH:%tM:%tS</code>的格式输出时间，用<code>r</code>表示以<code>%tI:%tM:%tS %Tp</code>的格式输出时间，用<code>A</code>表示输出日期的全称，用<code>a</code>表示输出日期的星期简称。<br>&emsp;&emsp;定义日期格式的转换符可以使日期通过指定的转换符生成新字符串：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Date date = <span class="keyword">new</span> Date();</span><br><span class="line">        <span class="comment">/* b的使用，月份简称 */</span></span><br><span class="line">        String str = String.format(Locale.US, <span class="string">"英文月份简称：%tb"</span>, date);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">        System.out.printf(<span class="string">"本地月份简称：%tb%n"</span>, date);</span><br><span class="line">        <span class="comment">/* B的使用，月份全称 */</span></span><br><span class="line">        str = String.format(Locale.US, <span class="string">"英文月份全称：%tB"</span>, date);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">        System.out.printf(<span class="string">"本地月份全称：%tB%n"</span>, date);</span><br><span class="line">        <span class="comment">/* a的使用，星期简称 */</span></span><br><span class="line">        str = String.format(Locale.US, <span class="string">"英文星期的简称：%ta"</span>, date);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">        <span class="comment">/* A的使用，星期全称 */</span></span><br><span class="line">        System.out.printf(<span class="string">"本地星期的简称：%tA%n"</span>, date);</span><br><span class="line">        <span class="comment">/* C的使用，年前两位 */</span></span><br><span class="line">        System.out.printf(<span class="string">"年的前两位数字(不足两位前面补0)：%tC%n"</span>, date);</span><br><span class="line">        <span class="comment">/* y的使用，年后两位 */</span></span><br><span class="line">        System.out.printf(<span class="string">"年的后两位数字(不足两位前面补0)：%ty%n"</span>, date);</span><br><span class="line">        <span class="comment">/* j的使用，一年的天数 */</span></span><br><span class="line">        System.out.printf(<span class="string">"一年中的天数(即年的第几天)：%tj%n"</span>, date);</span><br><span class="line">        <span class="comment">/* m的使用，月份 */</span></span><br><span class="line">        System.out.printf(<span class="string">"两位数字的月份(不足两位前面补0)：%tm%n"</span>, date);</span><br><span class="line">        <span class="comment">/* d的使用，日(二位，不够补零) */</span></span><br><span class="line">        System.out.printf(<span class="string">"两位数字的日(不足两位前面补0)：%td%n"</span>, date);</span><br><span class="line">        <span class="comment">/* e的使用，日(一位不补零) */</span></span><br><span class="line">        System.out.printf(<span class="string">"月份的日(前面不补0)：%te"</span>, date);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">英文月份简称：May</span><br><span class="line">本地月份简称：5月</span><br><span class="line">英文月份全称：May</span><br><span class="line">本地月份全称：五月</span><br><span class="line">英文星期的简称：Tue</span><br><span class="line">本地星期的简称：星期二</span><br><span class="line">年的前两位数字(不足两位前面补0)：20</span><br><span class="line">年的后两位数字(不足两位前面补0)：18</span><br><span class="line">一年中的天数(即年的第几天)：149</span><br><span class="line">两位数字的月份(不足两位前面补0)：05</span><br><span class="line">两位数字的日(不足两位前面补0)：29</span><br><span class="line">月份的日(前面不补0)：29</span><br></pre></td></tr></table></figure>
<h3 id="解析字符串为时间"><a href="#解析字符串为时间" class="headerlink" title="解析字符串为时间"></a>解析字符串为时间</h3><p>&emsp;&emsp;SimpleDateFormat类有一些附加的方法，特别是parse，它试图按照给定的SimpleDateFormat对象的格式化存储来解析字符串：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.text.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        SimpleDateFormat ft = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">        String input = args.length == <span class="number">0</span> ? <span class="string">"1818-11-11"</span> : args[<span class="number">0</span>];</span><br><span class="line">        System.out.print(input + <span class="string">" Parses as "</span>);</span><br><span class="line">​</span><br><span class="line">        Date t;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            t = ft.parse(input);</span><br><span class="line">            System.out.println(t);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Unparseable using "</span> + ft);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ java DateDemo</span><br><span class="line">1818-11-11 Parses as Wed Nov 11 00:00:00 GMT 1818</span><br><span class="line">$ java DateDemo 2007-12-01</span><br><span class="line">2007-12-01 Parses as Sat Dec 01 00:00:00 GMT 2007</span><br></pre></td></tr></table></figure>
<h3 id="Java休眠-sleep"><a href="#Java休眠-sleep" class="headerlink" title="Java休眠(sleep)"></a>Java休眠(sleep)</h3><p>&emsp;&emsp;sleep使当前线程进入停滞状态(阻塞当前线程)，让出CPU的使用权，目的是不让当前线程独自霸占CPU资源。你可以让程序休眠一毫秒的时间，或者到您的计算机的寿命长的任意段时间。下面的程序会休眠3秒：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SleepDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> Date() + <span class="string">"\n"</span>);</span><br><span class="line">            Thread.sleep(<span class="number">1000</span> * <span class="number">3</span>); <span class="comment">/* 休眠3秒 */</span></span><br><span class="line">            System.out.println(<span class="keyword">new</span> Date() + <span class="string">"\n"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Got an exception!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="测量时间"><a href="#测量时间" class="headerlink" title="测量时间"></a>测量时间</h3><p>&emsp;&emsp;下面的一个例子表明如何测量时间间隔(以毫秒为单位)：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DiffDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">            System.out.print(<span class="keyword">new</span> Date() + <span class="string">"\n"</span>);</span><br><span class="line">            Thread.sleep(<span class="number">5</span> * <span class="number">60</span> * <span class="number">10</span>);</span><br><span class="line">            System.out.print(<span class="keyword">new</span> Date() + <span class="string">"\n"</span>);</span><br><span class="line">            <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">            <span class="keyword">long</span> diff = end - start;</span><br><span class="line">            System.out.println(<span class="string">"Difference is："</span> + diff);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Got an exception!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Tue May 29 08:18:48 JST 2018</span><br><span class="line">Tue May 29 08:18:51 JST 2018</span><br><span class="line">Difference is：3059</span><br></pre></td></tr></table></figure>
<h3 id="Calendar类"><a href="#Calendar类" class="headerlink" title="Calendar类"></a>Calendar类</h3><p>&emsp;&emsp;我们现在已经能够格式化并创建一个日期对象了，但是如何才能设置和获取日期数据的特定部分呢(比如说小时或者分钟)？又如何在日期的这些部分加上或者减去值呢？答案是使用Calendar类。<br>&emsp;&emsp;Calendar类的功能要比Date类强大很多，而且在实现方式上也比Date类要复杂一些。Calendar类是一个抽象类，创建对象时只需要使用getInstance方法即可。<br>&emsp;&emsp;创建一个代表系统当前日期的Calendar对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Calendar c = Calendar.getInstance(); <span class="comment">/* 默认是当前日期 */</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;创建一个指定日期的Calendar对象：需要首先创建一个Calendar的对象，然后再设定该对象中的年月日参数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 创建一个代表2009年6月12日的Calendar对象 */</span></span><br><span class="line">Calendar c1 = Calendar.getInstance();</span><br><span class="line">c1.set(<span class="number">2009</span>, <span class="number">6</span> - <span class="number">1</span>, <span class="number">12</span>);</span><br></pre></td></tr></table></figure>
<h4 id="Calendar类对象字段类型"><a href="#Calendar类对象字段类型" class="headerlink" title="Calendar类对象字段类型"></a>Calendar类对象字段类型</h4><p>&emsp;&emsp;Calendar类用以下这些常量表示不同的意义，jdk的很多类其实都是采用这种思想：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>常量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Calendar.YEAR</code></td>
<td>年份</td>
</tr>
<tr>
<td><code>Calendar.MONTH</code></td>
<td>月份</td>
</tr>
<tr>
<td><code>Calendar.DATE</code></td>
<td>日期</td>
</tr>
<tr>
<td><code>Calendar.DAY_OF_MONTH</code></td>
<td>日期，和上面的字段意义完全相同</td>
</tr>
<tr>
<td><code>Calendar.HOUR</code></td>
<td>12小时制的小时</td>
</tr>
<tr>
<td><code>Calendar.HOUR_OF_DAY</code></td>
<td>24小时制的小时</td>
</tr>
<tr>
<td><code>Calendar.MINUTE</code></td>
<td>分钟</td>
</tr>
<tr>
<td><code>Calendar.SECOND</code></td>
<td>秒</td>
</tr>
<tr>
<td><code>Calendar.DAY_OF_WEEK</code></td>
<td>星期几</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Calendar类对象信息的设置"><a href="#Calendar类对象信息的设置" class="headerlink" title="Calendar类对象信息的设置"></a>Calendar类对象信息的设置</h4><p>&emsp;&emsp;Set函数原型如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> year, <span class="keyword">int</span> month, <span class="keyword">int</span> date)</span></span>;</span><br></pre></td></tr></table></figure>
<p>调用方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Calendar c1 = Calendar.getInstance();</span><br><span class="line"><span class="comment">/* 把Calendar对象c1的年月日分别设置为2009、6、12 */</span></span><br><span class="line">c1.set(<span class="number">2009</span>, <span class="number">6</span> - <span class="number">1</span>, <span class="number">12</span>);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;利用字段类型设置：如果只设定某个字段(例如日期的值)，可以使用如下set方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> field, <span class="keyword">int</span> value)</span></span>;</span><br></pre></td></tr></table></figure>
<p>把c1对象代表的日期设置为10号，其它所有的数值会被重新计算：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c1.set(Calendar.DATE, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>把c1对象代表的年份设置为2008年，其他的所有数值会被重新计算</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c1.set(Calendar.YEAR, <span class="number">2008</span>);</span><br></pre></td></tr></table></figure>
<p>其他字段属性set的意义以此类推。<br>&emsp;&emsp;<code>Add设置</code>：把c1对象的日期加上10，也就是c1也就表示为10天后的日期，其它所有的数值会被重新计算：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c1.add(Calendar.DATE, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>把c1对象的日期减去10，也就是c1也就表示为10天前的日期，其它所有的数值会被重新计算：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c1.add(Calendar.DATE, -<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<h4 id="Calendar类对象信息的获得"><a href="#Calendar类对象信息的获得" class="headerlink" title="Calendar类对象信息的获得"></a>Calendar类对象信息的获得</h4><p>&emsp;&emsp;代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Calendar c1 = Calendar.getInstance();</span><br><span class="line"><span class="keyword">int</span> year = c1.get(Calendar.YEAR); <span class="comment">/* 获得年份 */</span></span><br><span class="line"><span class="keyword">int</span> month = c1.get(Calendar.MONTH) + <span class="number">1</span>; <span class="comment">/* 获得月份 */</span></span><br><span class="line"><span class="keyword">int</span> date = c1.get(Calendar.DATE); <span class="comment">/* 获得日期 */</span></span><br><span class="line"><span class="keyword">int</span> hour = c1.get(Calendar.HOUR_OF_DAY); <span class="comment">/* 获得小时 */</span></span><br><span class="line"><span class="keyword">int</span> minute = c1.get(Calendar.MINUTE); <span class="comment">/* 获得分钟 */</span></span><br><span class="line"><span class="keyword">int</span> second = c1.get(Calendar.SECOND); <span class="comment">/* 获得秒 */</span></span><br><span class="line"><span class="comment">/* 获得星期几(这个与Date类是不同的)：1代表星期日、2代表星期1，以此类推 */</span></span><br><span class="line"><span class="keyword">int</span> day = c1.get(Calendar.DAY_OF_WEEK);</span><br></pre></td></tr></table></figure>
<h4 id="GregorianCalendar类"><a href="#GregorianCalendar类" class="headerlink" title="GregorianCalendar类"></a>GregorianCalendar类</h4><p>&emsp;&emsp;Calendar类实现了公历日历，GregorianCalendar是Calendar类的一个具体实现。Calendar的getInstance方法返回一个默认用当前的语言环境和时区初始化的GregorianCalendar对象。GregorianCalendar定义了两个字段(<code>AD</code>和<code>BC</code>)，这是代表公历定义的两个时代。下面列出GregorianCalendar对象的几个构造方法：</p>
<ul>
<li><code>GregorianCalendar()</code>：在具有默认语言环境的默认时区内使用当前时间构造一个默认的GregorianCalendar</li>
<li><code>GregorianCalendar(int year, int month, int date)</code>：在具有默认语言环境的默认时区内构造一个带有给定日期设置的GregorianCalendar。</li>
<li><code>GregorianCalendar(int year, int month, int date, int hour, int minute)</code>：在具有默认语言环境的默认时区内构造一个具有给定日期和时间设置的GregorianCalendar。</li>
<li><code>GregorianCalendar(int year, int month, int date, int hour, int minute, int second)</code>：在具有默认语言环境的默认时区内构造一个具有给定日期和时间设置的GregorianCalendar。</li>
<li><code>GregorianCalendar(Locale aLocale)</code>：在具有给定语言环境的默认时区内构造一个基于当前时间的GregorianCalendar。</li>
<li><code>GregorianCalendar(TimeZone zone)</code>：在具有默认语言环境的给定时区内构造一个基于当前时间的GregorianCalendar。</li>
<li><code>GregorianCalendar(TimeZone zone, Locale aLocale)</code>：在具有给定语言环境的给定时区内构造一个基于当前时间的GregorianCalendar。</li>
</ul>
<p>这里是GregorianCalendar类提供的一些方法：</p>
<ul>
<li><code>void add(int field, int amount)</code>：根据日历规则，将指定的(有符号的)时间量添加到给定的日历字段中。</li>
<li><code>protected void computeFields()</code>：转换UTC毫秒值为时间域值。</li>
<li><code>protected void computeTime()</code>：覆盖Calendar，转换时间域值为UTC毫秒值。</li>
<li><code>boolean equals(Object obj)</code>：比较此GregorianCalendar与指定的Object。</li>
<li><code>int get(int field)</code>：获取指定字段的时间值。</li>
<li><code>int getActualMaximum(int field)</code>：返回当前日期给定字段的最大值。</li>
<li><code>int getActualMinimum(int field)</code>：返回当前日期给定字段的最小值。</li>
<li><code>int getGreatestMinimum(int field)</code>：返回此GregorianCalendar实例给定日历字段的最高的最小值。</li>
<li><code>Date getGregorianChange()</code>：获得格里高利历的更改日期。</li>
<li><code>int getLeastMaximum(int field)</code>：返回此GregorianCalendar实例给定日历字段的最低的最大值。</li>
<li><code>int getMaximum(int field)</code>：返回此GregorianCalendar实例的给定日历字段的最大值。</li>
<li><code>Date getTime()</code>：获取日历当前时间。</li>
<li><code>long getTimeInMillis()</code>：获取用长整型表示的日历的当前时间。</li>
<li><code>TimeZone getTimeZone()</code>：获取时区。</li>
<li><code>int getMinimum(int field)</code>：返回给定字段的最小值。</li>
<li><code>int hashCode()</code>：重写hashCode。</li>
<li><code>boolean isLeapYear(int year)</code>：确定给定的年份是否为闰年。</li>
<li><code>void roll(int field, boolean up)</code>：在给定的时间字段上添加或减去(上/下)单个时间单元，不更改更大的字段。</li>
<li><code>void set(int field, int value)</code>：用给定的值设置时间字段。</li>
<li><code>void set(int year, int month, int date)</code>：设置年、月、日的值。</li>
<li><code>void set(int year, int month, int date, int hour, int minute)</code>：设置年、月、日、小时、分钟的值。</li>
<li><code>void set(int year, int month, int date, int hour, int minute, int second)</code>：设置年、月、日、小时、分钟、秒的值。</li>
<li><code>void setGregorianChange(Date date)</code>：设置GregorianCalendar的更改日期。</li>
<li><code>void setTime(Date date)</code>：用给定的日期设置Calendar的当前时间。</li>
<li><code>void setTimeInMillis(long millis)</code>：用给定的long型毫秒数设置Calendar的当前时间。</li>
<li><code>void setTimeZone(TimeZone value)</code>：用给定时区值设置当前时区。</li>
<li><code>String toString()</code>：返回代表日历的字符串。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GregorianCalendarDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        String months[] = &#123;</span><br><span class="line">                <span class="string">"Jan"</span>, <span class="string">"Feb"</span>, <span class="string">"Mar"</span>, <span class="string">"Apr"</span>,</span><br><span class="line">                <span class="string">"May"</span>, <span class="string">"Jun"</span>, <span class="string">"Jul"</span>, <span class="string">"Aug"</span>,</span><br><span class="line">                <span class="string">"Sep"</span>, <span class="string">"Oct"</span>, <span class="string">"Nov"</span>, <span class="string">"Dec"</span></span><br><span class="line">        &#125;;</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">int</span> year;</span><br><span class="line">        <span class="comment">/* 初始化Gregorian日历，使用当前时间和日期，默认为本地时间和时区 */</span></span><br><span class="line">        GregorianCalendar gcalendar = <span class="keyword">new</span> GregorianCalendar();</span><br><span class="line">        <span class="comment">/* 显示当前时间和日期的信息 */</span></span><br><span class="line">        System.out.print(<span class="string">"Date："</span>);</span><br><span class="line">        System.out.print(months[gcalendar.get(Calendar.MONTH)]);</span><br><span class="line">        System.out.print(<span class="string">" "</span> + gcalendar.get(Calendar.DATE) + <span class="string">" "</span>);</span><br><span class="line">        System.out.println(year = gcalendar.get(Calendar.YEAR));</span><br><span class="line">        System.out.print(<span class="string">"Time："</span>);</span><br><span class="line">        System.out.print(gcalendar.get(Calendar.HOUR) + <span class="string">":"</span>);</span><br><span class="line">        System.out.print(gcalendar.get(Calendar.MINUTE) + <span class="string">":"</span>);</span><br><span class="line">        System.out.println(gcalendar.get(Calendar.SECOND));</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">if</span> (gcalendar.isLeapYear(year)) &#123; <span class="comment">/* 测试当前年份是否为闰年 */</span></span><br><span class="line">            System.out.println(<span class="string">"当前年份是闰年"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"当前年份不是闰年"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Date：May 29 2018</span><br><span class="line">Time：8:57:12</span><br><span class="line">当前年份不是闰年</span><br></pre></td></tr></table></figure>
<hr>
<p>&emsp;&emsp;Calender的月份是从0开始的，但日期和年份是从1开始的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Calendar c1 = Calendar.getInstance();</span><br><span class="line">        c1.set(<span class="number">2017</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">        System.out.println(c1.get(Calendar.YEAR)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.MONTH)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.DATE));</span><br><span class="line">        c1.set(<span class="number">2017</span>, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">        System.out.println(c1.get(Calendar.YEAR)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.MONTH)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.DATE));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2017-1-1</span><br><span class="line">2017-0-31</span><br></pre></td></tr></table></figure>
<p>可见，将日期设为0以后，月份变成了上个月，但月份可以为0。把月份改为2试试：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Calendar c1 = Calendar.getInstance();</span><br><span class="line">        c1.set(<span class="number">2017</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">        System.out.println(c1.get(Calendar.YEAR)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.MONTH)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.DATE));</span><br><span class="line">        c1.set(<span class="number">2017</span>, <span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line">        System.out.println(c1.get(Calendar.YEAR)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.MONTH)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.DATE));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2017-2-1</span><br><span class="line">2017-1-28</span><br></pre></td></tr></table></figure>
<p>可以看到上个月的最后一天是28号，所以Calendar.MONTH为1的时候是2月。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/21/Java/流和文件/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/Java/流和文件/" itemprop="url">流和文件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-21T21:07:12+08:00">
                2018-12-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;<code>Java.io</code>几乎包含了所有操作输入、输出需要的类，所有这些类代表了输入源和输出目标。<code>Java.io</code>中的流支持很多种格式，比如基本类型、对象、本地化字符集等。一个流可以理解为一个数据的序列，输入流表示从一个源读取数据，输出流表示向一个目标写数据。Java为<code>I/O</code>提供了强大的而灵活的支持，使其更广泛地应用到文件传输和网络编程中。</p>
<h3 id="读取控制台输入"><a href="#读取控制台输入" class="headerlink" title="读取控制台输入"></a>读取控制台输入</h3><p>&emsp;&emsp;Java的控制台输入由<code>System.in</code>完成。为了获得一个绑定到控制台的字符流，你可以把<code>System.in</code>包装在一个<code>BufferedReader</code>对象中来创建一个字符流。下面是创建BufferedReader的基本语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br></pre></td></tr></table></figure>
<p>BufferedReader对象创建后，我们便可以使用read方法从控制台读取一个字符，或者用readLine方法读取一个字符行。<br>&emsp;&emsp;read方法的语法格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span></span><br></pre></td></tr></table></figure>
<p>每次调用read方法，它从输入流读取一个字符并把该字符作为整数值返回。当流结束的时候返回<code>-1</code>，该方法会抛出<code>IOException</code>。<br>&emsp;&emsp;下面的程序示范了用read方法从控制台不断读取字符，直到用户输入<code>q</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BRRead</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> c;</span><br><span class="line">        <span class="comment">/* 使用System.in创建BufferedReader */</span></span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">        System.out.println(<span class="string">"输入字符, 按下“q”键退出。"</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">do</span> &#123; <span class="comment">/* 读取字符*/</span></span><br><span class="line">            c = (<span class="keyword">char</span>) br.read();</span><br><span class="line">            System.out.println(c);</span><br><span class="line">        &#125; <span class="keyword">while</span> (c != <span class="string">'q'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;readLine方法的语法格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span></span><br></pre></td></tr></table></figure>
<p>下面的程序读取和显示字符行，直到你输入了单词<code>end</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BRReadLines</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">/* 使用System.in创建BufferedReader */</span></span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">        String str;</span><br><span class="line">        System.out.println(<span class="string">"Enter lines of text."</span>);</span><br><span class="line">        System.out.println(<span class="string">"Enter 'end' to quit."</span>);</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            str = br.readLine();</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125; <span class="keyword">while</span> (!str.equals(<span class="string">"end"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="控制台输出"><a href="#控制台输出" class="headerlink" title="控制台输出"></a>控制台输出</h3><p>&emsp;&emsp;控制台的输出由print和println完成，这些方法都由类<code>PrintStream</code>定义，<code>System.out</code>是该类对象的一个引用。PrintStream继承了OutputStream类，并且实现了方法write，这样write也可以用来往控制台写操作。PrintStream定义write的最简单格式如下所示，该方法将byteval的低八位字节写到流中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> byteval)</span></span></span><br></pre></td></tr></table></figure>
<p>下面的例子用write把字符<code>A</code>和紧跟着的换行符输出到屏幕：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WriteDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> b;</span><br><span class="line">        b = <span class="string">'A'</span>;</span><br><span class="line">        System.out.write(b);</span><br><span class="line">        System.out.write(<span class="string">'\n'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意，write方法不经常使用，因为print和println方法用起来更为方便。</p>
<h3 id="读写文件"><a href="#读写文件" class="headerlink" title="读写文件"></a>读写文件</h3><h4 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h4><p>&emsp;&emsp;该流用于从文件读取数据，它的对象可以用关键字new来创建。有多种构造方法可用来创建对象：<br>&emsp;&emsp;可以使用字符串类型的文件名来创建一个输入流对象来读取文件：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStream f = <span class="keyword">new</span> FileInputStream(<span class="string">"C:/java/hello"</span>);</span><br></pre></td></tr></table></figure>
<p>也可以使用一个文件对象来创建一个输入流对象来读取文件。我们首先得使用File方法来创建一个文件对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">File f = <span class="keyword">new</span> File(<span class="string">"C:/java/hello"</span>);</span><br><span class="line">InputStream out = <span class="keyword">new</span> FileInputStream(f);</span><br></pre></td></tr></table></figure>
<p>创建了InputStream对象，就可以使用下面的方法来读取流或者进行其他的流操作：</p>
<ul>
<li><code>public void close() throws IOException{}</code>：关闭此文件输入流并释放与此流有关的所有系统资源。该方法会抛出<code>IOException</code>异常。</li>
<li><code>protected void finalize() throws IOException{}</code>：这个方法清除与该文件的连接。确保在不再引用文件输入流时调用其close方法。该方法会抛出<code>IOException</code>异常。</li>
<li><code>public int read(int r) throws IOException{}</code>：这个方法从InputStream对象读取指定字节的数据。返回一个整数值，即下一字节数据。如果已经到结尾，则返回<code>-1</code>。</li>
<li><code>public int read(byte[] r) throws IOException{}</code>：这个方法从输入流读取r.length长度的字节。返回读取的字节数。如果是文件结尾，则返回<code>-1</code>。</li>
<li><code>public int available() throws IOException{}</code>：返回下一次对此输入流调用的方法可以不受阻塞地从此输入流读取的字节数。返回一个整数值。</li>
</ul>
<h4 id="FileOutputStream"><a href="#FileOutputStream" class="headerlink" title="FileOutputStream"></a>FileOutputStream</h4><p>&emsp;&emsp;该类用来创建一个文件并向文件中写数据。如果该流在打开文件进行输出前，目标文件不存在，那么该流会创建该文件。有两个构造方法可以用来创建FileOutputStream对象：<br>&emsp;&emsp;使用字符串类型的文件名来创建一个输出流对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OutputStream f = <span class="keyword">new</span> FileOutputStream(<span class="string">"C:/java/hello"</span>);</span><br></pre></td></tr></table></figure>
<p>也可以使用一个文件对象来创建一个输出流来写文件。我们首先得使用File方法来创建一个文件对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">File f = <span class="keyword">new</span> File(<span class="string">"C:/java/hello"</span>);</span><br><span class="line">OutputStream f = <span class="keyword">new</span> FileOutputStream(f);</span><br></pre></td></tr></table></figure>
<p>创建OutputStream对象完成后，就可以使用下面的方法来写入流或者进行其他的流操作：</p>
<ul>
<li><code>public void close() throws IOException{}</code>：关闭此文件输入流并释放与此流有关的所有系统资源。该方法会抛出<code>IOException</code>异常。</li>
<li><code>protected void finalize() throws IOException{}</code>：这个方法清除与该文件的连接。确保在不再引用文件输入流时调用其close方法。该方法会抛出<code>IOException</code>异常。</li>
<li><code>public void write(int w) throws IOException{}</code>：这个方法把指定的字节写到输出流中。</li>
<li><code>public void write(byte[] w)</code>：把指定数组中w.length长度的字节写到OutputStream中。</li>
</ul>
<p>&emsp;&emsp;下面的代码演示InputStream和OutputStream的用法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">fileStreamTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">byte</span> bWrite[] = &#123;<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>&#125;;</span><br><span class="line">            OutputStream os = <span class="keyword">new</span> FileOutputStream(<span class="string">"test.txt"</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; bWrite.length; x++) &#123;</span><br><span class="line">                os.write(bWrite[x]); <span class="comment">/* writes the bytes */</span></span><br><span class="line">            &#125;</span><br><span class="line">            os.close();</span><br><span class="line">​</span><br><span class="line">            InputStream is = <span class="keyword">new</span> FileInputStream(<span class="string">"test.txt"</span>);</span><br><span class="line">            <span class="keyword">int</span> size = is.available();</span><br><span class="line">​</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                System.out.print((<span class="keyword">char</span>) is.read() + <span class="string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            is.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            System.out.print(<span class="string">"Exception"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上代码由于是二进制写入，可能存在乱码，你可以使用以下代码实例来解决乱码问题：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">fileStreamTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        File f = <span class="keyword">new</span> File(<span class="string">"a.txt"</span>);</span><br><span class="line">        <span class="comment">/* 构建FileOutputStream对象，文件不存在会自动新建 */</span></span><br><span class="line">        FileOutputStream fop = <span class="keyword">new</span> FileOutputStream(f);</span><br><span class="line">        <span class="comment">/* 构建OutputStreamWriter对象，参数可以指定编码，默认为操作系统默认编码 */</span></span><br><span class="line">        OutputStreamWriter writer = <span class="keyword">new</span> OutputStreamWriter(fop, <span class="string">"UTF-8"</span>);</span><br><span class="line">        writer.append(<span class="string">"中文输入"</span>); <span class="comment">/* 写入到缓冲区 */</span></span><br><span class="line">        writer.append(<span class="string">"\r\n"</span>); <span class="comment">/* 换行 */</span></span><br><span class="line">        writer.append(<span class="string">"English"</span>);</span><br><span class="line">        writer.close(); <span class="comment">/* 关闭写入流，同时会把缓冲区内容写入文件 */</span></span><br><span class="line">        fop.close(); <span class="comment">/* 关闭输出流，释放系统资源 */</span></span><br><span class="line">​</span><br><span class="line">        FileInputStream fip = <span class="keyword">new</span> FileInputStream(f); <span class="comment">/* 构建FileInputStream对象 */</span></span><br><span class="line">        <span class="comment">/* 构建InputStreamReader对象，编码与写入相同 */</span></span><br><span class="line">        InputStreamReader reader = <span class="keyword">new</span> InputStreamReader(fip, <span class="string">"UTF-8"</span>);</span><br><span class="line">        StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">while</span> (reader.ready()) &#123;</span><br><span class="line">            sb.append((<span class="keyword">char</span>) reader.read()); <span class="comment">/* 转成char加到StringBuffer对象中 */</span></span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        System.out.println(sb.toString());</span><br><span class="line">        reader.close(); <span class="comment">/* 关闭读取流 */</span></span><br><span class="line">        fip.close(); <span class="comment">/* 关闭输入流，释放系统资源 */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;FileOutputStream的另一个构造函数是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">FileOutputStream</span><span class="params">(File file, <span class="keyword">boolean</span> append)</span> <span class="keyword">throws</span> FileNotFoundException</span>;</span><br></pre></td></tr></table></figure>
<p>如果将append设置为true，则表示在文件的末尾追加内容。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Read</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">/* 创建一个文件字节输出流对象 */</span></span><br><span class="line">            FileOutputStream os = <span class="keyword">new</span> FileOutputStream(<span class="string">"io.txt"</span>, <span class="keyword">true</span>); <span class="comment">/* 追加方式 */</span></span><br><span class="line">            String string = <span class="string">"hello IO Stream"</span>; <span class="comment">/* 写入的数据 */</span></span><br><span class="line">            <span class="keyword">byte</span>[] bytes = string.getBytes(); <span class="comment">/* 转化为字节数组 */</span></span><br><span class="line">            os.write(bytes); <span class="comment">/* 全部写入 */</span></span><br><span class="line">            os.close(); <span class="comment">/* 关闭流 */</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><h4 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h4><p>&emsp;&emsp;File类中有两个方法可以用来创建文件夹：</p>
<ul>
<li>mkdir方法创建一个文件夹，成功则返回true，失败则返回false。失败表明File对象指定的路径已经存在，或者由于整个路径还不存在，该文件夹不能被创建。</li>
<li>mkdirs方法创建一个文件夹和它的所有父文件夹。</li>
</ul>
<p>下面的例子在当前目录下创建<code>hello</code>文件夹：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CreateDir</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        String dirname = <span class="string">"./hello"</span>;</span><br><span class="line">        File d = <span class="keyword">new</span> File(dirname);</span><br><span class="line">        d.mkdirs(); <span class="comment">/* 现在创建目录 */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意，Java在UNIX和Windows自动按约定分辨文件路径分隔符。如果你在Windows版本的Java中使用分隔符<code>/</code>，路径依然能够被正确解析。</p>
<h4 id="读取目录"><a href="#读取目录" class="headerlink" title="读取目录"></a>读取目录</h4><p>&emsp;&emsp;一个目录其实就是一个File对象，它包含其他文件和文件夹。如果创建一个File对象并且它是一个目录，那么调用isDirectory方法会返回true。可以通过调用该对象上的list方法，来提取它包含的文件和文件夹的列表。下面的例子说明如何使用list方法来检查一个文件夹中包含的内容：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DirList</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        String dirname = <span class="string">"./"</span>;</span><br><span class="line">        File f1 = <span class="keyword">new</span> File(dirname);</span><br><span class="line">        <span class="keyword">if</span> (f1.isDirectory()) &#123;</span><br><span class="line">            System.out.println(<span class="string">"目录 "</span> + dirname);</span><br><span class="line">            String s[] = f1.list();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length; i++) &#123;</span><br><span class="line">                File f = <span class="keyword">new</span> File(dirname + <span class="string">"/"</span> + s[i]);</span><br><span class="line">                <span class="keyword">if</span> (f.isDirectory()) &#123;</span><br><span class="line">                    System.out.println(s[i] + <span class="string">"是一个目录"</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    System.out.println(s[i] + <span class="string">"是一个文件"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(dirname + <span class="string">"不是一个目录"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">目录 ./</span><br><span class="line">.idea是一个目录</span><br><span class="line">a.txt是一个文件</span><br><span class="line">hello是一个目录</span><br><span class="line">lib是一个目录</span><br><span class="line">out是一个目录</span><br><span class="line">src是一个目录</span><br><span class="line">test.txt是一个文件</span><br><span class="line">untitled2.iml是一个文件</span><br></pre></td></tr></table></figure>
<h4 id="删除目录或文件"><a href="#删除目录或文件" class="headerlink" title="删除目录或文件"></a>删除目录或文件</h4><p>&emsp;&emsp;删除文件可以使用<code>java.io.File.delete</code>方法。以下代码会删除一个目录，即便目录不为空：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeleteFileDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        File folder = <span class="keyword">new</span> File(<span class="string">"./hello"</span>);</span><br><span class="line">        deleteFolder(folder);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="comment">/* 删除文件及目录 */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleteFolder</span><span class="params">(File folder)</span> </span>&#123;</span><br><span class="line">        File[] files = folder.listFiles();</span><br><span class="line">        <span class="keyword">if</span> (files != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (File f : files) &#123;</span><br><span class="line">                <span class="keyword">if</span> (f.isDirectory()) &#123;</span><br><span class="line">                    deleteFolder(f);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    f.delete();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        folder.delete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h3><p>&emsp;&emsp;Java文件类以抽象的方式代表文件名和目录路径名，该类主要用于文件和目录的创建、文件的查找和文件的删除等。File对象代表磁盘中实际存在的文件和目录，可以通过以下构造方法创建一个File对象。</p>
<ul>
<li>通过给定的父抽象路径名和子路径名字符串，创建一个新的File实例：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File(File parent, String child);</span><br></pre></td></tr></table></figure>
<ul>
<li>通过将给定路径名字符串转换成抽象路径名，创建一个新File实例：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File(String pathname);</span><br></pre></td></tr></table></figure>
<ul>
<li>根据parent路径名字符串和child路径名字符串，创建一个新File实例：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File(String parent, String child);</span><br></pre></td></tr></table></figure>
<p>通过将给定的<code>file: URI</code>转换成一个抽象路径名，创建一个新的File实例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File(URI uri);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;创建File对象成功后，可以使用如下方法操作文件：</p>
<ul>
<li><code>public String getName()</code>：返回由此抽象路径名表示的文件或目录的名称。</li>
<li><code>public String getParent()</code>：返回此抽象路径名的父路径名的路径名字符串，如果此路径名没有指定父目录，则返回null。</li>
<li><code>public File getParentFile()</code>：返回此抽象路径名的父路径名的抽象路径名，如果此路径名没有指定父目录，则返回null。</li>
<li><code>public String getPath()</code>：将此抽象路径名转换为一个路径名字符串。</li>
<li><code>public boolean isAbsolute()</code>：测试此抽象路径名是否为绝对路径名。</li>
<li><code>public String getAbsolutePath()</code>：返回抽象路径名的绝对路径名字符串。</li>
<li><code>public boolean canRead()</code>：测试应用程序是否可以读取此抽象路径名表示的文件。</li>
<li><code>public boolean canWrite()</code>：测试应用程序是否可以修改此抽象路径名表示的文件。</li>
<li><code>public boolean exists()</code>：测试此抽象路径名表示的文件或目录是否存在。</li>
<li><code>public boolean isDirectory()</code>：测试此抽象路径名表示的文件是否是一个目录。</li>
<li><code>public boolean isFile()</code>：测试此抽象路径名表示的文件是否是一个标准文件。</li>
<li><code>public long lastModified()</code>：返回此抽象路径名表示的文件最后一次被修改的时间。</li>
<li><code>public long length()</code>：返回由此抽象路径名表示的文件的长度。</li>
<li><code>public boolean createNewFile() throws IOException</code>：当且仅当不存在具有此抽象路径名指定名称的文件时，原子地创建由此抽象路径名指定的一个新的空文件。</li>
<li><code>public boolean delete()</code>：删除此抽象路径名表示的文件或目录。</li>
<li><code>public void deleteOnExit()</code>：在虚拟机终止时，请求删除此抽象路径名表示的文件或目录。</li>
<li><code>public String[] list()</code>：返回由此抽象路径名所表示的目录中的文件和目录的名称所组成字符串数组。</li>
<li><code>public String[] list(FilenameFilter filter)</code>：返回由包含在目录中的文件和目录的名称所组成的字符串数组，这一目录是通过满足指定过滤器的抽象路径名来表示的。</li>
<li><code>public File[] listFiles()</code>：返回一个抽象路径名数组，这些路径名表示此抽象路径名所表示目录中的文件。</li>
<li><code>public File[] listFiles(FileFilter filter)</code>：返回表示此抽象路径名所表示目录中的文件和目录的抽象路径名数组，这些路径名满足特定过滤器。</li>
<li><code>public boolean mkdir()</code>：创建此抽象路径名指定的目录。</li>
<li><code>public boolean mkdirs()</code>：创建此抽象路径名指定的目录，包括创建必需但不存在的父目录。</li>
<li><code>public boolean renameTo(File dest)</code>：重新命名此抽象路径名表示的文件。</li>
<li><code>public boolean setLastModified(long time)</code>：设置由此抽象路径名所指定的文件或目录的最后一次修改时间。</li>
<li><code>public boolean setReadOnly()</code>：标记此抽象路径名指定的文件或目录，以便只可对其进行读操作。</li>
<li><code>public static File createTempFile(String prefix, String suffix, File directory) throws IOException</code>：在指定目录中创建一个新的空文件，使用给定的前缀和后缀字符串生成其名称。</li>
<li><code>public static File createTempFile(String prefix, String suffix) throws IOException</code>：在默认临时文件目录中创建一个空文件，使用给定前缀和后缀生成其名称。</li>
<li><code>public int compareTo(File pathname)</code>：按字母顺序比较两个抽象路径名。</li>
<li><code>public int compareTo(Object o)</code>：按字母顺序比较抽象路径名与给定对象。</li>
<li><code>public boolean equals(Object obj)</code>：测试此抽象路径名与给定对象是否相等。</li>
<li><code>public String toString()</code>：返回此抽象路径名的路径名字符串。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DirList</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        String dirname = <span class="string">"/java"</span>;</span><br><span class="line">        File f1 = <span class="keyword">new</span> File(dirname);</span><br><span class="line">        <span class="keyword">if</span> (f1.isDirectory()) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Directory of "</span> + dirname);</span><br><span class="line">            String s[] = f1.list();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length; i++) &#123;</span><br><span class="line">                File f = <span class="keyword">new</span> File(dirname + <span class="string">"/"</span> + s[i]);</span><br><span class="line">                <span class="keyword">if</span> (f.isDirectory()) &#123;</span><br><span class="line">                    System.out.println(s[i] + <span class="string">" is a directory"</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    System.out.println(s[i] + <span class="string">" is a file"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(dirname + <span class="string">" is not a directory"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Directory of .</span><br><span class="line">.idea is a directory</span><br><span class="line">a.txt is a file</span><br><span class="line">Hello1.txt is a file</span><br><span class="line">lib is a directory</span><br><span class="line">out is a directory</span><br><span class="line">src is a directory</span><br><span class="line">test.txt is a file</span><br><span class="line">untitled2.iml is a file</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="FileReader类"><a href="#FileReader类" class="headerlink" title="FileReader类"></a>FileReader类</h3><p>&emsp;&emsp;FileReader类从InputStreamReader类继承而来，该类按字符读取流中数据。可以通过以下几种构造方法创建需要的对象。</p>
<ul>
<li>在给定从中读取数据的File的情况下，创建一个新FileReader：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileReader(File file);</span><br></pre></td></tr></table></figure>
<ul>
<li>在给定从中读取数据的FileDescriptor的情况下，创建一个新FileReader：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileReader(FileDescriptor fd);</span><br></pre></td></tr></table></figure>
<ul>
<li>在给定从中读取数据的文件名的情况下，创建一个新FileReader：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileReader(String fileName);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;创建FIleReader对象成功后，可以使用如下方法操作文件：</p>
<ul>
<li><code>public int read() throws IOException</code>：读取单个字符，返回一个int型变量代表读取到的字符。</li>
<li><code>public int read(char [] c, int offset, int len)</code>：读取字符到c数组，返回读取到字符的个数。</li>
</ul>
<h3 id="FileWriter类"><a href="#FileWriter类" class="headerlink" title="FileWriter类"></a>FileWriter类</h3><p>&emsp;&emsp;FileWriter类从OutputStreamWriter类继承而来，该类按字符向流中写入数据。可以通过以下几种构造方法创建需要的对象：</p>
<ul>
<li>在给出File对象的情况下构造一个FileWriter对象：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileWriter(File file);</span><br></pre></td></tr></table></figure>
<ul>
<li>在给出File对象的情况下构造一个FileWriter对象，它具有指示是否挂起写入数据的boolean值：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileWriter(File file, <span class="keyword">boolean</span> append);</span><br></pre></td></tr></table></figure>
<ul>
<li>构造与某个文件描述符相关联的FileWriter对象：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileWriter(FileDescriptor fd);</span><br></pre></td></tr></table></figure>
<ul>
<li>在给出文件名的情况下构造FileWriter对象，它具有指示是否挂起写入数据的boolean值：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileWriter(String fileName, <span class="keyword">boolean</span> append);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;创建FileWriter对象成功后，可以使用如下方法操作文件：</p>
<ul>
<li><code>public void write(int c) throws IOException</code>：写入单个字符c。</li>
<li><code>public void write(char [] c, int offset, int len)</code>：写入字符数组中开始为offset长度为len的某一部分。</li>
<li><code>public void write(String s, int offset, int len)</code>：写入字符串中开始为offset长度为len的某一部分。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileRead</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"Hello1.txt"</span>);</span><br><span class="line">        file.createNewFile(); <span class="comment">/* 创建文件 */</span></span><br><span class="line">        FileWriter writer = <span class="keyword">new</span> FileWriter(file); <span class="comment">/* 创建FileWriter对象 */</span></span><br><span class="line">        writer.write(<span class="string">"This\n is\n an\n example\n"</span>); <span class="comment">/* 向文件写入内容 */</span></span><br><span class="line">        writer.flush();</span><br><span class="line">        writer.close();</span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(file); <span class="comment">/* 创建FileReader对象 */</span></span><br><span class="line">        <span class="keyword">char</span>[] a = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">50</span>];</span><br><span class="line">        fr.read(a); <span class="comment">/* 读取内容值数组中 */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : a)</span><br><span class="line">            System.out.print(c); <span class="comment">/* 一个个打印字符 */</span></span><br><span class="line">        fr.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">This</span><br><span class="line"> is</span><br><span class="line"> an</span><br><span class="line"> example</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="FileFilter筛选文件"><a href="#FileFilter筛选文件" class="headerlink" title="FileFilter筛选文件"></a>FileFilter筛选文件</h3><p>&emsp;&emsp;创建了一个FileFilter类，此类根据文件名的扩展名是否为<code>.txt</code>来筛选文件。创建FileFilter实例之后，需要将此实例作为参数传给File的<code>listFiles(fileFilter)</code>方法，此方法会返回符合条件文件的数组：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileFilter;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileUtil</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myListFiles</span><span class="params">(String dir)</span> </span>&#123;</span><br><span class="line">        File directory = <span class="keyword">new</span> File(dir);</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">if</span> (!directory.isDirectory()) &#123;</span><br><span class="line">            System.out.println(<span class="string">"No directory provided"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        File[] files = directory.listFiles(filefilter);</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">for</span> (File f : files) &#123;</span><br><span class="line">            System.out.println(f.getName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="comment">/* create a FileFilter and override its accept-method */</span></span><br><span class="line">    FileFilter filefilter = <span class="keyword">new</span> FileFilter() &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (file.getName().endsWith(<span class="string">".txt"</span>)) &#123; <span class="comment">/* if the file extension is ".txt" return true, else false */</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        FileUtil fileutil = <span class="keyword">new</span> FileUtil();</span><br><span class="line">        fileutil.myListFiles(<span class="string">"C:\\\\python3.6"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LICENSE.txt</span><br><span class="line">NEWS.txt</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="BufferedInputStream类"><a href="#BufferedInputStream类" class="headerlink" title="BufferedInputStream类"></a>BufferedInputStream类</h3><p>&emsp;&emsp;<code>BufferedInputStream</code>是缓冲输入流，继承于<code>FilterInputStream</code>，作用是为另一个输入流添加一些功能，本质上是通过一个内部缓冲数组实现的。例如，在新建某输入流对应的<code>BufferedInputStream</code>后，当通过read读取数据时，<code>BufferedInputStream</code>会将输入流的数据分批地填入到缓冲区中，每当缓冲区的数据读完之后，输入流会再次填充数据缓冲区，直到读完数据。<br>&emsp;&emsp;BufferedInputStream主要的函数如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">BufferedInputStream(InputStream in);</span><br><span class="line">BufferedInputStream(InputStream in, <span class="keyword">int</span> size);</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">available</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">close</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">mark</span><span class="params">(<span class="keyword">int</span> readlimit)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">markSupported</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">byte</span>[] buffer, <span class="keyword">int</span> offset, <span class="keyword">int</span> byteCount)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">reset</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">long</span> <span class="title">skip</span><span class="params">(<span class="keyword">long</span> byteCount)</span></span>;</span><br></pre></td></tr></table></figure>
<p>代码示例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedInputStreamTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readFromFile</span><span class="params">(String filename)</span> </span>&#123; <span class="comment">/* 从文件中读取文本 */</span></span><br><span class="line">        BufferedInputStream bufferedInput = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">/* 创建BufferedInputStream对象 */</span></span><br><span class="line">            bufferedInput = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(filename));</span><br><span class="line">            <span class="keyword">int</span> bytesRead = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">/* 从文件中按字节读取内容，到文件尾部时，read方法将返回“-1” */</span></span><br><span class="line">            <span class="keyword">while</span> ((bytesRead = bufferedInput.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                String chunk = <span class="keyword">new</span> String(buffer, <span class="number">0</span>, bytesRead); <span class="comment">/* 将读取的字节转为字符串对象 */</span></span><br><span class="line">                System.out.print(chunk);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (bufferedInput != <span class="keyword">null</span>)</span><br><span class="line">                    bufferedInput.close(); <span class="comment">/* 关闭BufferedInputStream */</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">                ex.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        readFromFile(<span class="string">"src/hello.txt"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="ByteArrayOutputStream类"><a href="#ByteArrayOutputStream类" class="headerlink" title="ByteArrayOutputStream类"></a>ByteArrayOutputStream类</h3><p>&emsp;&emsp;字节数组输出流在内存中创建一个字节数组缓冲区，所有发送到输出流的数据保存在该字节数组缓冲区中。下面的构造方法创建一个32字节(默认大小)的缓冲区：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OutputStream bOut = <span class="keyword">new</span> ByteArrayOutputStream();</span><br></pre></td></tr></table></figure>
<p>另一个构造方法创建一个大小为n字节的缓冲区：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OutputStream bOut = <span class="keyword">new</span> ByteArrayOutputStream(<span class="keyword">int</span> a);</span><br></pre></td></tr></table></figure>
<p>成功创建字节数组输出流对象后，可以参见以下列表中的方法，对流进行写操作或其他操作：</p>
<ul>
<li><code>public void reset()</code>：将此字节数组输出流的count字段重置为零，从而丢弃输出流中目前已累积的所有数据输出。</li>
<li><code>public byte[] toByteArray()</code>：创建一个新分配的字节数组。数组的大小相当于当前输出流的大小，内容是当前输出流的拷贝。</li>
<li><code>public String toString()</code>：将缓冲区的内容转换为字符串，根据平台的默认字符编码将字节转换成字符。</li>
<li><code>public void write(int w)</code>：将指定的字节写入此字节数组输出流。</li>
<li><code>public void write(byte []b, int off, int len)</code>：将指定字节数组中从偏移量off开始的len个字节写入此字节数组输出流。</li>
<li><code>public void writeTo(OutputStream outSt)</code>：将此字节数组输出流的全部内容写入到指定的输出流参数中。</li>
</ul>
<h3 id="ByteArrayInputStream类"><a href="#ByteArrayInputStream类" class="headerlink" title="ByteArrayInputStream类"></a>ByteArrayInputStream类</h3><p>&emsp;&emsp;字节数组输入流在内存中创建一个字节数组缓冲区，从输入流读取的数据保存在该字节数组缓冲区中。接收字节数组作为参数进行创建：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ByteArrayInputStream bArray = <span class="keyword">new</span> ByteArrayInputStream(<span class="keyword">byte</span>[] a);</span><br></pre></td></tr></table></figure>
<p>另一种创建方式是接收一个字节数组，和两个整形变量off、len。off表示第一个读取的字节，len表示读取字节的长度：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ByteArrayInputStream bArray = <span class="keyword">new</span> ByteArrayInputStream( <span class="keyword">byte</span>[] a, <span class="keyword">int</span> off, <span class="keyword">int</span> len);</span><br></pre></td></tr></table></figure>
<p>成功创建字节数组输入流对象后，可以参见以下列表中的方法，对流进行读操作或其他操作：</p>
<ul>
<li><code>public int read()</code>：从此输入流中读取下一个数据字节。</li>
<li><code>public int read(byte[] r, int off, int len)</code>：将最多len个数据字节从此输入流读入字节数组。</li>
<li><code>public int available()</code>：返回可不发生阻塞地从此输入流读取的字节数。</li>
<li><code>public void mark(int read)</code>：设置流中的当前标记位置。</li>
<li><code>public long skip(long n)</code>：从此输入流中跳过n个输入字节。</li>
</ul>
<p>&emsp;&emsp;以下代码演示了ByteArrayInputStream和ByteArrayOutputStream的使用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ByteStreamTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ByteArrayOutputStream bOutput = <span class="keyword">new</span> ByteArrayOutputStream(<span class="number">12</span>);</span><br><span class="line">        <span class="keyword">while</span> (bOutput.size() != <span class="number">5</span>) &#123;</span><br><span class="line">            bOutput.write(System.in.read()); <span class="comment">/* 获取用户输入 */</span></span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">byte</span> b[] = bOutput.toByteArray();</span><br><span class="line">        System.out.println(<span class="string">"Print the content"</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; b.length; x++) &#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>) b[x] + <span class="string">" "</span>); <span class="comment">/* 打印字符 */</span></span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        System.out.println();</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">int</span> c;</span><br><span class="line">​</span><br><span class="line">        ByteArrayInputStream bInput = <span class="keyword">new</span> ByteArrayInputStream(b);</span><br><span class="line">        System.out.println(<span class="string">"Converting characters to Upper case "</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">while</span> ((c = bInput.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(Character.toUpperCase((<span class="keyword">char</span>) c));</span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        bInput.reset();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/21/Java/Properties类/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/Java/Properties类/" itemprop="url">Properties类</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-21T20:41:14+08:00">
                2018-12-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;Properties继承于Hashtable，表示一个持久的属性集，属性列表中每个键及其对应值都是一个字符串。Properties类被许多Java类使用，例如在获取环境变量时，它就作为<code>System.getProperties</code>方法的返回值。<br>&emsp;&emsp;Properties定义如下实例变量，这个变量持有一个Properties对象相关的默认属性列表：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Properties defaults;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;Properties类定义了两个构造方法，第一个构造方法没有默认值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Properties();</span><br></pre></td></tr></table></figure>
<p>第二个构造方法使用propDefault作为默认值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Properties(Properties propDefault);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;除了从Hashtable中继承的方法，Properties还定义了以下方法：</p>
<ul>
<li><code>String getProperty(String key)</code>：用指定的键在此属性列表中搜索属性。</li>
<li><code>String getProperty(String key, String defaultProperty)</code>：用指定的键在此属性列表中搜索属性。</li>
<li><code>void list(PrintStream streamOut)</code>：将属性列表输出到指定的输出流。</li>
<li><code>void list(PrintWriter streamOut)</code>：将属性列表输出到指定的输出流。</li>
<li><code>void load(InputStream streamIn) throws IOException</code>：从输入流中读取属性列表(键和元素对)。</li>
<li><code>Enumeration propertyNames()</code>：按简单的面向行的格式从输入字符流中读取属性列表(键和元素对)。</li>
<li><code>Object setProperty(String key, String value)</code>：调用Hashtable的方法put。</li>
<li><code>void store(OutputStream streamOut, String description)</code>：以适合使用<code>load(InputStream)</code>方法加载到Properties表中的格式，将此Properties表中的属性列表(键和元素对)写入输出流。</li>
</ul>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PropDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Properties capitals = <span class="keyword">new</span> Properties();</span><br><span class="line">        Set states;</span><br><span class="line">        String str;</span><br><span class="line">​</span><br><span class="line">        capitals.put(<span class="string">"Illinois"</span>, <span class="string">"Springfield"</span>);</span><br><span class="line">        capitals.put(<span class="string">"Missouri"</span>, <span class="string">"Jefferson City"</span>);</span><br><span class="line">        capitals.put(<span class="string">"Washington"</span>, <span class="string">"Olympia"</span>);</span><br><span class="line">        capitals.put(<span class="string">"California"</span>, <span class="string">"Sacramento"</span>);</span><br><span class="line">        capitals.put(<span class="string">"Indiana"</span>, <span class="string">"Indianapolis"</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="comment">/* Show all states and capitals in hashtable */</span></span><br><span class="line">        states = capitals.keySet(); <span class="comment">/* get set-view of keys */</span></span><br><span class="line">        Iterator itr = states.iterator();</span><br><span class="line">        <span class="keyword">while</span> (itr.hasNext()) &#123;</span><br><span class="line">            str = (String) itr.next();</span><br><span class="line">            System.out.println(<span class="string">"The capital of "</span> + str + <span class="string">" is "</span> + capitals.getProperty(str) + <span class="string">"."</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">​</span><br><span class="line">        <span class="comment">/* look for state not in list -- specify default */</span></span><br><span class="line">        str = capitals.getProperty(<span class="string">"Florida"</span>, <span class="string">"Not Found"</span>);</span><br><span class="line">        System.out.println(<span class="string">"The capital of Florida is "</span> + str + <span class="string">"."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">The capital of Indiana is Indianapolis.</span><br><span class="line">The capital of Illinois is Springfield.</span><br><span class="line">The capital of Missouri is Jefferson City.</span><br><span class="line">The capital of California is Sacramento.</span><br><span class="line">The capital of Washington is Olympia.</span><br><span class="line">​</span><br><span class="line">The capital of Florida is Not Found.</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;Java的Iterator功能比较简单，并且只能单向移动：</p>
<ul>
<li>使用方法<code>iterator</code>要求容器返回一个Iterator。注意，iterator方法是<code>java.lang.Iterable</code>接口，被Collection继承。</li>
<li>使用<code>next</code>获得序列中的下一个元素。第一次调用Iterator的next方法时，它返回序列的第一个元素。</li>
<li>使用<code>hasNext</code>检查序列中是否还有元素。</li>
<li>使用<code>remove</code>将迭代器新返回的元素删除。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/83/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/83/">83</a><span class="page-number current">84</span><a class="page-number" href="/page/85/">85</a><span class="space">&hellip;</span><a class="page-number" href="/page/95/">95</a><a class="extend next" rel="next" href="/page/85/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">付康为</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">949</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">付康为</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
