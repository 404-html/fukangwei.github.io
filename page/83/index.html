<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="暴徒">
<meta property="og:url" content="http://fukangwei.gitee.io/page/83/index.html">
<meta property="og:site_name" content="暴徒">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="暴徒">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '561O3H1PZB',
      apiKey: '7631d3cf19ac49bd39ada7163ec937a7',
      indexName: 'fuxinzi',
      hits: "",
      labels: ""
    }
  };
</script>



  <link rel="canonical" href="http://fukangwei.gitee.io/page/83/">





  <title>暴徒</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">暴徒</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/22/Java/异常处理/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="暴徒">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/22/Java/异常处理/" itemprop="url">异常处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-22T21:54:36+08:00">
                2018-12-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;异常是程序中的一些错误，但并不是所有的错误都是异常，并且错误有时候是可以避免的。例如你的代码少了一个分号，那么运行出来结果是提示错误<code>java.lang.Error</code>；如果你使用<code>System.out.println(11/0)</code>，用0做了除数，会抛出<code>java.lang.ArithmeticException</code>的异常。<br>&emsp;&emsp;异常发生的原因有很多，通常包含以下几大类：用户输入了非法数据；要打开的文件不存在；网络通信时连接中断；JVM内存溢出。这些异常有的是因为用户错误引起，有的是程序错误引起的，还有其它一些是因为物理错误引起的。<br>&emsp;&emsp;要理解Java异常处理是如何工作的，你需要掌握以下三种类型的异常：</p>
<ul>
<li><code>检查性异常</code>：最具代表的检查性异常是用户错误或问题引起的异常，这是程序员无法预见的。例如要打开一个不存在文件时，一个异常就发生了，这些异常在编译时不能被简单地忽略。</li>
<li><code>运行时异常</code>：运行时异常是可能被程序员避免的异常。与检查性异常相反，运行时异常可以在编译时被忽略。</li>
<li><code>错误</code>：错误不是异常，而是脱离程序员控制的问题。例如当栈溢出时，一个错误就发生了，它们在编译时检查不到。</li>
</ul>
<h3 id="Exception类的层次"><a href="#Exception类的层次" class="headerlink" title="Exception类的层次"></a>Exception类的层次</h3><p>&emsp;&emsp;所有的异常类是从<code>java.lang.Exception</code>类继承的子类，Exception类是Throwable类的子类。除了Exception类外，Throwable还有一个子类Error，Error用来指示运行时环境发生的错误，例如JVM内存溢出。一般情况下，程序不会从错误中恢复。异常类有两个主要的子类：<code>IOException</code>类和<code>RuntimeException</code>类。</p>
<h3 id="Java内置异常类"><a href="#Java内置异常类" class="headerlink" title="Java内置异常类"></a>Java内置异常类</h3><p>&emsp;&emsp;Java定义了一些异常类在<code>java.lang</code>标准包中。标准运行时异常类的子类是最常见的异常类。由于<code>java.lang</code>包是默认加载到所有的Java程序的，所以大部分从运行时异常类继承而来的异常都可以直接使用。<br>&emsp;&emsp;Java根据各个类库也定义了一些其他的异常，下面列出了Java的非检查性异常：</p>
<ul>
<li><code>ArithmeticException</code>：当出现异常的运算条件时，抛出此异常。例如一个整数除以零时，Java将会抛出此类异常。</li>
<li><code>ArrayIndexOutOfBoundsException</code>：用非法索引访问数组时抛出的异常。如果索引为负或大于等于数组大小，则该索引为非法索引。</li>
<li><code>ArrayStoreException</code>：试图将错误类型的对象存储到一个对象数组时抛出的异常。</li>
<li><code>ClassCastException</code>：试图将对象强制转换为不是实例的子类时抛出该异常。</li>
<li><code>IllegalArgumentException</code>：抛出的异常表明向方法传递了一个不合法或不正确的参数。</li>
<li><code>IllegalMonitorStateException</code>：抛出的异常表明某一线程已经试图等待对象的监视器，或者试图通知其他正在等待对象的监视器而本身没有指定监视器的线程。</li>
<li><code>IllegalStateException</code>：在非法或不适当的时间调用方法时产生的信号。换句话说，即Java环境或Java应用程序没有处于请求操作所要求的适当状态下。</li>
<li><code>IllegalThreadStateException</code>：线程没有处于请求操作所要求的适当状态时抛出的异常。</li>
<li><code>IndexOutOfBoundsException</code>：指示某排序索引(例如对数组、字符串或向量的排序)超出范围时抛出。</li>
<li><code>NegativeArraySizeException</code>：如果应用程序试图创建大小为负的数组，则抛出该异常。</li>
<li><code>NullPointerException</code>：当应用程序试图在需要对象的地方使用null时，抛出该异常。</li>
<li><code>NumberFormatException</code>：当应用程序试图将字符串转换成一种数值类型，但该字符串不能转换为适当格式时，抛出该异常。</li>
<li><code>SecurityException</code>：由安全管理器抛出的异常，指示存在安全侵犯。</li>
<li><code>StringIndexOutOfBoundsException</code>：此异常由String方法抛出，指示索引或者为负，或者超出字符串的大小。</li>
<li><code>UnsupportedOperationException</code>：当出现不支持的操作时，抛出该异常。</li>
</ul>
<p>下面的表中列出了Java定义在<code>java.lang</code>包中的检查性异常类：</p>
<ul>
<li><code>ClassNotFoundException</code>：应用程序加载类时，如果找不到相应的类，抛出该异常。</li>
<li><code>CloneNotSupportedException</code>：当调用Object类中的clone方法克隆对象，但该对象的类无法实现Cloneable接口时，抛出该异常。</li>
<li><code>IllegalAccessException</code>：拒绝访问一个类的时候，抛出该异常。</li>
<li><code>InstantiationException</code>：当试图使用Class类中的newInstance方法创建一个类的实例，而指定的类对象因为是一个接口或是一个抽象类而无法实例化时，抛出该异常。</li>
<li><code>InterruptedException</code>：一个线程被另一个线程中断，抛出该异常。</li>
<li><code>NoSuchFieldException</code>：请求的变量不存在。</li>
<li><code>NoSuchMethodException</code>：请求的方法不存在。</li>
</ul>
<h3 id="异常方法"><a href="#异常方法" class="headerlink" title="异常方法"></a>异常方法</h3><p>&emsp;&emsp;下面的列表是Throwable类的主要方法：</p>
<ul>
<li><code>public String getMessage()</code>：返回关于发生的异常的详细信息。这个消息在Throwable类的构造函数中初始化了。</li>
<li><code>public Throwable getCause()</code>：返回一个Throwable对象代表异常原因。</li>
<li><code>public String toString()</code>：使用getMessage的结果返回类的串级名字。</li>
<li><code>public void printStackTrace()</code>：打印toString结果和栈层次到<code>System.err</code>，即错误输出流。</li>
<li><code>public StackTraceElement [] getStackTrace()</code>：返回一个包含堆栈层次的数组。下标为0的元素代表栈顶，最后一个元素代表方法调用堆栈的栈底。</li>
<li><code>public Throwable fillInStackTrace()</code>：用当前的调用栈层次填充Throwable对象栈层次，添加到栈层次任何先前信息中。</li>
</ul>
<h3 id="捕获异常"><a href="#捕获异常" class="headerlink" title="捕获异常"></a>捕获异常</h3><p>&emsp;&emsp;使用try和catch关键字可以捕获异常，<code>try/catch</code>代码块放在异常可能发生的地方。<code>try/catch</code>代码块中的代码称为保护代码，使用<code>try/catch</code>的语法如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">/* 程序代码 */</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(ExceptionName e1) &#123;</span><br><span class="line">    <span class="comment">/* Catch块 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Catch语句包含要捕获异常类型的声明。当保护代码块中发生一个异常时，try后面的catch块就会被检查。如果发生的异常包含在catch块中，异常会被传递到该catch块，这和传递一个参数到方法是一样。<br>&emsp;&emsp;下面的例子声明有两个元素的一个数组，当代码试图访问数组的第三个元素的时候，就会抛出一个异常：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcepTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">            System.out.println(<span class="string">"Access element three: "</span> + a[<span class="number">3</span>]);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ArrayIndexOutOfBoundsException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Exception thrown: "</span> + e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"Out of the block"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Exception thrown: java.lang.ArrayIndexOutOfBoundsException: 3</span><br><span class="line">Out of the block</span><br></pre></td></tr></table></figure>
<h3 id="多重捕获块"><a href="#多重捕获块" class="headerlink" title="多重捕获块"></a>多重捕获块</h3><p>&emsp;&emsp;一个try代码块后面跟随多个catch代码块的情况就叫多重捕获，可以在try语句后面添加任意数量的catch块，语法如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (异常类型<span class="number">1</span> 异常的变量名<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (异常类型<span class="number">2</span> 异常的变量名<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (异常类型<span class="number">2</span> 异常的变量名<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码段包含了3个catch块，如果保护代码中发生异常，异常被抛给第一个catch块。如果抛出异常的数据类型与ExceptionType1匹配，它在这里就会被捕获；如果不匹配，它会被传递给第二个catch块。如此，直到异常被捕获或者通过所有的catch块：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    file = <span class="keyword">new</span> FileInputStream(fileName);</span><br><span class="line">    x = (<span class="keyword">byte</span>) file.read();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException i) &#123;</span><br><span class="line">    i.printStackTrace();</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException f) &#123;</span><br><span class="line">    f.printStackTrace();</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="throws-throw关键字"><a href="#throws-throw关键字" class="headerlink" title="throws/throw关键字"></a>throws/throw关键字</h3><p>&emsp;&emsp;throw一般用于程序出现某种逻辑时，程序员主动抛出某种特定类型的异常：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcepTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String s = <span class="string">"abc"</span>;</span><br><span class="line">        <span class="keyword">if</span> (s.equals(<span class="string">"abc"</span>)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NumberFormatException();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Exception <span class="keyword">in</span> thread <span class="string">"main"</span> java.lang.NumberFormatException</span><br><span class="line">    at ExcepTest.main(ExcepTest.java:5)</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;throws是方法可能抛出异常的声明(用在声明方法时，表示该方法可能要抛出异常)，语法如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[(修饰符)] (返回值类型) (方法名) ([参数列表]) [<span class="keyword">throws</span> 异常类<span class="number">1</span> [, 异常类<span class="number">2</span>]] &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当某个方法可能会抛出某种异常时，用于throws声明可能抛出的异常，然后交给上层调用它的方法程序处理：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcepTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">function</span><span class="params">()</span> <span class="keyword">throws</span> NumberFormatException </span>&#123;</span><br><span class="line">        String s = <span class="string">"abc"</span>;</span><br><span class="line">        System.out.println(Double.parseDouble(s));</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            function();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line">            <span class="comment">/* 输出“非数据类型不能转换” */</span></span><br><span class="line">            System.err.println(<span class="string">"非数据类型不能转换"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="finally关键字"><a href="#finally关键字" class="headerlink" title="finally关键字"></a>finally关键字</h3><p>&emsp;&emsp;finally关键字用来创建在try代码块后面执行的代码块。无论是否发生异常，finally代码块中的代码总会被执行。finally代码块出现在catch代码块的最后：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (异常类型<span class="number">1</span> 异常的变量名<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (异常类型<span class="number">2</span> 异常的变量名<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcepTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a[] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"Access element three: "</span> + a[<span class="number">3</span>]);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ArrayIndexOutOfBoundsException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Exception thrown: "</span> + e);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            a[<span class="number">0</span>] = <span class="number">6</span>;</span><br><span class="line">            System.out.println(<span class="string">"First element value: "</span> + a[<span class="number">0</span>]);</span><br><span class="line">            System.out.println(<span class="string">"The finally statement is executed"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Exception thrown: java.lang.ArrayIndexOutOfBoundsException: 3</span><br><span class="line">First element value: 6</span><br><span class="line">The finally statement is executed</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;注意下面的事项：</p>
<ul>
<li>catch不能独立于try存在。</li>
<li>在<code>try/catch</code>后面添加finally块并非强制性要求的。</li>
<li>try代码后不能既没catch块也没finally块。</li>
<li>try、catch、finally块之间不能添加任何代码。</li>
</ul>
<h3 id="声明自定义异常"><a href="#声明自定义异常" class="headerlink" title="声明自定义异常"></a>声明自定义异常</h3><p>&emsp;&emsp;在Java中，你可以自定义异常。编写自己的异常类时需要记住下面的几点：</p>
<ul>
<li>所有异常都必须是<code>Throwable</code>的子类。</li>
<li>如果希望写一个检查性异常类，则需要继承<code>Exception</code>类。</li>
<li>如果你想写一个运行时异常类，那么需要继承<code>RuntimeException</code>类。</li>
</ul>
<p>可以像下面这样定义自己的异常类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>只继承Exception类来创建的异常类是检查性异常类。一个异常类和其它任何类一样，包含有变量和方法。<br>&emsp;&emsp;下面的<code>InsufficientFundsException</code>类是用户定义的异常类，它继承自<code>Exception</code>。以下实例是一个银行账户的模拟，通过银行卡的号码完成识别，可以进行存钱和取钱的操作：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InsufficientFundsException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* amount用来储存当出现异常(取出钱多于余额时)所缺乏的钱 */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> amount;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">InsufficientFundsException</span><span class="params">(<span class="keyword">double</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.amount = amount;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getAmount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> amount;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为了展示如何使用自定义的异常类，在下面的<code>CheckingAccount</code>类中包含一个<code>withdraw</code>方法，它可能会抛出一个<code>InsufficientFundsException</code>异常：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CheckingAccount</span> </span>&#123; <span class="comment">/* 此类模拟银行账户 */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> balance; <span class="comment">/* 余额 */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> number; <span class="comment">/* 卡号 */</span></span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CheckingAccount</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.number = number;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deposit</span><span class="params">(<span class="keyword">double</span> amount)</span> </span>&#123; <span class="comment">/* 存钱 */</span></span><br><span class="line">        balance += amount;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">withdraw</span><span class="params">(<span class="keyword">double</span> amount)</span> <span class="keyword">throws</span> InsufficientFundsException </span>&#123; <span class="comment">/* 取钱 */</span></span><br><span class="line">        <span class="keyword">if</span> (amount &lt;= balance) &#123;</span><br><span class="line">            balance -= amount;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">double</span> needs = amount - balance;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InsufficientFundsException(needs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getBalance</span><span class="params">()</span> </span>&#123; <span class="comment">/* 返回余额 */</span></span><br><span class="line">        <span class="keyword">return</span> balance;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNumber</span><span class="params">()</span> </span>&#123; <span class="comment">/* 返回卡号 */</span></span><br><span class="line">        <span class="keyword">return</span> number;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面的<code>BankDemo</code>程序示范了如何调用<code>CheckingAccount</code>类的<code>deposit</code>和<code>withdraw</code>方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BankDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        CheckingAccount c = <span class="keyword">new</span> CheckingAccount(<span class="number">101</span>);</span><br><span class="line">        System.out.println(<span class="string">"Depositing $500..."</span>);</span><br><span class="line">        c.deposit(<span class="number">500.00</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"\nWithdrawing $100..."</span>);</span><br><span class="line">            c.withdraw(<span class="number">100.00</span>);</span><br><span class="line">            System.out.println(<span class="string">"\nWithdrawing $600..."</span>);</span><br><span class="line">            c.withdraw(<span class="number">600.00</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InsufficientFundsException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Sorry, but you are short $"</span> + e.getAmount());</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Depositing <span class="variable">$500</span>...</span><br><span class="line">​</span><br><span class="line">Withdrawing <span class="variable">$100</span>...</span><br><span class="line">​</span><br><span class="line">Withdrawing <span class="variable">$600</span>...</span><br><span class="line">InsufficientFundsException</span><br><span class="line">    at CheckingAccount.withdraw(CheckingAccount.java:18)</span><br><span class="line">    at BankDemo.main(BankDemo.java:10)</span><br><span class="line">Sorry, but you are short <span class="variable">$200</span>.0</span><br></pre></td></tr></table></figure>
<h3 id="通用异常"><a href="#通用异常" class="headerlink" title="通用异常"></a>通用异常</h3><p>&emsp;&emsp;在Java中定义了两种类型的异常和错误：</p>
<ul>
<li><code>JVM(Java虚拟机)异常</code>：由JVM抛出的异常或错误，例如<code>NullPointerException</code>类、<code>ArrayIndexOutOfBoundsException</code>类、<code>ClassCastException</code>类。</li>
<li><code>程序级异常</code>：由程序或者API程序抛出的异常，例如<code>IllegalArgumentException</code>类、<code>IllegalStateException</code>类。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/22/Java/运算符/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="暴徒">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/22/Java/运算符/" itemprop="url">运算符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-22T14:44:51+08:00">
                2018-12-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;作为一门计算机语言，Java也提供了一套丰富的运算符来操纵变量。我们可以把运算符分成以下几组：算术运算符、关系运算符、位运算符、逻辑运算符、赋值运算符和其他运算符。</p>
<h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p>&emsp;&emsp;算术运算符用在数学表达式中，它们的作用和在数学中的作用一样。下表列出了所有的算术运算符(整数变量A的值为10，变量B的值为20)：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code></td>
<td>加法：相加运算符两侧的值</td>
<td><code>A + B</code>等于<code>30</code></td>
</tr>
<tr>
<td><code>-</code></td>
<td>减法：左操作数减去右操作数</td>
<td><code>A – B</code>等于<code>-10</code></td>
</tr>
<tr>
<td><code>*</code></td>
<td>乘法：相乘操作符两侧的值</td>
<td><code>A * B</code>等于<code>200</code></td>
</tr>
<tr>
<td><code>/</code></td>
<td>除法：左操作数除以右操作数</td>
<td><code>B / A</code>等于<code>2</code></td>
</tr>
<tr>
<td><code>%</code></td>
<td>取模：左操作数除以右操作数的余数</td>
<td><code>B % A</code>等于<code>0</code></td>
</tr>
<tr>
<td><code>++</code></td>
<td>自增：操作数的值增加1</td>
<td><code>B++</code>或<code>++B</code>等于<code>21</code></td>
</tr>
<tr>
<td><code>--</code></td>
<td>自减：操作数的值减少1</td>
<td><code>B--</code>或<code>--B</code>等于<code>19</code></td>
</tr>
</tbody>
</table>
</div>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">25</span>;</span><br><span class="line">        <span class="keyword">int</span> d = <span class="number">25</span>;</span><br><span class="line">        System.out.println(<span class="string">"a + b = "</span> + (a + b));</span><br><span class="line">        System.out.println(<span class="string">"a - b = "</span> + (a - b));</span><br><span class="line">        System.out.println(<span class="string">"a * b = "</span> + (a * b));</span><br><span class="line">        System.out.println(<span class="string">"b / a = "</span> + (b / a));</span><br><span class="line">        System.out.println(<span class="string">"b % a = "</span> + (b % a));</span><br><span class="line">        System.out.println(<span class="string">"c % a = "</span> + (c % a));</span><br><span class="line">        System.out.println(<span class="string">"a++ = "</span> + (a++));</span><br><span class="line">        System.out.println(<span class="string">"a-- = "</span> + (a--));</span><br><span class="line">        <span class="comment">// 查看“d++”与“++d”的不同</span></span><br><span class="line">        System.out.println(<span class="string">"d++ = "</span> + (d++));</span><br><span class="line">        System.out.println(<span class="string">"++d = "</span> + (++d));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a + b = 30</span><br><span class="line">a - b = -10</span><br><span class="line">a * b = 200</span><br><span class="line">b / a = 2</span><br><span class="line">b % a = 0</span><br><span class="line">c % a = 5</span><br><span class="line">a++ = 10</span><br><span class="line">a-- = 11</span><br><span class="line">d++ = 25</span><br><span class="line">++d = 27</span><br></pre></td></tr></table></figure>
<h3 id="自增自减运算符"><a href="#自增自减运算符" class="headerlink" title="自增自减运算符"></a>自增自减运算符</h3><p>&emsp;&emsp;自增(<code>++</code>)自减(<code>--</code>)运算符是一种特殊的算术运算符，一般的算术运算符需要两个操作数来进行运算，而自增自减运算符是一个操作数。</p>
<ul>
<li>前缀自增自减法(<code>++a</code>和<code>--a</code>)：先进行自增或者自减运算，再进行表达式运算。</li>
<li>后缀自增自减法(<code>a++</code>和<code>a--</code>)：先进行表达式运算，再进行自增或者自减运算。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">selfAddMinus</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">2</span> * ++a;</span><br><span class="line">        <span class="keyword">int</span> y = <span class="number">2</span> * b++;</span><br><span class="line">        System.out.println(<span class="string">"自增运算符前缀运算后a = "</span> + a + <span class="string">"，x = "</span> + x);</span><br><span class="line">        System.out.println(<span class="string">"自增运算符后缀运算后b = "</span> + b + <span class="string">"，y = "</span> + y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">自增运算符前缀运算后a = 6，x = 12</span><br><span class="line">自增运算符后缀运算后b = 6，y = 10</span><br></pre></td></tr></table></figure>
<h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><p>&emsp;&emsp;下表为Java支持的关系运算符(整数变量A的值为<code>10</code>，变量B的值为<code>20</code>)：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>==</code></td>
<td>检查如果两个操作数的值是否相等，如果相等则条件为真</td>
<td><code>A == B</code>为假</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>检查如果两个操作数的值是否相等，如果值不相等则条件为真</td>
<td><code>A != B</code>为真</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>检查左操作数的值是否大于右操作数的值，如果是则条件为真</td>
<td><code>A &gt; B</code>非真</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>检查左操作数的值是否小于右操作数的值，如果是则条件为真</td>
<td><code>A &lt; B</code>为真</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>检查左操作数的值是否大于或等于右操作数的值，如果是则条件为真</td>
<td><code>A&gt; = B</code>为假</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>检查左操作数的值是否小于或等于右操作数的值，如果是则条件为真</td>
<td><code>A &lt;= B</code>为真</td>
</tr>
</tbody>
</table>
</div>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line">        System.out.println(<span class="string">"a == b = "</span> + (a == b));</span><br><span class="line">        System.out.println(<span class="string">"a != b = "</span> + (a != b));</span><br><span class="line">        System.out.println(<span class="string">"a &gt; b = "</span> + (a &gt; b));</span><br><span class="line">        System.out.println(<span class="string">"a &lt; b = "</span> + (a &lt; b));</span><br><span class="line">        System.out.println(<span class="string">"b &gt;= a = "</span> + (b &gt;= a));</span><br><span class="line">        System.out.println(<span class="string">"b &lt;= a = "</span> + (b &lt;= a));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a == b = <span class="literal">false</span></span><br><span class="line">a != b = <span class="literal">true</span></span><br><span class="line">a &gt; b = <span class="literal">false</span></span><br><span class="line">a &lt; b = <span class="literal">true</span></span><br><span class="line">b &gt;= a = <span class="literal">true</span></span><br><span class="line">b &lt;= a = <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><p>&emsp;&emsp;Java定义了位运算符，应用于整数类型(<code>int</code>)、长整型(<code>long</code>)、短整型(<code>short</code>)、字符型(<code>char</code>)和字节型(<code>byte</code>)等类型。位运算符作用在所有的位上，并且按位运算。假设a是<code>60</code>，b是<code>13</code>，它们的二进制格式如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">A     = 0011 1100</span><br><span class="line">B     = 0000 1101</span><br><span class="line">-----------------</span><br><span class="line">A &amp; b = 0000 1100</span><br><span class="line">A | B = 0011 1101</span><br><span class="line">A ^ B = 0011 0001</span><br><span class="line">~ A   = 1100 0011</span><br></pre></td></tr></table></figure>
<p>下表列出了位运算符的基本运算(整数变量A的值为<code>60</code>，变量B的值为<code>13</code>)：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;</code></td>
<td>如果相对应位都是1，则结果为1，否则为0</td>
<td><code>A ＆ B</code>得到<code>12</code>，即<code>0000_1100</code></td>
</tr>
<tr>
<td><code>&#124;</code></td>
<td>如果相对应位都是0，则结果为0，否则为1</td>
<td><code>A &#124; B</code>得到<code>61</code>，即<code>0011_1101</code></td>
</tr>
<tr>
<td><code>^</code></td>
<td>如果相对应位值相同，则结果为0，否则为1</td>
<td><code>A ^ B</code>得到<code>49</code>，即<code>0011_0001</code></td>
</tr>
<tr>
<td><code>~</code></td>
<td>按位补运算符翻转操作数的每一位，即0变成1，1变成0</td>
<td><code>~A</code>得到<code>-61</code>，即<code>1100_0011</code></td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>按位左移运算符。左操作数按位左移右操作数指定的位数</td>
<td><code>A &lt;&lt; 2</code>得到<code>240</code>，即<code>1111_0000</code></td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>按位右移运算符。左操作数按位右移右操作数指定的位数</td>
<td><code>A &gt;&gt; 2</code>得到<code>15</code>，即<code>1111</code></td>
</tr>
<tr>
<td><code>&gt;&gt;&gt;</code></td>
<td>按位右移补零操作符。左操作数的值按右操作数指定的位数右移，移动得到的空位以零填充</td>
<td><code>A &gt;&gt;&gt; 2</code>得到<code>15</code>，即<code>0000_1111</code></td>
</tr>
</tbody>
</table>
</div>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">60</span>; <span class="comment">/* 60 = 0011 1100 */</span></span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">13</span>; <span class="comment">/* 13 = 0000 1101 */</span></span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">        c = a &amp; b; <span class="comment">/* 12 = 0000 1100 */</span></span><br><span class="line">        System.out.println(<span class="string">"a &amp; b = "</span> + c);</span><br><span class="line">        c = a | b; <span class="comment">/* 61 = 0011 1101 */</span></span><br><span class="line">        System.out.println(<span class="string">"a | b = "</span> + c);</span><br><span class="line">        c = a ^ b; <span class="comment">/* 49 = 0011 0001 */</span></span><br><span class="line">        System.out.println(<span class="string">"a ^ b = "</span> + c);</span><br><span class="line">        c = ~a; <span class="comment">/* -61 = 1100 0011 */</span></span><br><span class="line">        System.out.println(<span class="string">"~a = "</span> + c);</span><br><span class="line">        c = a &lt;&lt; <span class="number">2</span>; <span class="comment">/* 240 = 1111 0000 */</span></span><br><span class="line">        System.out.println(<span class="string">"a &lt;&lt; 2 = "</span> + c);</span><br><span class="line">        c = a &gt;&gt; <span class="number">2</span>; <span class="comment">/* 15 = 1111 */</span></span><br><span class="line">        System.out.println(<span class="string">"a &gt;&gt; 2  = "</span> + c);</span><br><span class="line">        c = a &gt;&gt;&gt; <span class="number">2</span>; <span class="comment">/* 15 = 0000 1111 */</span></span><br><span class="line">        System.out.println(<span class="string">"a &gt;&gt;&gt; 2 = "</span> + c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a &amp; b = 12</span><br><span class="line">a | b = 61</span><br><span class="line">a ^ b = 49</span><br><span class="line">~a = -61</span><br><span class="line">a &lt;&lt; 2 = 240</span><br><span class="line">a &gt;&gt; 2  = 15</span><br><span class="line">a &gt;&gt;&gt; 2 = 15</span><br></pre></td></tr></table></figure>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>&emsp;&emsp;下表列出了逻辑运算符的基本运算(假设布尔变量A为真，变量B为假)：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;&amp;</code></td>
<td>逻辑与运算符，当且仅当两个操作数都为真，条件才为真</td>
<td><code>A &amp;&amp; B</code>为假</td>
</tr>
<tr>
<td><code>&#124;&#124;</code></td>
<td>逻辑或操作符，如果任何两个操作数任何一个为真，条件为真</td>
<td><code>A &#124;&#124; B</code>为真</td>
</tr>
<tr>
<td><code>!</code></td>
<td>逻辑非运算符，用来反转操作数的逻辑状态</td>
<td><code>!(A &amp;&amp; B)</code>为真</td>
</tr>
</tbody>
</table>
</div>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> a = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">boolean</span> b = <span class="keyword">false</span>;</span><br><span class="line">        System.out.println(<span class="string">"a &amp;&amp; b = "</span> + (a &amp;&amp; b));</span><br><span class="line">        System.out.println(<span class="string">"a || b = "</span> + (a || b));</span><br><span class="line">        System.out.println(<span class="string">"!(a &amp;&amp; b) = "</span> + !(a &amp;&amp; b));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a &amp;&amp; b = <span class="literal">false</span></span><br><span class="line">a || b = <span class="literal">true</span></span><br><span class="line">!(a &amp;&amp; b) = <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h3 id="短路逻辑运算符"><a href="#短路逻辑运算符" class="headerlink" title="短路逻辑运算符"></a>短路逻辑运算符</h3><p>&emsp;&emsp;当使用与逻辑运算符时，如果两个操作数都为true，结果才为true。但是当第一个操作为false时，其结果就必定是false，这时就不会再判断第二个操作了：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LuoJi</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">boolean</span> b = (a &lt; <span class="number">4</span>) &amp;&amp; (a++ &lt; <span class="number">10</span>);</span><br><span class="line">        System.out.println(<span class="string">"使用短路逻辑运算符的结果为"</span> + b);</span><br><span class="line">        System.out.println(<span class="string">"a的结果为"</span> + a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用短路逻辑运算符的结果为<span class="literal">false</span></span><br><span class="line">a的结果为5</span><br></pre></td></tr></table></figure>
<h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><p>&emsp;&emsp;下面是Java语言支持的赋值运算符：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>=</code></td>
<td>简单的赋值运算符，将右操作数的值赋给左侧操作数</td>
<td><code>C = A + B</code>将把<code>A + B</code>得到的值赋给<code>C</code></td>
</tr>
<tr>
<td><code>+=</code></td>
<td>加和赋值操作符，它把左操作数和右操作数相加赋值给左操作数</td>
<td><code>C += A</code>等价于<code>C = C + A</code></td>
</tr>
<tr>
<td><code>-=</code></td>
<td>减和赋值操作符，它把左操作数和右操作数相减赋值给左操作数</td>
<td><code>C -= A</code>等价于<code>C = C - A</code></td>
</tr>
<tr>
<td><code>*=</code></td>
<td>乘和赋值操作符，它把左操作数和右操作数相乘赋值给左操作数</td>
<td><code>C *= A</code>等价于<code>C = C * A</code></td>
</tr>
<tr>
<td><code>/=</code></td>
<td>除和赋值操作符，它把左操作数和右操作数相除赋值给左操作数</td>
<td><code>C /= A</code>等价于<code>C = C / A</code></td>
</tr>
<tr>
<td><code>%=</code></td>
<td>取模和赋值操作符，它把左操作数和右操作数取模后赋值给左操作数</td>
<td><code>C %= A</code>等价于<code>C = C % A</code></td>
</tr>
<tr>
<td><code>&lt;&lt;=</code></td>
<td>左移位赋值运算符</td>
<td><code>C &lt;&lt;= 2</code>等价于<code>C = C &lt;&lt; 2</code></td>
</tr>
<tr>
<td><code>&gt;&gt;=</code></td>
<td>右移位赋值运算符</td>
<td><code>C &gt;&gt;= 2</code>等价于<code>C = C &gt;&gt; 2</code></td>
</tr>
<tr>
<td><code>＆=</code></td>
<td>按位与赋值运算符</td>
<td><code>C &amp;= 2</code>等价于<code>C = C &amp; 2</code></td>
</tr>
<tr>
<td><code>^=</code></td>
<td>按位异或赋值操作符</td>
<td><code>C ^= 2</code>等价于<code>C = C ^ 2</code></td>
</tr>
<tr>
<td><code>&#124;=</code></td>
<td>按位或赋值操作符</td>
<td><code>C &#124;= 2</code>等价于<code>C = C &#124; 2</code></td>
</tr>
</tbody>
</table>
</div>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">        c = a + b;</span><br><span class="line">        System.out.println(<span class="string">"c = a + b = "</span> + c);</span><br><span class="line">        c += a;</span><br><span class="line">        System.out.println(<span class="string">"c += a = "</span> + c);</span><br><span class="line">        c -= a;</span><br><span class="line">        System.out.println(<span class="string">"c -= a = "</span> + c);</span><br><span class="line">        c *= a;</span><br><span class="line">        System.out.println(<span class="string">"c *= a = "</span> + c);</span><br><span class="line">        a = <span class="number">10</span>;</span><br><span class="line">        c = <span class="number">15</span>;</span><br><span class="line">        c /= a;</span><br><span class="line">        System.out.println(<span class="string">"c /= a = "</span> + c);</span><br><span class="line">        a = <span class="number">10</span>;</span><br><span class="line">        c = <span class="number">15</span>;</span><br><span class="line">        c %= a;</span><br><span class="line">        System.out.println(<span class="string">"c %= a = "</span> + c);</span><br><span class="line">        c &lt;&lt;= <span class="number">2</span>;</span><br><span class="line">        System.out.println(<span class="string">"c &lt;&lt;= 2 = "</span> + c);</span><br><span class="line">        c &gt;&gt;= <span class="number">2</span>;</span><br><span class="line">        System.out.println(<span class="string">"c &gt;&gt;= 2 = "</span> + c);</span><br><span class="line">        c &gt;&gt;= <span class="number">2</span>;</span><br><span class="line">        System.out.println(<span class="string">"c &gt;&gt;= a = "</span> + c);</span><br><span class="line">        c &amp;= a;</span><br><span class="line">        System.out.println(<span class="string">"c &amp;= 2 = "</span> + c);</span><br><span class="line">        c ^= a;</span><br><span class="line">        System.out.println(<span class="string">"c ^= a = "</span> + c);</span><br><span class="line">        c |= a;</span><br><span class="line">        System.out.println(<span class="string">"c |= a = "</span> + c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">c = a + b = 30</span><br><span class="line">c += a = 40</span><br><span class="line">c -= a = 30</span><br><span class="line">c *= a = 300</span><br><span class="line">c /= a = 1</span><br><span class="line">c %= a = 5</span><br><span class="line">c &lt;&lt;= 2 = 20</span><br><span class="line">c &gt;&gt;= 2 = 5</span><br><span class="line">c &gt;&gt;= a = 1</span><br><span class="line">c &amp;= 2 = 0</span><br><span class="line">c ^= a = 10</span><br><span class="line">c |= a = 10</span><br></pre></td></tr></table></figure>
<h3 id="条件运算符"><a href="#条件运算符" class="headerlink" title="条件运算符"></a>条件运算符</h3><p>&emsp;&emsp;条件运算符<code>?:</code>也被称为<code>三元运算符</code>。该运算符有3个操作数，并且需要判断布尔表达式的值。该运算符的主要作用是决定哪个值应该赋值给变量：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variable x = (expression) ? value <span class="keyword">if</span> <span class="keyword">true</span> : value <span class="keyword">if</span> <span class="keyword">false</span></span><br></pre></td></tr></table></figure>
<p>示例如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a, b;</span><br><span class="line">        a = <span class="number">10</span>;</span><br><span class="line">        <span class="comment">/* 如果a等于1成立，则设置b为20，否则为30 */</span></span><br><span class="line">        b = (a == <span class="number">1</span>) ? <span class="number">20</span> : <span class="number">30</span>;</span><br><span class="line">        System.out.println(<span class="string">"Value of b is："</span> + b);</span><br><span class="line">        <span class="comment">/* 如果a等于10成立，则设置b为20，否则为30 */</span></span><br><span class="line">        b = (a == <span class="number">10</span>) ? <span class="number">20</span> : <span class="number">30</span>;</span><br><span class="line">        System.out.println(<span class="string">"Value of b is："</span> + b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Value of b is：30</span><br><span class="line">Value of b is：20</span><br></pre></td></tr></table></figure>
<h3 id="instanceof运算符"><a href="#instanceof运算符" class="headerlink" title="instanceof运算符"></a>instanceof运算符</h3><p>&emsp;&emsp;该运算符用于操作对象实例，检查该对象是否是一个特定类型(类类型或接口类型)。instanceof运算符使用格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(Object reference variable) <span class="keyword">instanceof</span> (<span class="class"><span class="keyword">class</span>/<span class="title">interface</span> <span class="title">type</span>)</span></span><br></pre></td></tr></table></figure>
<p>如果运算符左侧变量所指的对象是操作符右侧类或接口(class/interface)的一个对象，那么结果为真。代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String name = <span class="string">"James"</span>;</span><br><span class="line"><span class="comment">/* 由于name是String类型，所以返回真 */</span></span><br><span class="line"><span class="keyword">boolean</span> result = name <span class="keyword">instanceof</span> String;</span><br></pre></td></tr></table></figure>
<p>如果被比较的对象兼容于右侧类型，该运算符仍然返回true：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> <span class="keyword">extends</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Vehicle a = <span class="keyword">new</span> Car();</span><br><span class="line">        <span class="keyword">boolean</span> result = a <span class="keyword">instanceof</span> Car;</span><br><span class="line">        System.out.println(result); <span class="comment">// 输出“true”</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;在判断一个实例引用的类型时，使用的是实际类型，而不是声明的类型：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vehicle v2 = <span class="keyword">new</span> Car(); <span class="comment">/* v2是Car类型 */</span></span><br></pre></td></tr></table></figure>
<p>v2是Car类型，而不是Vehicle类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> <span class="keyword">extends</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Car c1 = <span class="keyword">new</span> Car();</span><br><span class="line">        Vehicle v2 = <span class="keyword">new</span> Car(); <span class="comment">/* v2是Car类型 */</span></span><br><span class="line">        Vehicle v3 = <span class="keyword">new</span> Vehicle();</span><br><span class="line">​</span><br><span class="line">        <span class="comment">/* Car是Vehicle类型，Vehicle不是Car类型 */</span></span><br><span class="line">        <span class="keyword">boolean</span> result1 = c1 <span class="keyword">instanceof</span> Vehicle; <span class="comment">/* true */</span></span><br><span class="line">        <span class="keyword">boolean</span> result2 = v2 <span class="keyword">instanceof</span> Car; <span class="comment">/* true */</span></span><br><span class="line">        <span class="keyword">boolean</span> result3 = v2 <span class="keyword">instanceof</span> Vehicle; <span class="comment">/* true */</span></span><br><span class="line">        <span class="keyword">boolean</span> result4 = v3 <span class="keyword">instanceof</span> Car; <span class="comment">/* false */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Java运算符优先级"><a href="#Java运算符优先级" class="headerlink" title="Java运算符优先级"></a>Java运算符优先级</h3><p>&emsp;&emsp;在一个多运算符的表达式中，运算符优先级不同会导致最后得出的结果差别甚大。例如<code>x = 7 + 3 * 2;</code>，这里x得到13，而不是20，因为乘法运算符比加法运算符有较高的优先级，所以先计算<code>3 * 2</code>得到6，然后再加7。下表中具有最高优先级的运算符在的表的最上面，最低优先级的在表的底部：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>类别</th>
<th>操作符</th>
<th>关联性</th>
</tr>
</thead>
<tbody>
<tr>
<td>后缀</td>
<td><code>() [] .(点操作符)</code></td>
<td>左到右</td>
</tr>
<tr>
<td>一元</td>
<td><code>+(正号) -(负号) ++ -- ~ !</code></td>
<td>右到左</td>
</tr>
<tr>
<td>乘性</td>
<td><code>* / %</code></td>
<td>左到右</td>
</tr>
<tr>
<td>加性</td>
<td><code>+ -</code></td>
<td>左到右</td>
</tr>
<tr>
<td>移位</td>
<td><code>&gt;&gt; &gt;&gt;&gt; &lt;&lt;</code></td>
<td>左到右</td>
</tr>
<tr>
<td>关系</td>
<td><code>&lt; &lt;= &gt; &gt;= instanceof</code></td>
<td>左到右</td>
</tr>
<tr>
<td>相等</td>
<td><code>== !=</code></td>
<td>左到右</td>
</tr>
<tr>
<td>按位与</td>
<td><code>&amp;</code></td>
<td>左到右</td>
</tr>
<tr>
<td>按位异或</td>
<td><code>^</code></td>
<td>左到右</td>
</tr>
<tr>
<td>按位或</td>
<td><code>&#124;</code></td>
<td>左到右</td>
</tr>
<tr>
<td>逻辑与</td>
<td><code>&amp;&amp;</code></td>
<td>左到右</td>
</tr>
<tr>
<td>逻辑或</td>
<td><code>&#124;&#124;</code></td>
<td>左到右</td>
</tr>
<tr>
<td>条件</td>
<td><code>?:</code></td>
<td>右到左</td>
</tr>
<tr>
<td>赋值</td>
<td><code>= += -= *= /= %= &gt;&gt;= &lt;&lt;= &amp;= ^= &#124;= &gt;&gt;&gt;=</code></td>
<td>右到左</td>
</tr>
<tr>
<td>逗号</td>
<td><code>,</code></td>
<td>左到右</td>
</tr>
</tbody>
</table>
</div>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/22/Java/日期时间/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="暴徒">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/22/Java/日期时间/" itemprop="url">日期时间</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-22T10:09:56+08:00">
                2018-12-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;<code>java.util</code>包提供了Date类来封装当前的日期和时间。Date类提供两个构造函数来实例化Date对象。第一个构造函数使用当前日期和时间来初始化对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Date()</span><br></pre></td></tr></table></figure>
<p>第二个构造函数接收一个参数，该参数是从1970年1月1日起的毫秒数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Date(<span class="keyword">long</span> millisec)</span><br></pre></td></tr></table></figure>
<p>Date对象创建以后，可以调用下面的方法：</p>
<p><code>boolean after(Date date)</code>：若当前调用此方法的Date对象在指定日期之后，就返回true，否则返回false。<br><code>boolean before(Date date)</code>：若当前调用此方法的Date对象在指定日期之前，就返回true，否则返回false。<br><code>Object clone()</code>：返回此对象的副本。<br><code>int compareTo(Date date)</code>：比较当前调用此方法的Date对象和指定日期，两者相等时候返回0；调用对象在指定日期之前则返回负数；调用对象在指定日期之后则返回正数。<br><code>int compareTo(Object obj)</code>：若obj是Date类型，则操作等同于<code>compareTo(Date)</code>，否则它抛出<code>ClassCastException</code>。<br><code>boolean equals(Object date)</code>：当前调用此方法的Date对象和指定日期相等时，就返回true，否则返回false。<br><code>long getTime()</code>：返回自1970年1月1日<code>00:00:00 GMT</code>以来此Date对象表示的毫秒数。<br><code>int hashCode()</code>：返回此对象的哈希码值。<br><code>void setTime(long time)</code>：用自1970年1月1日<code>00:00:00 GMT</code>以后time毫秒数设置时间和日期。<br><code>String toString()</code>：把此Date对象转换为以下形式的String：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dow mon dd hh:mm:ss zzz yyyy</span><br></pre></td></tr></table></figure>
<p>其中dow是一周中的某一天(即<code>Sun</code>、<code>Mon</code>、<code>Tue</code>、<code>Wed</code>、<code>Thu</code>、<code>Fri</code>、<code>Sat</code>)。</p>
<h3 id="获取当前日期时间"><a href="#获取当前日期时间" class="headerlink" title="获取当前日期时间"></a>获取当前日期时间</h3><p>&emsp;&emsp;Java使用Date对象的toString方法来打印当前日期和时间：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">/* 初始化Date对象 */</span></span><br><span class="line">        Date date = <span class="keyword">new</span> Date();</span><br><span class="line">        <span class="comment">/* 使用toString显示日期时间 */</span></span><br><span class="line">        System.out.println(date.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mon May 28 13:19:41 JST 2018</span><br></pre></td></tr></table></figure>
<h3 id="日期比较"><a href="#日期比较" class="headerlink" title="日期比较"></a>日期比较</h3><p>&emsp;&emsp;Java使用以下三种方法来比较两个日期：</p>
<ul>
<li>使用<code>getTime</code>方法获取两个日期(自1970年1月1日经历的毫秒数值)，然后比较这两个值。</li>
<li>使用方法<code>before</code>、<code>after</code>和<code>equals</code>，例如一个月的12号比18号早，则<code>new Date(99, 2, 12).before(new Date(99, 2, 18))</code>返回true。</li>
<li>使用<code>compareTo</code>方法，它是由Comparable接口定义的，Date类实现了这个接口。</li>
</ul>
<h3 id="SimpleDateFormat"><a href="#SimpleDateFormat" class="headerlink" title="SimpleDateFormat"></a>SimpleDateFormat</h3><p>&emsp;&emsp;SimpleDateFormat允许用户自定义日期时间格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.text.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Date dNow = <span class="keyword">new</span> Date();</span><br><span class="line">        SimpleDateFormat ft = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"E yyyy.MM.dd 'at' hh:mm:ss a zzz"</span>);</span><br><span class="line">        System.out.println(<span class="string">"Current Date: "</span> + ft.format(dNow));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Current Date: 周一 2018.05.28 at 01:29:52 下午 JST</span><br></pre></td></tr></table></figure>
<p>SimpleDateFormat这一行代码确立了转换的格式，其中<code>yyyy</code>是完整的公元年，<code>MM</code>是月份，<code>dd</code>是日期，<code>HH:mm:ss</code>是<code>时</code>、<code>分</code>、<code>秒</code>。注意，有的格式大写，有的格式小写，例如<code>MM</code>是月份，<code>mm</code>是分；<code>HH</code>是24小时制，而<code>hh</code>是12小时制。<br>&emsp;&emsp;有时我们希望得到Date的特定格式(例如<code>20020324</code>)，可以使用以下方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"></span><br><span class="line">java.util.Date date = <span class="keyword">new</span> java.util.Date();</span><br><span class="line"><span class="comment">/* 如果希望得到YYYYMMDD的格式 */</span></span><br><span class="line">SimpleDateFormat sy1 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyyMMdd"</span>);</span><br><span class="line">String dateFormat = sy1.format(date);</span><br><span class="line"><span class="comment">/* 如果希望分开得到年、月、日 */</span></span><br><span class="line">SimpleDateFormat sy = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy"</span>);</span><br><span class="line">SimpleDateFormat sm = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"MM"</span>);</span><br><span class="line">SimpleDateFormat sd = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"dd"</span>);</span><br><span class="line">String syear = sy.format(date);</span><br><span class="line">String smon = sm.format(date);</span><br><span class="line">String sday = sd.format(date);</span><br></pre></td></tr></table></figure>
<h3 id="日期和时间的格式化编码"><a href="#日期和时间的格式化编码" class="headerlink" title="日期和时间的格式化编码"></a>日期和时间的格式化编码</h3><p>&emsp;&emsp;时间模式字符串用来指定时间格式。在此模式中，所有的ASCII字母被保留为模式字母，定义如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>字母</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>G</code></td>
<td>纪元标记</td>
<td>AD</td>
</tr>
<tr>
<td><code>y</code></td>
<td>四位年份</td>
<td>2001</td>
</tr>
<tr>
<td><code>M</code></td>
<td>月份</td>
<td>July or 07</td>
</tr>
<tr>
<td><code>d</code></td>
<td>一个月的日期</td>
<td>10</td>
</tr>
<tr>
<td><code>h</code></td>
<td><code>A.M./P.M.</code>格式小时(<code>1~12</code>)</td>
<td>12</td>
</tr>
<tr>
<td><code>H</code></td>
<td>一天中的小时(<code>0~23</code>)</td>
<td>22</td>
</tr>
<tr>
<td><code>m</code></td>
<td>分钟数</td>
<td>30</td>
</tr>
<tr>
<td><code>s</code></td>
<td>秒数</td>
<td>55</td>
</tr>
<tr>
<td><code>S</code></td>
<td>毫秒数</td>
<td>234</td>
</tr>
<tr>
<td><code>E</code></td>
<td>星期几</td>
<td>Tuesday</td>
</tr>
<tr>
<td><code>D</code></td>
<td>一年中的日子</td>
<td>360</td>
</tr>
<tr>
<td><code>F</code></td>
<td>一个月中第几周的周几</td>
<td>2 (second Wed. in July)</td>
</tr>
<tr>
<td><code>w</code></td>
<td>一年中第几周</td>
<td>40</td>
</tr>
<tr>
<td><code>W</code></td>
<td>一个月中第几周</td>
<td>1</td>
</tr>
<tr>
<td><code>a</code></td>
<td><code>A.M./P.M.</code>标记</td>
<td>PM</td>
</tr>
<tr>
<td><code>k</code></td>
<td>一天中的小时(<code>1~24</code>)</td>
<td>24</td>
</tr>
<tr>
<td><code>K</code></td>
<td><code>A.M./P.M.</code>格式小时(<code>0~11</code>)</td>
<td>10</td>
</tr>
<tr>
<td><code>z</code></td>
<td>时区</td>
<td>Eastern Standard Time</td>
</tr>
<tr>
<td><code>&#39;</code></td>
<td>文字定界符</td>
<td>Delimiter</td>
</tr>
<tr>
<td><code>&quot;</code></td>
<td>单引号</td>
<td><code>`</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="使用printf格式化日期"><a href="#使用printf格式化日期" class="headerlink" title="使用printf格式化日期"></a>使用printf格式化日期</h3><p>&emsp;&emsp;printf方法可以很轻松地格式化时间和日期。它使用两个字母格式，以<code>%t</code>开头，并且以下面表格中的一个字母结尾：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>转换符</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c</code></td>
<td>包括全部日期和时间信息</td>
<td>星期六 十月 27 14:21:20 CST 2007</td>
</tr>
<tr>
<td><code>F</code></td>
<td><code>年-月-日</code>格式</td>
<td>2007-10-27</td>
</tr>
<tr>
<td><code>D</code></td>
<td><code>月/日/年</code>格式</td>
<td>10/27/07</td>
</tr>
<tr>
<td><code>r</code></td>
<td><code>HH:MM:SS PM</code>格式(12时制)</td>
<td>02:25:51 下午</td>
</tr>
<tr>
<td><code>T</code></td>
<td><code>HH:MM:SS</code>格式(24时制)</td>
<td>14:28:16</td>
</tr>
<tr>
<td><code>R</code></td>
<td><code>HH:MM</code>格式(24时制)</td>
<td>14:28</td>
</tr>
</tbody>
</table>
</div>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Date date = <span class="keyword">new</span> Date(); <span class="comment">/* 初始化Date对象 */</span></span><br><span class="line">        System.out.printf(<span class="string">"全部日期和时间信息：%tc%n"</span>, date); <span class="comment">/* “c”的使用 */</span></span><br><span class="line">        System.out.printf(<span class="string">"年-月-日格式：%tF%n"</span>, date); <span class="comment">/* “f”的使用 */</span></span><br><span class="line">        System.out.printf(<span class="string">"月/日/年格式：%tD%n"</span>, date); <span class="comment">/* “d”的使用 */</span></span><br><span class="line">        System.out.printf(<span class="string">"HH:MM:SS PM格式(12时制)：%tr%n"</span>, date); <span class="comment">/* “r”的使用 */</span></span><br><span class="line">        System.out.printf(<span class="string">"HH:MM:SS格式(24时制)：%tT%n"</span>, date); <span class="comment">/* “t”的使用 */</span></span><br><span class="line">        System.out.printf(<span class="string">"HH:MM格式(24时制)：%tR"</span>, date); <span class="comment">/* “R”的使用 */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">全部日期和时间信息：周一 5月 28 13:44:57 JST 2018</span><br><span class="line">年-月-日格式：2018-05-28</span><br><span class="line">月/日/年格式：05/28/18</span><br><span class="line">HH:MM:SS PM格式(12时制)：01:44:57 下午</span><br><span class="line">HH:MM:SS格式(24时制)：13:44:57</span><br><span class="line">HH:MM格式(24时制)：13:44</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;如果你需要重复提供日期，那么利用这种方式来格式化它的每一部分就有点复杂了。因此，可以利用一个格式化字符串指出要被格式化的参数的索引。索引必须紧跟在<code>%</code>后面，而且必须以<code>$</code>结束：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">/* 初始化Date对象 */</span></span><br><span class="line">        Date date = <span class="keyword">new</span> Date();</span><br><span class="line">        <span class="comment">/* 使用toString显示日期和时间 */</span></span><br><span class="line">        System.out.printf(<span class="string">"%1$s %2$tB %2$td, %2$tY"</span>, <span class="string">"Due date:"</span>, date);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Due date: 五月 29, 2018</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;格式为<code>%t</code>表示输出时间日期类型，<code>%t</code>之后用<code>y</code>表示输出日期的二位数的年份(例如99)，用<code>m</code>表示输出日期的月份，用<code>d</code>表示输出日期的日号，用<code>Y</code>表示输出日期的四位数的年份(例如1999)，用<code>B</code>表示输出日期的月份的完整名，用<code>b</code>表示输出日期的月份的简称，用<code>D</code>表示以<code>%tm/%td/%ty</code>的格式输出日期，用<code>F</code>表示以<code>%tY-%tm-%td</code>的格式输出日期。<br>&emsp;&emsp;用<code>H</code>表示输出时间的时(24进制)，用<code>I</code>表示输出时间的时(12进制)，用<code>M</code>表示输出时间分，用<code>S</code>表示输出时间的秒，用<code>L</code>表示输出时间的秒中的毫秒数，用<code>p</code>表示输出时间的是上午还是下午，用<code>R</code>表示以<code>%tH:%tM</code>的格式输出时间，用<code>T</code>表示以<code>%tH:%tM:%tS</code>的格式输出时间，用<code>r</code>表示以<code>%tI:%tM:%tS %Tp</code>的格式输出时间，用<code>A</code>表示输出日期的全称，用<code>a</code>表示输出日期的星期简称。<br>&emsp;&emsp;定义日期格式的转换符可以使日期通过指定的转换符生成新字符串：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Date date = <span class="keyword">new</span> Date();</span><br><span class="line">        <span class="comment">/* b的使用，月份简称 */</span></span><br><span class="line">        String str = String.format(Locale.US, <span class="string">"英文月份简称：%tb"</span>, date);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">        System.out.printf(<span class="string">"本地月份简称：%tb%n"</span>, date);</span><br><span class="line">        <span class="comment">/* B的使用，月份全称 */</span></span><br><span class="line">        str = String.format(Locale.US, <span class="string">"英文月份全称：%tB"</span>, date);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">        System.out.printf(<span class="string">"本地月份全称：%tB%n"</span>, date);</span><br><span class="line">        <span class="comment">/* a的使用，星期简称 */</span></span><br><span class="line">        str = String.format(Locale.US, <span class="string">"英文星期的简称：%ta"</span>, date);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">        <span class="comment">/* A的使用，星期全称 */</span></span><br><span class="line">        System.out.printf(<span class="string">"本地星期的简称：%tA%n"</span>, date);</span><br><span class="line">        <span class="comment">/* C的使用，年前两位 */</span></span><br><span class="line">        System.out.printf(<span class="string">"年的前两位数字(不足两位前面补0)：%tC%n"</span>, date);</span><br><span class="line">        <span class="comment">/* y的使用，年后两位 */</span></span><br><span class="line">        System.out.printf(<span class="string">"年的后两位数字(不足两位前面补0)：%ty%n"</span>, date);</span><br><span class="line">        <span class="comment">/* j的使用，一年的天数 */</span></span><br><span class="line">        System.out.printf(<span class="string">"一年中的天数(即年的第几天)：%tj%n"</span>, date);</span><br><span class="line">        <span class="comment">/* m的使用，月份 */</span></span><br><span class="line">        System.out.printf(<span class="string">"两位数字的月份(不足两位前面补0)：%tm%n"</span>, date);</span><br><span class="line">        <span class="comment">/* d的使用，日(二位，不够补零) */</span></span><br><span class="line">        System.out.printf(<span class="string">"两位数字的日(不足两位前面补0)：%td%n"</span>, date);</span><br><span class="line">        <span class="comment">/* e的使用，日(一位不补零) */</span></span><br><span class="line">        System.out.printf(<span class="string">"月份的日(前面不补0)：%te"</span>, date);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">英文月份简称：May</span><br><span class="line">本地月份简称：5月</span><br><span class="line">英文月份全称：May</span><br><span class="line">本地月份全称：五月</span><br><span class="line">英文星期的简称：Tue</span><br><span class="line">本地星期的简称：星期二</span><br><span class="line">年的前两位数字(不足两位前面补0)：20</span><br><span class="line">年的后两位数字(不足两位前面补0)：18</span><br><span class="line">一年中的天数(即年的第几天)：149</span><br><span class="line">两位数字的月份(不足两位前面补0)：05</span><br><span class="line">两位数字的日(不足两位前面补0)：29</span><br><span class="line">月份的日(前面不补0)：29</span><br></pre></td></tr></table></figure>
<h3 id="解析字符串为时间"><a href="#解析字符串为时间" class="headerlink" title="解析字符串为时间"></a>解析字符串为时间</h3><p>&emsp;&emsp;SimpleDateFormat类有一些附加的方法，特别是parse，它试图按照给定的SimpleDateFormat对象的格式化存储来解析字符串：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.text.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        SimpleDateFormat ft = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">        String input = args.length == <span class="number">0</span> ? <span class="string">"1818-11-11"</span> : args[<span class="number">0</span>];</span><br><span class="line">        System.out.print(input + <span class="string">" Parses as "</span>);</span><br><span class="line">​</span><br><span class="line">        Date t;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            t = ft.parse(input);</span><br><span class="line">            System.out.println(t);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Unparseable using "</span> + ft);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ java DateDemo</span><br><span class="line">1818-11-11 Parses as Wed Nov 11 00:00:00 GMT 1818</span><br><span class="line">$ java DateDemo 2007-12-01</span><br><span class="line">2007-12-01 Parses as Sat Dec 01 00:00:00 GMT 2007</span><br></pre></td></tr></table></figure>
<h3 id="Java休眠-sleep"><a href="#Java休眠-sleep" class="headerlink" title="Java休眠(sleep)"></a>Java休眠(sleep)</h3><p>&emsp;&emsp;sleep使当前线程进入停滞状态(阻塞当前线程)，让出CPU的使用权，目的是不让当前线程独自霸占CPU资源。你可以让程序休眠一毫秒的时间，或者到您的计算机的寿命长的任意段时间。下面的程序会休眠3秒：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SleepDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> Date() + <span class="string">"\n"</span>);</span><br><span class="line">            Thread.sleep(<span class="number">1000</span> * <span class="number">3</span>); <span class="comment">/* 休眠3秒 */</span></span><br><span class="line">            System.out.println(<span class="keyword">new</span> Date() + <span class="string">"\n"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Got an exception!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="测量时间"><a href="#测量时间" class="headerlink" title="测量时间"></a>测量时间</h3><p>&emsp;&emsp;下面的一个例子表明如何测量时间间隔(以毫秒为单位)：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DiffDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">            System.out.print(<span class="keyword">new</span> Date() + <span class="string">"\n"</span>);</span><br><span class="line">            Thread.sleep(<span class="number">5</span> * <span class="number">60</span> * <span class="number">10</span>);</span><br><span class="line">            System.out.print(<span class="keyword">new</span> Date() + <span class="string">"\n"</span>);</span><br><span class="line">            <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">            <span class="keyword">long</span> diff = end - start;</span><br><span class="line">            System.out.println(<span class="string">"Difference is："</span> + diff);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Got an exception!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Tue May 29 08:18:48 JST 2018</span><br><span class="line">Tue May 29 08:18:51 JST 2018</span><br><span class="line">Difference is：3059</span><br></pre></td></tr></table></figure>
<h3 id="Calendar类"><a href="#Calendar类" class="headerlink" title="Calendar类"></a>Calendar类</h3><p>&emsp;&emsp;我们现在已经能够格式化并创建一个日期对象了，但是如何才能设置和获取日期数据的特定部分呢(比如说小时或者分钟)？又如何在日期的这些部分加上或者减去值呢？答案是使用Calendar类。<br>&emsp;&emsp;Calendar类的功能要比Date类强大很多，而且在实现方式上也比Date类要复杂一些。Calendar类是一个抽象类，创建对象时只需要使用getInstance方法即可。<br>&emsp;&emsp;创建一个代表系统当前日期的Calendar对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Calendar c = Calendar.getInstance(); <span class="comment">/* 默认是当前日期 */</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;创建一个指定日期的Calendar对象：需要首先创建一个Calendar的对象，然后再设定该对象中的年月日参数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 创建一个代表2009年6月12日的Calendar对象 */</span></span><br><span class="line">Calendar c1 = Calendar.getInstance();</span><br><span class="line">c1.set(<span class="number">2009</span>, <span class="number">6</span> - <span class="number">1</span>, <span class="number">12</span>);</span><br></pre></td></tr></table></figure>
<h4 id="Calendar类对象字段类型"><a href="#Calendar类对象字段类型" class="headerlink" title="Calendar类对象字段类型"></a>Calendar类对象字段类型</h4><p>&emsp;&emsp;Calendar类用以下这些常量表示不同的意义，jdk的很多类其实都是采用这种思想：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>常量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Calendar.YEAR</code></td>
<td>年份</td>
</tr>
<tr>
<td><code>Calendar.MONTH</code></td>
<td>月份</td>
</tr>
<tr>
<td><code>Calendar.DATE</code></td>
<td>日期</td>
</tr>
<tr>
<td><code>Calendar.DAY_OF_MONTH</code></td>
<td>日期，和上面的字段意义完全相同</td>
</tr>
<tr>
<td><code>Calendar.HOUR</code></td>
<td>12小时制的小时</td>
</tr>
<tr>
<td><code>Calendar.HOUR_OF_DAY</code></td>
<td>24小时制的小时</td>
</tr>
<tr>
<td><code>Calendar.MINUTE</code></td>
<td>分钟</td>
</tr>
<tr>
<td><code>Calendar.SECOND</code></td>
<td>秒</td>
</tr>
<tr>
<td><code>Calendar.DAY_OF_WEEK</code></td>
<td>星期几</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Calendar类对象信息的设置"><a href="#Calendar类对象信息的设置" class="headerlink" title="Calendar类对象信息的设置"></a>Calendar类对象信息的设置</h4><p>&emsp;&emsp;Set函数原型如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> year, <span class="keyword">int</span> month, <span class="keyword">int</span> date)</span></span>;</span><br></pre></td></tr></table></figure>
<p>调用方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Calendar c1 = Calendar.getInstance();</span><br><span class="line"><span class="comment">/* 把Calendar对象c1的年月日分别设置为2009、6、12 */</span></span><br><span class="line">c1.set(<span class="number">2009</span>, <span class="number">6</span> - <span class="number">1</span>, <span class="number">12</span>);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;利用字段类型设置：如果只设定某个字段(例如日期的值)，可以使用如下set方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> field, <span class="keyword">int</span> value)</span></span>;</span><br></pre></td></tr></table></figure>
<p>把c1对象代表的日期设置为10号，其它所有的数值会被重新计算：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c1.set(Calendar.DATE, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>把c1对象代表的年份设置为2008年，其他的所有数值会被重新计算</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c1.set(Calendar.YEAR, <span class="number">2008</span>);</span><br></pre></td></tr></table></figure>
<p>其他字段属性set的意义以此类推。<br>&emsp;&emsp;<code>Add设置</code>：把c1对象的日期加上10，也就是c1也就表示为10天后的日期，其它所有的数值会被重新计算：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c1.add(Calendar.DATE, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>把c1对象的日期减去10，也就是c1也就表示为10天前的日期，其它所有的数值会被重新计算：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c1.add(Calendar.DATE, -<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<h4 id="Calendar类对象信息的获得"><a href="#Calendar类对象信息的获得" class="headerlink" title="Calendar类对象信息的获得"></a>Calendar类对象信息的获得</h4><p>&emsp;&emsp;代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Calendar c1 = Calendar.getInstance();</span><br><span class="line"><span class="keyword">int</span> year = c1.get(Calendar.YEAR); <span class="comment">/* 获得年份 */</span></span><br><span class="line"><span class="keyword">int</span> month = c1.get(Calendar.MONTH) + <span class="number">1</span>; <span class="comment">/* 获得月份 */</span></span><br><span class="line"><span class="keyword">int</span> date = c1.get(Calendar.DATE); <span class="comment">/* 获得日期 */</span></span><br><span class="line"><span class="keyword">int</span> hour = c1.get(Calendar.HOUR_OF_DAY); <span class="comment">/* 获得小时 */</span></span><br><span class="line"><span class="keyword">int</span> minute = c1.get(Calendar.MINUTE); <span class="comment">/* 获得分钟 */</span></span><br><span class="line"><span class="keyword">int</span> second = c1.get(Calendar.SECOND); <span class="comment">/* 获得秒 */</span></span><br><span class="line"><span class="comment">/* 获得星期几(这个与Date类是不同的)：1代表星期日、2代表星期1，以此类推 */</span></span><br><span class="line"><span class="keyword">int</span> day = c1.get(Calendar.DAY_OF_WEEK);</span><br></pre></td></tr></table></figure>
<h4 id="GregorianCalendar类"><a href="#GregorianCalendar类" class="headerlink" title="GregorianCalendar类"></a>GregorianCalendar类</h4><p>&emsp;&emsp;Calendar类实现了公历日历，GregorianCalendar是Calendar类的一个具体实现。Calendar的getInstance方法返回一个默认用当前的语言环境和时区初始化的GregorianCalendar对象。GregorianCalendar定义了两个字段(<code>AD</code>和<code>BC</code>)，这是代表公历定义的两个时代。下面列出GregorianCalendar对象的几个构造方法：</p>
<ul>
<li><code>GregorianCalendar()</code>：在具有默认语言环境的默认时区内使用当前时间构造一个默认的GregorianCalendar</li>
<li><code>GregorianCalendar(int year, int month, int date)</code>：在具有默认语言环境的默认时区内构造一个带有给定日期设置的GregorianCalendar。</li>
<li><code>GregorianCalendar(int year, int month, int date, int hour, int minute)</code>：在具有默认语言环境的默认时区内构造一个具有给定日期和时间设置的GregorianCalendar。</li>
<li><code>GregorianCalendar(int year, int month, int date, int hour, int minute, int second)</code>：在具有默认语言环境的默认时区内构造一个具有给定日期和时间设置的GregorianCalendar。</li>
<li><code>GregorianCalendar(Locale aLocale)</code>：在具有给定语言环境的默认时区内构造一个基于当前时间的GregorianCalendar。</li>
<li><code>GregorianCalendar(TimeZone zone)</code>：在具有默认语言环境的给定时区内构造一个基于当前时间的GregorianCalendar。</li>
<li><code>GregorianCalendar(TimeZone zone, Locale aLocale)</code>：在具有给定语言环境的给定时区内构造一个基于当前时间的GregorianCalendar。</li>
</ul>
<p>这里是GregorianCalendar类提供的一些方法：</p>
<ul>
<li><code>void add(int field, int amount)</code>：根据日历规则，将指定的(有符号的)时间量添加到给定的日历字段中。</li>
<li><code>protected void computeFields()</code>：转换UTC毫秒值为时间域值。</li>
<li><code>protected void computeTime()</code>：覆盖Calendar，转换时间域值为UTC毫秒值。</li>
<li><code>boolean equals(Object obj)</code>：比较此GregorianCalendar与指定的Object。</li>
<li><code>int get(int field)</code>：获取指定字段的时间值。</li>
<li><code>int getActualMaximum(int field)</code>：返回当前日期给定字段的最大值。</li>
<li><code>int getActualMinimum(int field)</code>：返回当前日期给定字段的最小值。</li>
<li><code>int getGreatestMinimum(int field)</code>：返回此GregorianCalendar实例给定日历字段的最高的最小值。</li>
<li><code>Date getGregorianChange()</code>：获得格里高利历的更改日期。</li>
<li><code>int getLeastMaximum(int field)</code>：返回此GregorianCalendar实例给定日历字段的最低的最大值。</li>
<li><code>int getMaximum(int field)</code>：返回此GregorianCalendar实例的给定日历字段的最大值。</li>
<li><code>Date getTime()</code>：获取日历当前时间。</li>
<li><code>long getTimeInMillis()</code>：获取用长整型表示的日历的当前时间。</li>
<li><code>TimeZone getTimeZone()</code>：获取时区。</li>
<li><code>int getMinimum(int field)</code>：返回给定字段的最小值。</li>
<li><code>int hashCode()</code>：重写hashCode。</li>
<li><code>boolean isLeapYear(int year)</code>：确定给定的年份是否为闰年。</li>
<li><code>void roll(int field, boolean up)</code>：在给定的时间字段上添加或减去(上/下)单个时间单元，不更改更大的字段。</li>
<li><code>void set(int field, int value)</code>：用给定的值设置时间字段。</li>
<li><code>void set(int year, int month, int date)</code>：设置年、月、日的值。</li>
<li><code>void set(int year, int month, int date, int hour, int minute)</code>：设置年、月、日、小时、分钟的值。</li>
<li><code>void set(int year, int month, int date, int hour, int minute, int second)</code>：设置年、月、日、小时、分钟、秒的值。</li>
<li><code>void setGregorianChange(Date date)</code>：设置GregorianCalendar的更改日期。</li>
<li><code>void setTime(Date date)</code>：用给定的日期设置Calendar的当前时间。</li>
<li><code>void setTimeInMillis(long millis)</code>：用给定的long型毫秒数设置Calendar的当前时间。</li>
<li><code>void setTimeZone(TimeZone value)</code>：用给定时区值设置当前时区。</li>
<li><code>String toString()</code>：返回代表日历的字符串。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GregorianCalendarDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        String months[] = &#123;</span><br><span class="line">                <span class="string">"Jan"</span>, <span class="string">"Feb"</span>, <span class="string">"Mar"</span>, <span class="string">"Apr"</span>,</span><br><span class="line">                <span class="string">"May"</span>, <span class="string">"Jun"</span>, <span class="string">"Jul"</span>, <span class="string">"Aug"</span>,</span><br><span class="line">                <span class="string">"Sep"</span>, <span class="string">"Oct"</span>, <span class="string">"Nov"</span>, <span class="string">"Dec"</span></span><br><span class="line">        &#125;;</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">int</span> year;</span><br><span class="line">        <span class="comment">/* 初始化Gregorian日历，使用当前时间和日期，默认为本地时间和时区 */</span></span><br><span class="line">        GregorianCalendar gcalendar = <span class="keyword">new</span> GregorianCalendar();</span><br><span class="line">        <span class="comment">/* 显示当前时间和日期的信息 */</span></span><br><span class="line">        System.out.print(<span class="string">"Date："</span>);</span><br><span class="line">        System.out.print(months[gcalendar.get(Calendar.MONTH)]);</span><br><span class="line">        System.out.print(<span class="string">" "</span> + gcalendar.get(Calendar.DATE) + <span class="string">" "</span>);</span><br><span class="line">        System.out.println(year = gcalendar.get(Calendar.YEAR));</span><br><span class="line">        System.out.print(<span class="string">"Time："</span>);</span><br><span class="line">        System.out.print(gcalendar.get(Calendar.HOUR) + <span class="string">":"</span>);</span><br><span class="line">        System.out.print(gcalendar.get(Calendar.MINUTE) + <span class="string">":"</span>);</span><br><span class="line">        System.out.println(gcalendar.get(Calendar.SECOND));</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">if</span> (gcalendar.isLeapYear(year)) &#123; <span class="comment">/* 测试当前年份是否为闰年 */</span></span><br><span class="line">            System.out.println(<span class="string">"当前年份是闰年"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"当前年份不是闰年"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Date：May 29 2018</span><br><span class="line">Time：8:57:12</span><br><span class="line">当前年份不是闰年</span><br></pre></td></tr></table></figure>
<hr>
<p>&emsp;&emsp;Calender的月份是从0开始的，但日期和年份是从1开始的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Calendar c1 = Calendar.getInstance();</span><br><span class="line">        c1.set(<span class="number">2017</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">        System.out.println(c1.get(Calendar.YEAR)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.MONTH)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.DATE));</span><br><span class="line">        c1.set(<span class="number">2017</span>, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">        System.out.println(c1.get(Calendar.YEAR)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.MONTH)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.DATE));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2017-1-1</span><br><span class="line">2017-0-31</span><br></pre></td></tr></table></figure>
<p>可见，将日期设为0以后，月份变成了上个月，但月份可以为0。把月份改为2试试：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Calendar c1 = Calendar.getInstance();</span><br><span class="line">        c1.set(<span class="number">2017</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">        System.out.println(c1.get(Calendar.YEAR)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.MONTH)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.DATE));</span><br><span class="line">        c1.set(<span class="number">2017</span>, <span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line">        System.out.println(c1.get(Calendar.YEAR)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.MONTH)</span><br><span class="line">                + <span class="string">"-"</span> + c1.get(Calendar.DATE));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2017-2-1</span><br><span class="line">2017-1-28</span><br></pre></td></tr></table></figure>
<p>可以看到上个月的最后一天是28号，所以Calendar.MONTH为1的时候是2月。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/21/Java/流和文件/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="暴徒">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/Java/流和文件/" itemprop="url">流和文件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-21T21:07:12+08:00">
                2018-12-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;<code>Java.io</code>几乎包含了所有操作输入、输出需要的类，所有这些类代表了输入源和输出目标。<code>Java.io</code>中的流支持很多种格式，比如基本类型、对象、本地化字符集等。一个流可以理解为一个数据的序列，输入流表示从一个源读取数据，输出流表示向一个目标写数据。Java为<code>I/O</code>提供了强大的而灵活的支持，使其更广泛地应用到文件传输和网络编程中。</p>
<h3 id="读取控制台输入"><a href="#读取控制台输入" class="headerlink" title="读取控制台输入"></a>读取控制台输入</h3><p>&emsp;&emsp;Java的控制台输入由<code>System.in</code>完成。为了获得一个绑定到控制台的字符流，你可以把<code>System.in</code>包装在一个<code>BufferedReader</code>对象中来创建一个字符流。下面是创建BufferedReader的基本语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br></pre></td></tr></table></figure>
<p>BufferedReader对象创建后，我们便可以使用read方法从控制台读取一个字符，或者用readLine方法读取一个字符行。<br>&emsp;&emsp;read方法的语法格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span></span><br></pre></td></tr></table></figure>
<p>每次调用read方法，它从输入流读取一个字符并把该字符作为整数值返回。当流结束的时候返回<code>-1</code>，该方法会抛出<code>IOException</code>。<br>&emsp;&emsp;下面的程序示范了用read方法从控制台不断读取字符，直到用户输入<code>q</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BRRead</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> c;</span><br><span class="line">        <span class="comment">/* 使用System.in创建BufferedReader */</span></span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">        System.out.println(<span class="string">"输入字符, 按下“q”键退出。"</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">do</span> &#123; <span class="comment">/* 读取字符*/</span></span><br><span class="line">            c = (<span class="keyword">char</span>) br.read();</span><br><span class="line">            System.out.println(c);</span><br><span class="line">        &#125; <span class="keyword">while</span> (c != <span class="string">'q'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;readLine方法的语法格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span></span><br></pre></td></tr></table></figure>
<p>下面的程序读取和显示字符行，直到你输入了单词<code>end</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BRReadLines</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">/* 使用System.in创建BufferedReader */</span></span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">        String str;</span><br><span class="line">        System.out.println(<span class="string">"Enter lines of text."</span>);</span><br><span class="line">        System.out.println(<span class="string">"Enter 'end' to quit."</span>);</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            str = br.readLine();</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125; <span class="keyword">while</span> (!str.equals(<span class="string">"end"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="控制台输出"><a href="#控制台输出" class="headerlink" title="控制台输出"></a>控制台输出</h3><p>&emsp;&emsp;控制台的输出由print和println完成，这些方法都由类<code>PrintStream</code>定义，<code>System.out</code>是该类对象的一个引用。PrintStream继承了OutputStream类，并且实现了方法write，这样write也可以用来往控制台写操作。PrintStream定义write的最简单格式如下所示，该方法将byteval的低八位字节写到流中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> byteval)</span></span></span><br></pre></td></tr></table></figure>
<p>下面的例子用write把字符<code>A</code>和紧跟着的换行符输出到屏幕：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WriteDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> b;</span><br><span class="line">        b = <span class="string">'A'</span>;</span><br><span class="line">        System.out.write(b);</span><br><span class="line">        System.out.write(<span class="string">'\n'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意，write方法不经常使用，因为print和println方法用起来更为方便。</p>
<h3 id="读写文件"><a href="#读写文件" class="headerlink" title="读写文件"></a>读写文件</h3><h4 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h4><p>&emsp;&emsp;该流用于从文件读取数据，它的对象可以用关键字new来创建。有多种构造方法可用来创建对象：<br>&emsp;&emsp;可以使用字符串类型的文件名来创建一个输入流对象来读取文件：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStream f = <span class="keyword">new</span> FileInputStream(<span class="string">"C:/java/hello"</span>);</span><br></pre></td></tr></table></figure>
<p>也可以使用一个文件对象来创建一个输入流对象来读取文件。我们首先得使用File方法来创建一个文件对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">File f = <span class="keyword">new</span> File(<span class="string">"C:/java/hello"</span>);</span><br><span class="line">InputStream out = <span class="keyword">new</span> FileInputStream(f);</span><br></pre></td></tr></table></figure>
<p>创建了InputStream对象，就可以使用下面的方法来读取流或者进行其他的流操作：</p>
<ul>
<li><code>public void close() throws IOException{}</code>：关闭此文件输入流并释放与此流有关的所有系统资源。该方法会抛出<code>IOException</code>异常。</li>
<li><code>protected void finalize() throws IOException{}</code>：这个方法清除与该文件的连接。确保在不再引用文件输入流时调用其close方法。该方法会抛出<code>IOException</code>异常。</li>
<li><code>public int read(int r) throws IOException{}</code>：这个方法从InputStream对象读取指定字节的数据。返回一个整数值，即下一字节数据。如果已经到结尾，则返回<code>-1</code>。</li>
<li><code>public int read(byte[] r) throws IOException{}</code>：这个方法从输入流读取r.length长度的字节。返回读取的字节数。如果是文件结尾，则返回<code>-1</code>。</li>
<li><code>public int available() throws IOException{}</code>：返回下一次对此输入流调用的方法可以不受阻塞地从此输入流读取的字节数。返回一个整数值。</li>
</ul>
<h4 id="FileOutputStream"><a href="#FileOutputStream" class="headerlink" title="FileOutputStream"></a>FileOutputStream</h4><p>&emsp;&emsp;该类用来创建一个文件并向文件中写数据。如果该流在打开文件进行输出前，目标文件不存在，那么该流会创建该文件。有两个构造方法可以用来创建FileOutputStream对象：<br>&emsp;&emsp;使用字符串类型的文件名来创建一个输出流对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OutputStream f = <span class="keyword">new</span> FileOutputStream(<span class="string">"C:/java/hello"</span>);</span><br></pre></td></tr></table></figure>
<p>也可以使用一个文件对象来创建一个输出流来写文件。我们首先得使用File方法来创建一个文件对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">File f = <span class="keyword">new</span> File(<span class="string">"C:/java/hello"</span>);</span><br><span class="line">OutputStream f = <span class="keyword">new</span> FileOutputStream(f);</span><br></pre></td></tr></table></figure>
<p>创建OutputStream对象完成后，就可以使用下面的方法来写入流或者进行其他的流操作：</p>
<ul>
<li><code>public void close() throws IOException{}</code>：关闭此文件输入流并释放与此流有关的所有系统资源。该方法会抛出<code>IOException</code>异常。</li>
<li><code>protected void finalize() throws IOException{}</code>：这个方法清除与该文件的连接。确保在不再引用文件输入流时调用其close方法。该方法会抛出<code>IOException</code>异常。</li>
<li><code>public void write(int w) throws IOException{}</code>：这个方法把指定的字节写到输出流中。</li>
<li><code>public void write(byte[] w)</code>：把指定数组中w.length长度的字节写到OutputStream中。</li>
</ul>
<p>&emsp;&emsp;下面的代码演示InputStream和OutputStream的用法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">fileStreamTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">byte</span> bWrite[] = &#123;<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>&#125;;</span><br><span class="line">            OutputStream os = <span class="keyword">new</span> FileOutputStream(<span class="string">"test.txt"</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; bWrite.length; x++) &#123;</span><br><span class="line">                os.write(bWrite[x]); <span class="comment">/* writes the bytes */</span></span><br><span class="line">            &#125;</span><br><span class="line">            os.close();</span><br><span class="line">​</span><br><span class="line">            InputStream is = <span class="keyword">new</span> FileInputStream(<span class="string">"test.txt"</span>);</span><br><span class="line">            <span class="keyword">int</span> size = is.available();</span><br><span class="line">​</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                System.out.print((<span class="keyword">char</span>) is.read() + <span class="string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            is.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            System.out.print(<span class="string">"Exception"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上代码由于是二进制写入，可能存在乱码，你可以使用以下代码实例来解决乱码问题：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">fileStreamTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        File f = <span class="keyword">new</span> File(<span class="string">"a.txt"</span>);</span><br><span class="line">        <span class="comment">/* 构建FileOutputStream对象，文件不存在会自动新建 */</span></span><br><span class="line">        FileOutputStream fop = <span class="keyword">new</span> FileOutputStream(f);</span><br><span class="line">        <span class="comment">/* 构建OutputStreamWriter对象，参数可以指定编码，默认为操作系统默认编码 */</span></span><br><span class="line">        OutputStreamWriter writer = <span class="keyword">new</span> OutputStreamWriter(fop, <span class="string">"UTF-8"</span>);</span><br><span class="line">        writer.append(<span class="string">"中文输入"</span>); <span class="comment">/* 写入到缓冲区 */</span></span><br><span class="line">        writer.append(<span class="string">"\r\n"</span>); <span class="comment">/* 换行 */</span></span><br><span class="line">        writer.append(<span class="string">"English"</span>);</span><br><span class="line">        writer.close(); <span class="comment">/* 关闭写入流，同时会把缓冲区内容写入文件 */</span></span><br><span class="line">        fop.close(); <span class="comment">/* 关闭输出流，释放系统资源 */</span></span><br><span class="line">​</span><br><span class="line">        FileInputStream fip = <span class="keyword">new</span> FileInputStream(f); <span class="comment">/* 构建FileInputStream对象 */</span></span><br><span class="line">        <span class="comment">/* 构建InputStreamReader对象，编码与写入相同 */</span></span><br><span class="line">        InputStreamReader reader = <span class="keyword">new</span> InputStreamReader(fip, <span class="string">"UTF-8"</span>);</span><br><span class="line">        StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">while</span> (reader.ready()) &#123;</span><br><span class="line">            sb.append((<span class="keyword">char</span>) reader.read()); <span class="comment">/* 转成char加到StringBuffer对象中 */</span></span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        System.out.println(sb.toString());</span><br><span class="line">        reader.close(); <span class="comment">/* 关闭读取流 */</span></span><br><span class="line">        fip.close(); <span class="comment">/* 关闭输入流，释放系统资源 */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;FileOutputStream的另一个构造函数是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">FileOutputStream</span><span class="params">(File file, <span class="keyword">boolean</span> append)</span> <span class="keyword">throws</span> FileNotFoundException</span>;</span><br></pre></td></tr></table></figure>
<p>如果将append设置为true，则表示在文件的末尾追加内容。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Read</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">/* 创建一个文件字节输出流对象 */</span></span><br><span class="line">            FileOutputStream os = <span class="keyword">new</span> FileOutputStream(<span class="string">"io.txt"</span>, <span class="keyword">true</span>); <span class="comment">/* 追加方式 */</span></span><br><span class="line">            String string = <span class="string">"hello IO Stream"</span>; <span class="comment">/* 写入的数据 */</span></span><br><span class="line">            <span class="keyword">byte</span>[] bytes = string.getBytes(); <span class="comment">/* 转化为字节数组 */</span></span><br><span class="line">            os.write(bytes); <span class="comment">/* 全部写入 */</span></span><br><span class="line">            os.close(); <span class="comment">/* 关闭流 */</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><h4 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h4><p>&emsp;&emsp;File类中有两个方法可以用来创建文件夹：</p>
<ul>
<li>mkdir方法创建一个文件夹，成功则返回true，失败则返回false。失败表明File对象指定的路径已经存在，或者由于整个路径还不存在，该文件夹不能被创建。</li>
<li>mkdirs方法创建一个文件夹和它的所有父文件夹。</li>
</ul>
<p>下面的例子在当前目录下创建<code>hello</code>文件夹：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CreateDir</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        String dirname = <span class="string">"./hello"</span>;</span><br><span class="line">        File d = <span class="keyword">new</span> File(dirname);</span><br><span class="line">        d.mkdirs(); <span class="comment">/* 现在创建目录 */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意，Java在UNIX和Windows自动按约定分辨文件路径分隔符。如果你在Windows版本的Java中使用分隔符<code>/</code>，路径依然能够被正确解析。</p>
<h4 id="读取目录"><a href="#读取目录" class="headerlink" title="读取目录"></a>读取目录</h4><p>&emsp;&emsp;一个目录其实就是一个File对象，它包含其他文件和文件夹。如果创建一个File对象并且它是一个目录，那么调用isDirectory方法会返回true。可以通过调用该对象上的list方法，来提取它包含的文件和文件夹的列表。下面的例子说明如何使用list方法来检查一个文件夹中包含的内容：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DirList</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        String dirname = <span class="string">"./"</span>;</span><br><span class="line">        File f1 = <span class="keyword">new</span> File(dirname);</span><br><span class="line">        <span class="keyword">if</span> (f1.isDirectory()) &#123;</span><br><span class="line">            System.out.println(<span class="string">"目录 "</span> + dirname);</span><br><span class="line">            String s[] = f1.list();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length; i++) &#123;</span><br><span class="line">                File f = <span class="keyword">new</span> File(dirname + <span class="string">"/"</span> + s[i]);</span><br><span class="line">                <span class="keyword">if</span> (f.isDirectory()) &#123;</span><br><span class="line">                    System.out.println(s[i] + <span class="string">"是一个目录"</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    System.out.println(s[i] + <span class="string">"是一个文件"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(dirname + <span class="string">"不是一个目录"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">目录 ./</span><br><span class="line">.idea是一个目录</span><br><span class="line">a.txt是一个文件</span><br><span class="line">hello是一个目录</span><br><span class="line">lib是一个目录</span><br><span class="line">out是一个目录</span><br><span class="line">src是一个目录</span><br><span class="line">test.txt是一个文件</span><br><span class="line">untitled2.iml是一个文件</span><br></pre></td></tr></table></figure>
<h4 id="删除目录或文件"><a href="#删除目录或文件" class="headerlink" title="删除目录或文件"></a>删除目录或文件</h4><p>&emsp;&emsp;删除文件可以使用<code>java.io.File.delete</code>方法。以下代码会删除一个目录，即便目录不为空：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeleteFileDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        File folder = <span class="keyword">new</span> File(<span class="string">"./hello"</span>);</span><br><span class="line">        deleteFolder(folder);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="comment">/* 删除文件及目录 */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleteFolder</span><span class="params">(File folder)</span> </span>&#123;</span><br><span class="line">        File[] files = folder.listFiles();</span><br><span class="line">        <span class="keyword">if</span> (files != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (File f : files) &#123;</span><br><span class="line">                <span class="keyword">if</span> (f.isDirectory()) &#123;</span><br><span class="line">                    deleteFolder(f);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    f.delete();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        folder.delete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h3><p>&emsp;&emsp;Java文件类以抽象的方式代表文件名和目录路径名，该类主要用于文件和目录的创建、文件的查找和文件的删除等。File对象代表磁盘中实际存在的文件和目录，可以通过以下构造方法创建一个File对象。</p>
<ul>
<li>通过给定的父抽象路径名和子路径名字符串，创建一个新的File实例：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File(File parent, String child);</span><br></pre></td></tr></table></figure>
<ul>
<li>通过将给定路径名字符串转换成抽象路径名，创建一个新File实例：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File(String pathname);</span><br></pre></td></tr></table></figure>
<ul>
<li>根据parent路径名字符串和child路径名字符串，创建一个新File实例：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File(String parent, String child);</span><br></pre></td></tr></table></figure>
<p>通过将给定的<code>file: URI</code>转换成一个抽象路径名，创建一个新的File实例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File(URI uri);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;创建File对象成功后，可以使用如下方法操作文件：</p>
<ul>
<li><code>public String getName()</code>：返回由此抽象路径名表示的文件或目录的名称。</li>
<li><code>public String getParent()</code>：返回此抽象路径名的父路径名的路径名字符串，如果此路径名没有指定父目录，则返回null。</li>
<li><code>public File getParentFile()</code>：返回此抽象路径名的父路径名的抽象路径名，如果此路径名没有指定父目录，则返回null。</li>
<li><code>public String getPath()</code>：将此抽象路径名转换为一个路径名字符串。</li>
<li><code>public boolean isAbsolute()</code>：测试此抽象路径名是否为绝对路径名。</li>
<li><code>public String getAbsolutePath()</code>：返回抽象路径名的绝对路径名字符串。</li>
<li><code>public boolean canRead()</code>：测试应用程序是否可以读取此抽象路径名表示的文件。</li>
<li><code>public boolean canWrite()</code>：测试应用程序是否可以修改此抽象路径名表示的文件。</li>
<li><code>public boolean exists()</code>：测试此抽象路径名表示的文件或目录是否存在。</li>
<li><code>public boolean isDirectory()</code>：测试此抽象路径名表示的文件是否是一个目录。</li>
<li><code>public boolean isFile()</code>：测试此抽象路径名表示的文件是否是一个标准文件。</li>
<li><code>public long lastModified()</code>：返回此抽象路径名表示的文件最后一次被修改的时间。</li>
<li><code>public long length()</code>：返回由此抽象路径名表示的文件的长度。</li>
<li><code>public boolean createNewFile() throws IOException</code>：当且仅当不存在具有此抽象路径名指定名称的文件时，原子地创建由此抽象路径名指定的一个新的空文件。</li>
<li><code>public boolean delete()</code>：删除此抽象路径名表示的文件或目录。</li>
<li><code>public void deleteOnExit()</code>：在虚拟机终止时，请求删除此抽象路径名表示的文件或目录。</li>
<li><code>public String[] list()</code>：返回由此抽象路径名所表示的目录中的文件和目录的名称所组成字符串数组。</li>
<li><code>public String[] list(FilenameFilter filter)</code>：返回由包含在目录中的文件和目录的名称所组成的字符串数组，这一目录是通过满足指定过滤器的抽象路径名来表示的。</li>
<li><code>public File[] listFiles()</code>：返回一个抽象路径名数组，这些路径名表示此抽象路径名所表示目录中的文件。</li>
<li><code>public File[] listFiles(FileFilter filter)</code>：返回表示此抽象路径名所表示目录中的文件和目录的抽象路径名数组，这些路径名满足特定过滤器。</li>
<li><code>public boolean mkdir()</code>：创建此抽象路径名指定的目录。</li>
<li><code>public boolean mkdirs()</code>：创建此抽象路径名指定的目录，包括创建必需但不存在的父目录。</li>
<li><code>public boolean renameTo(File dest)</code>：重新命名此抽象路径名表示的文件。</li>
<li><code>public boolean setLastModified(long time)</code>：设置由此抽象路径名所指定的文件或目录的最后一次修改时间。</li>
<li><code>public boolean setReadOnly()</code>：标记此抽象路径名指定的文件或目录，以便只可对其进行读操作。</li>
<li><code>public static File createTempFile(String prefix, String suffix, File directory) throws IOException</code>：在指定目录中创建一个新的空文件，使用给定的前缀和后缀字符串生成其名称。</li>
<li><code>public static File createTempFile(String prefix, String suffix) throws IOException</code>：在默认临时文件目录中创建一个空文件，使用给定前缀和后缀生成其名称。</li>
<li><code>public int compareTo(File pathname)</code>：按字母顺序比较两个抽象路径名。</li>
<li><code>public int compareTo(Object o)</code>：按字母顺序比较抽象路径名与给定对象。</li>
<li><code>public boolean equals(Object obj)</code>：测试此抽象路径名与给定对象是否相等。</li>
<li><code>public String toString()</code>：返回此抽象路径名的路径名字符串。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DirList</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        String dirname = <span class="string">"/java"</span>;</span><br><span class="line">        File f1 = <span class="keyword">new</span> File(dirname);</span><br><span class="line">        <span class="keyword">if</span> (f1.isDirectory()) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Directory of "</span> + dirname);</span><br><span class="line">            String s[] = f1.list();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length; i++) &#123;</span><br><span class="line">                File f = <span class="keyword">new</span> File(dirname + <span class="string">"/"</span> + s[i]);</span><br><span class="line">                <span class="keyword">if</span> (f.isDirectory()) &#123;</span><br><span class="line">                    System.out.println(s[i] + <span class="string">" is a directory"</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    System.out.println(s[i] + <span class="string">" is a file"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(dirname + <span class="string">" is not a directory"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Directory of .</span><br><span class="line">.idea is a directory</span><br><span class="line">a.txt is a file</span><br><span class="line">Hello1.txt is a file</span><br><span class="line">lib is a directory</span><br><span class="line">out is a directory</span><br><span class="line">src is a directory</span><br><span class="line">test.txt is a file</span><br><span class="line">untitled2.iml is a file</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="FileReader类"><a href="#FileReader类" class="headerlink" title="FileReader类"></a>FileReader类</h3><p>&emsp;&emsp;FileReader类从InputStreamReader类继承而来，该类按字符读取流中数据。可以通过以下几种构造方法创建需要的对象。</p>
<ul>
<li>在给定从中读取数据的File的情况下，创建一个新FileReader：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileReader(File file);</span><br></pre></td></tr></table></figure>
<ul>
<li>在给定从中读取数据的FileDescriptor的情况下，创建一个新FileReader：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileReader(FileDescriptor fd);</span><br></pre></td></tr></table></figure>
<ul>
<li>在给定从中读取数据的文件名的情况下，创建一个新FileReader：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileReader(String fileName);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;创建FIleReader对象成功后，可以使用如下方法操作文件：</p>
<ul>
<li><code>public int read() throws IOException</code>：读取单个字符，返回一个int型变量代表读取到的字符。</li>
<li><code>public int read(char [] c, int offset, int len)</code>：读取字符到c数组，返回读取到字符的个数。</li>
</ul>
<h3 id="FileWriter类"><a href="#FileWriter类" class="headerlink" title="FileWriter类"></a>FileWriter类</h3><p>&emsp;&emsp;FileWriter类从OutputStreamWriter类继承而来，该类按字符向流中写入数据。可以通过以下几种构造方法创建需要的对象：</p>
<ul>
<li>在给出File对象的情况下构造一个FileWriter对象：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileWriter(File file);</span><br></pre></td></tr></table></figure>
<ul>
<li>在给出File对象的情况下构造一个FileWriter对象，它具有指示是否挂起写入数据的boolean值：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileWriter(File file, <span class="keyword">boolean</span> append);</span><br></pre></td></tr></table></figure>
<ul>
<li>构造与某个文件描述符相关联的FileWriter对象：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileWriter(FileDescriptor fd);</span><br></pre></td></tr></table></figure>
<ul>
<li>在给出文件名的情况下构造FileWriter对象，它具有指示是否挂起写入数据的boolean值：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileWriter(String fileName, <span class="keyword">boolean</span> append);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;创建FileWriter对象成功后，可以使用如下方法操作文件：</p>
<ul>
<li><code>public void write(int c) throws IOException</code>：写入单个字符c。</li>
<li><code>public void write(char [] c, int offset, int len)</code>：写入字符数组中开始为offset长度为len的某一部分。</li>
<li><code>public void write(String s, int offset, int len)</code>：写入字符串中开始为offset长度为len的某一部分。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileRead</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"Hello1.txt"</span>);</span><br><span class="line">        file.createNewFile(); <span class="comment">/* 创建文件 */</span></span><br><span class="line">        FileWriter writer = <span class="keyword">new</span> FileWriter(file); <span class="comment">/* 创建FileWriter对象 */</span></span><br><span class="line">        writer.write(<span class="string">"This\n is\n an\n example\n"</span>); <span class="comment">/* 向文件写入内容 */</span></span><br><span class="line">        writer.flush();</span><br><span class="line">        writer.close();</span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(file); <span class="comment">/* 创建FileReader对象 */</span></span><br><span class="line">        <span class="keyword">char</span>[] a = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">50</span>];</span><br><span class="line">        fr.read(a); <span class="comment">/* 读取内容值数组中 */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : a)</span><br><span class="line">            System.out.print(c); <span class="comment">/* 一个个打印字符 */</span></span><br><span class="line">        fr.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">This</span><br><span class="line"> is</span><br><span class="line"> an</span><br><span class="line"> example</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="FileFilter筛选文件"><a href="#FileFilter筛选文件" class="headerlink" title="FileFilter筛选文件"></a>FileFilter筛选文件</h3><p>&emsp;&emsp;创建了一个FileFilter类，此类根据文件名的扩展名是否为<code>.txt</code>来筛选文件。创建FileFilter实例之后，需要将此实例作为参数传给File的<code>listFiles(fileFilter)</code>方法，此方法会返回符合条件文件的数组：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileFilter;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileUtil</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myListFiles</span><span class="params">(String dir)</span> </span>&#123;</span><br><span class="line">        File directory = <span class="keyword">new</span> File(dir);</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">if</span> (!directory.isDirectory()) &#123;</span><br><span class="line">            System.out.println(<span class="string">"No directory provided"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        File[] files = directory.listFiles(filefilter);</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">for</span> (File f : files) &#123;</span><br><span class="line">            System.out.println(f.getName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="comment">/* create a FileFilter and override its accept-method */</span></span><br><span class="line">    FileFilter filefilter = <span class="keyword">new</span> FileFilter() &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (file.getName().endsWith(<span class="string">".txt"</span>)) &#123; <span class="comment">/* if the file extension is ".txt" return true, else false */</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        FileUtil fileutil = <span class="keyword">new</span> FileUtil();</span><br><span class="line">        fileutil.myListFiles(<span class="string">"C:\\\\python3.6"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LICENSE.txt</span><br><span class="line">NEWS.txt</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="BufferedInputStream类"><a href="#BufferedInputStream类" class="headerlink" title="BufferedInputStream类"></a>BufferedInputStream类</h3><p>&emsp;&emsp;<code>BufferedInputStream</code>是缓冲输入流，继承于<code>FilterInputStream</code>，作用是为另一个输入流添加一些功能，本质上是通过一个内部缓冲数组实现的。例如，在新建某输入流对应的<code>BufferedInputStream</code>后，当通过read读取数据时，<code>BufferedInputStream</code>会将输入流的数据分批地填入到缓冲区中，每当缓冲区的数据读完之后，输入流会再次填充数据缓冲区，直到读完数据。<br>&emsp;&emsp;BufferedInputStream主要的函数如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">BufferedInputStream(InputStream in);</span><br><span class="line">BufferedInputStream(InputStream in, <span class="keyword">int</span> size);</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">available</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">close</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">mark</span><span class="params">(<span class="keyword">int</span> readlimit)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">markSupported</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">byte</span>[] buffer, <span class="keyword">int</span> offset, <span class="keyword">int</span> byteCount)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">reset</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">long</span> <span class="title">skip</span><span class="params">(<span class="keyword">long</span> byteCount)</span></span>;</span><br></pre></td></tr></table></figure>
<p>代码示例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedInputStreamTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readFromFile</span><span class="params">(String filename)</span> </span>&#123; <span class="comment">/* 从文件中读取文本 */</span></span><br><span class="line">        BufferedInputStream bufferedInput = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">/* 创建BufferedInputStream对象 */</span></span><br><span class="line">            bufferedInput = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(filename));</span><br><span class="line">            <span class="keyword">int</span> bytesRead = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">/* 从文件中按字节读取内容，到文件尾部时，read方法将返回“-1” */</span></span><br><span class="line">            <span class="keyword">while</span> ((bytesRead = bufferedInput.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                String chunk = <span class="keyword">new</span> String(buffer, <span class="number">0</span>, bytesRead); <span class="comment">/* 将读取的字节转为字符串对象 */</span></span><br><span class="line">                System.out.print(chunk);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (bufferedInput != <span class="keyword">null</span>)</span><br><span class="line">                    bufferedInput.close(); <span class="comment">/* 关闭BufferedInputStream */</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">                ex.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        readFromFile(<span class="string">"src/hello.txt"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="ByteArrayOutputStream类"><a href="#ByteArrayOutputStream类" class="headerlink" title="ByteArrayOutputStream类"></a>ByteArrayOutputStream类</h3><p>&emsp;&emsp;字节数组输出流在内存中创建一个字节数组缓冲区，所有发送到输出流的数据保存在该字节数组缓冲区中。下面的构造方法创建一个32字节(默认大小)的缓冲区：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OutputStream bOut = <span class="keyword">new</span> ByteArrayOutputStream();</span><br></pre></td></tr></table></figure>
<p>另一个构造方法创建一个大小为n字节的缓冲区：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OutputStream bOut = <span class="keyword">new</span> ByteArrayOutputStream(<span class="keyword">int</span> a);</span><br></pre></td></tr></table></figure>
<p>成功创建字节数组输出流对象后，可以参见以下列表中的方法，对流进行写操作或其他操作：</p>
<ul>
<li><code>public void reset()</code>：将此字节数组输出流的count字段重置为零，从而丢弃输出流中目前已累积的所有数据输出。</li>
<li><code>public byte[] toByteArray()</code>：创建一个新分配的字节数组。数组的大小相当于当前输出流的大小，内容是当前输出流的拷贝。</li>
<li><code>public String toString()</code>：将缓冲区的内容转换为字符串，根据平台的默认字符编码将字节转换成字符。</li>
<li><code>public void write(int w)</code>：将指定的字节写入此字节数组输出流。</li>
<li><code>public void write(byte []b, int off, int len)</code>：将指定字节数组中从偏移量off开始的len个字节写入此字节数组输出流。</li>
<li><code>public void writeTo(OutputStream outSt)</code>：将此字节数组输出流的全部内容写入到指定的输出流参数中。</li>
</ul>
<h3 id="ByteArrayInputStream类"><a href="#ByteArrayInputStream类" class="headerlink" title="ByteArrayInputStream类"></a>ByteArrayInputStream类</h3><p>&emsp;&emsp;字节数组输入流在内存中创建一个字节数组缓冲区，从输入流读取的数据保存在该字节数组缓冲区中。接收字节数组作为参数进行创建：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ByteArrayInputStream bArray = <span class="keyword">new</span> ByteArrayInputStream(<span class="keyword">byte</span>[] a);</span><br></pre></td></tr></table></figure>
<p>另一种创建方式是接收一个字节数组，和两个整形变量off、len。off表示第一个读取的字节，len表示读取字节的长度：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ByteArrayInputStream bArray = <span class="keyword">new</span> ByteArrayInputStream( <span class="keyword">byte</span>[] a, <span class="keyword">int</span> off, <span class="keyword">int</span> len);</span><br></pre></td></tr></table></figure>
<p>成功创建字节数组输入流对象后，可以参见以下列表中的方法，对流进行读操作或其他操作：</p>
<ul>
<li><code>public int read()</code>：从此输入流中读取下一个数据字节。</li>
<li><code>public int read(byte[] r, int off, int len)</code>：将最多len个数据字节从此输入流读入字节数组。</li>
<li><code>public int available()</code>：返回可不发生阻塞地从此输入流读取的字节数。</li>
<li><code>public void mark(int read)</code>：设置流中的当前标记位置。</li>
<li><code>public long skip(long n)</code>：从此输入流中跳过n个输入字节。</li>
</ul>
<p>&emsp;&emsp;以下代码演示了ByteArrayInputStream和ByteArrayOutputStream的使用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ByteStreamTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ByteArrayOutputStream bOutput = <span class="keyword">new</span> ByteArrayOutputStream(<span class="number">12</span>);</span><br><span class="line">        <span class="keyword">while</span> (bOutput.size() != <span class="number">5</span>) &#123;</span><br><span class="line">            bOutput.write(System.in.read()); <span class="comment">/* 获取用户输入 */</span></span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">byte</span> b[] = bOutput.toByteArray();</span><br><span class="line">        System.out.println(<span class="string">"Print the content"</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; b.length; x++) &#123;</span><br><span class="line">            System.out.print((<span class="keyword">char</span>) b[x] + <span class="string">" "</span>); <span class="comment">/* 打印字符 */</span></span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        System.out.println();</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">int</span> c;</span><br><span class="line">​</span><br><span class="line">        ByteArrayInputStream bInput = <span class="keyword">new</span> ByteArrayInputStream(b);</span><br><span class="line">        System.out.println(<span class="string">"Converting characters to Upper case "</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">while</span> ((c = bInput.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(Character.toUpperCase((<span class="keyword">char</span>) c));</span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        bInput.reset();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/21/Java/Properties类/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="暴徒">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/Java/Properties类/" itemprop="url">Properties类</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-21T20:41:14+08:00">
                2018-12-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;Properties继承于Hashtable，表示一个持久的属性集，属性列表中每个键及其对应值都是一个字符串。Properties类被许多Java类使用，例如在获取环境变量时，它就作为<code>System.getProperties</code>方法的返回值。<br>&emsp;&emsp;Properties定义如下实例变量，这个变量持有一个Properties对象相关的默认属性列表：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Properties defaults;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;Properties类定义了两个构造方法，第一个构造方法没有默认值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Properties();</span><br></pre></td></tr></table></figure>
<p>第二个构造方法使用propDefault作为默认值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Properties(Properties propDefault);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;除了从Hashtable中继承的方法，Properties还定义了以下方法：</p>
<ul>
<li><code>String getProperty(String key)</code>：用指定的键在此属性列表中搜索属性。</li>
<li><code>String getProperty(String key, String defaultProperty)</code>：用指定的键在此属性列表中搜索属性。</li>
<li><code>void list(PrintStream streamOut)</code>：将属性列表输出到指定的输出流。</li>
<li><code>void list(PrintWriter streamOut)</code>：将属性列表输出到指定的输出流。</li>
<li><code>void load(InputStream streamIn) throws IOException</code>：从输入流中读取属性列表(键和元素对)。</li>
<li><code>Enumeration propertyNames()</code>：按简单的面向行的格式从输入字符流中读取属性列表(键和元素对)。</li>
<li><code>Object setProperty(String key, String value)</code>：调用Hashtable的方法put。</li>
<li><code>void store(OutputStream streamOut, String description)</code>：以适合使用<code>load(InputStream)</code>方法加载到Properties表中的格式，将此Properties表中的属性列表(键和元素对)写入输出流。</li>
</ul>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PropDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Properties capitals = <span class="keyword">new</span> Properties();</span><br><span class="line">        Set states;</span><br><span class="line">        String str;</span><br><span class="line">​</span><br><span class="line">        capitals.put(<span class="string">"Illinois"</span>, <span class="string">"Springfield"</span>);</span><br><span class="line">        capitals.put(<span class="string">"Missouri"</span>, <span class="string">"Jefferson City"</span>);</span><br><span class="line">        capitals.put(<span class="string">"Washington"</span>, <span class="string">"Olympia"</span>);</span><br><span class="line">        capitals.put(<span class="string">"California"</span>, <span class="string">"Sacramento"</span>);</span><br><span class="line">        capitals.put(<span class="string">"Indiana"</span>, <span class="string">"Indianapolis"</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="comment">/* Show all states and capitals in hashtable */</span></span><br><span class="line">        states = capitals.keySet(); <span class="comment">/* get set-view of keys */</span></span><br><span class="line">        Iterator itr = states.iterator();</span><br><span class="line">        <span class="keyword">while</span> (itr.hasNext()) &#123;</span><br><span class="line">            str = (String) itr.next();</span><br><span class="line">            System.out.println(<span class="string">"The capital of "</span> + str + <span class="string">" is "</span> + capitals.getProperty(str) + <span class="string">"."</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">​</span><br><span class="line">        <span class="comment">/* look for state not in list -- specify default */</span></span><br><span class="line">        str = capitals.getProperty(<span class="string">"Florida"</span>, <span class="string">"Not Found"</span>);</span><br><span class="line">        System.out.println(<span class="string">"The capital of Florida is "</span> + str + <span class="string">"."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">The capital of Indiana is Indianapolis.</span><br><span class="line">The capital of Illinois is Springfield.</span><br><span class="line">The capital of Missouri is Jefferson City.</span><br><span class="line">The capital of California is Sacramento.</span><br><span class="line">The capital of Washington is Olympia.</span><br><span class="line">​</span><br><span class="line">The capital of Florida is Not Found.</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;Java的Iterator功能比较简单，并且只能单向移动：</p>
<ul>
<li>使用方法<code>iterator</code>要求容器返回一个Iterator。注意，iterator方法是<code>java.lang.Iterable</code>接口，被Collection继承。</li>
<li>使用<code>next</code>获得序列中的下一个元素。第一次调用Iterator的next方法时，它返回序列的第一个元素。</li>
<li>使用<code>hasNext</code>检查序列中是否还有元素。</li>
<li>使用<code>remove</code>将迭代器新返回的元素删除。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/21/Java/Map接口/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="暴徒">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/Java/Map接口/" itemprop="url">Map接口</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-21T20:11:33+08:00">
                2018-12-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;在Map接口中，键和值一一映射，可以通过键来获取值。</p>
<ul>
<li>给定一个键和一个值，你可以将该值存储在一个Map对象。之后，你可以通过键来访问对应的值。</li>
<li>当访问的值不存在的时候，方法就会抛出一个<code>NoSuchElementException</code>异常。</li>
<li>当对象的类型和Map里元素类型不兼容的时候，就会抛出一个<code>ClassCastException</code>异常。</li>
<li>当在不允许使用<code>Null</code>对象的Map中使用<code>Null</code>对象，会抛出一个<code>NullPointerException</code>异常。</li>
<li>当尝试修改一个只读的Map时，会抛出一个<code>UnsupportedOperationException</code>异常。</li>
</ul>
<p>支持的方法如下所示：</p>
<ul>
<li><code>void clear()</code>：从此映射中移除所有映射关系(可选操作)。</li>
<li><code>boolean containsKey(Object k)</code>：如果此映射包含指定键的映射关系，则返回true。</li>
<li><code>boolean containsValue(Object v)</code>：如果此映射将一个或多个键映射到指定值，则返回true。</li>
<li><code>Set entrySet()</code>：返回此映射中包含的映射关系的Set视图。</li>
<li><code>boolean equals(Object obj)</code>：比较指定的对象与此映射是否相等。</li>
<li><code>Object get(Object k)</code>：返回指定键所映射的值，如果此映射不包含该键的映射关系，则返回null。</li>
<li><code>int hashCode()</code>：返回此映射的哈希码值。</li>
<li><code>boolean isEmpty()</code>：如果此映射未包含键值映射关系，则返回true。</li>
<li><code>Set keySet()</code>：返回此映射中包含的键的Set视图。</li>
<li><code>Object put(Object k, Object v)</code>：将指定的值与此映射中的指定键关联(可选操作)。</li>
<li><code>void putAll(Map m)</code>：从指定映射中将所有映射关系复制到此映射中(可选操作)。</li>
<li><code>Object remove(Object k)</code>：如果存在一个键的映射关系，则将其从此映射中移除(可选操作)。</li>
<li><code>int size()</code>：返回此映射中的键值映射关系数。</li>
<li><code>Collection values()</code>：返回此映射中包含的值的Collection视图。</li>
</ul>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionsDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map m1 = <span class="keyword">new</span> HashMap();</span><br><span class="line">        m1.put(<span class="string">"Zara"</span>, <span class="string">"8"</span>);</span><br><span class="line">        m1.put(<span class="string">"Mahnaz"</span>, <span class="string">"31"</span>);</span><br><span class="line">        m1.put(<span class="string">"Ayan"</span>, <span class="string">"12"</span>);</span><br><span class="line">        m1.put(<span class="string">"Daisy"</span>, <span class="string">"14"</span>);</span><br><span class="line">        System.out.print(<span class="string">"Map Elements: "</span>);</span><br><span class="line">        System.out.println(m1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map Elements: &#123;Daisy=14, Ayan=12, Zara=8, Mahnaz=31&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/21/Java/Enumeration接口/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="暴徒">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/Java/Enumeration接口/" itemprop="url">Enumeration接口</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-21T18:58:34+08:00">
                2018-12-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;Enumeration接口中定义了一些方法，通过这些方法可以枚举(一次获得一个)对象集合中的元素。<br>&emsp;&emsp;这种传统接口已被迭代器取代，虽然Enumeration还未被遗弃，但在现代代码中已经被很少使用了。尽管如此，它还是使用在诸如Vector和Properties这些传统类所定义的方法中。除此之外，还用在一些API类，并且在应用程序中也广泛被使用。以下是一些Enumeration声明的方法：</p>
<ul>
<li><code>boolean hasMoreElements()</code>：测试此枚举是否包含更多的元素。</li>
<li><code>Object nextElement()</code>：如果此枚举对象至少还有一个可提供的元素，则返回此枚举的下一个元素。</li>
</ul>
<p>&emsp;&emsp;以下实例演示了Enumeration的使用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EnumerationTester</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Enumeration&lt;String&gt; days;</span><br><span class="line">        Vector&lt;String&gt; dayNames = <span class="keyword">new</span> Vector&lt;String&gt;();</span><br><span class="line">        dayNames.add(<span class="string">"Sunday"</span>);</span><br><span class="line">        dayNames.add(<span class="string">"Monday"</span>);</span><br><span class="line">        dayNames.add(<span class="string">"Tuesday"</span>);</span><br><span class="line">        dayNames.add(<span class="string">"Wednesday"</span>);</span><br><span class="line">        dayNames.add(<span class="string">"Thursday"</span>);</span><br><span class="line">        dayNames.add(<span class="string">"Friday"</span>);</span><br><span class="line">        dayNames.add(<span class="string">"Saturday"</span>);</span><br><span class="line">        days = dayNames.elements();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (days.hasMoreElements()) &#123;</span><br><span class="line">            System.out.println(days.nextElement());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sunday</span><br><span class="line">Monday</span><br><span class="line">Tuesday</span><br><span class="line">Wednesday</span><br><span class="line">Thursday</span><br><span class="line">Friday</span><br><span class="line">Saturday</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/21/Java/Stack类/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="暴徒">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/Java/Stack类/" itemprop="url">Stack类</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-21T17:42:56+08:00">
                2018-12-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;栈是Vector的一个子类，它实现了一个标准的后进先出的栈。堆栈只定义了默认构造函数，用来创建一个空栈：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stack()</span><br></pre></td></tr></table></figure>
<p>堆栈除了包括由Vector定义的所有方法，也定义了自己的一些方法：</p>
<ul>
<li><code>boolean empty()</code>：测试堆栈是否为空。</li>
<li><code>Object peek()</code>：查看堆栈顶部的对象，但不从堆栈中移除它。</li>
<li><code>Object pop()</code>：移除堆栈顶部的对象，并作为此函数的值返回该对象。</li>
<li><code>Object push(Object element)</code>：把项压入堆栈顶部。</li>
<li><code>int search(Object element)</code>：返回对象在堆栈中的位置，以<code>1</code>为基数。</li>
</ul>
<p>代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StackDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showpush</span><span class="params">(Stack&lt;Integer&gt; st, <span class="keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">        st.push(a);</span><br><span class="line">        System.out.println(<span class="string">"push("</span> + a + <span class="string">")"</span>);</span><br><span class="line">        System.out.println(<span class="string">"stack: "</span> + st);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showpop</span><span class="params">(Stack&lt;Integer&gt; st)</span> </span>&#123;</span><br><span class="line">        System.out.print(<span class="string">"pop -&gt; "</span>);</span><br><span class="line">        Integer a = (Integer) st.pop();</span><br><span class="line">        System.out.println(a);</span><br><span class="line">        System.out.println(<span class="string">"stack: "</span> + st);</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        Stack&lt;Integer&gt; st = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        System.out.println(<span class="string">"stack: "</span> + st);</span><br><span class="line">        showpush(st, <span class="number">42</span>);</span><br><span class="line">        showpush(st, <span class="number">66</span>);</span><br><span class="line">        showpush(st, <span class="number">99</span>);</span><br><span class="line">        showpop(st);</span><br><span class="line">        showpop(st);</span><br><span class="line">        showpop(st);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            showpop(st);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (EmptyStackException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"empty stack"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">stack: []</span><br><span class="line">push(42)</span><br><span class="line">stack: [42]</span><br><span class="line">push(66)</span><br><span class="line">stack: [42, 66]</span><br><span class="line">push(99)</span><br><span class="line">stack: [42, 66, 99]</span><br><span class="line">pop -&gt; 99</span><br><span class="line">stack: [42, 66]</span><br><span class="line">pop -&gt; 66</span><br><span class="line">stack: [42]</span><br><span class="line">pop -&gt; 42</span><br><span class="line">stack: []</span><br><span class="line">pop -&gt; empty stack</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/21/Java/URL处理/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="暴徒">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/Java/URL处理/" itemprop="url">URL处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-21T15:50:37+08:00">
                2018-12-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;URL(Uniform Resource Locator)中文名为统一资源定位符，有时也被俗称为网页地址。它表示为互联网上的资源，例如网页或者FTP地址。URL可以分为如下几个部分：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protocol://host:port/path?query<span class="comment">#fragment</span></span><br></pre></td></tr></table></figure>
<p>protocol可以是<code>HTTP</code>、<code>HTTPS</code>、<code>FTP</code>和<code>File</code>，port为端口号，path为文件路径及文件名。HTTP协议的URL实例如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.runoob.com/index.html?language=cn<span class="comment">#j2se</span></span><br></pre></td></tr></table></figure>
<p>协议(protocol)是<code>http</code>；主机(host:port)是<code>www.runoob.com</code>；端口号(port)是80，以上URL实例并未指定端口，因为HTTP协议默认的端口号为80；文件路径(path)是<code>/index.html</code>；请求参数(query)是<code>language=cn</code>；定位位置(fragment)是<code>j2se</code>，定位到网页中id属性为j2se的HTML元素位置。</p>
<h3 id="URL类方法"><a href="#URL类方法" class="headerlink" title="URL类方法"></a>URL类方法</h3><p>&emsp;&emsp;在<code>java.net</code>包中定义了URL类，该类用来处理有关URL的内容。<code>java.net.URL</code>提供了丰富的URL构建方式，并可以通过<code>java.net.URL</code>来获取资源：</p>
<ul>
<li><code>public URL(String protocol, String host, int port, String file) throws MalformedURLException</code>：通过给定的参数(协议、主机名、端口号、文件名)创建URL。</li>
<li><code>public URL(String protocol, String host, String file) throws MalformedURLException</code>：使用指定的协议、主机名、文件名创建URL，端口使用协议的默认端口。</li>
<li><code>public URL(String url) throws MalformedURLException</code>：通过给定的URL字符串创建URL。</li>
<li><code>public URL(URL context, String url) throws MalformedURLException</code>：使用基地址和相对URL创建。</li>
</ul>
<p>URL类中包含了很多方法用于访问URL的各个部分，具体方法及描述如下：</p>
<ul>
<li><code>public String getPath()</code>：返回URL路径部分。</li>
<li><code>public String getQuery()</code>：返回URL查询部分。</li>
<li><code>public String getAuthority()</code>：获取此URL的授权部分。</li>
<li><code>public int getPort()</code>：返回URL端口部分</li>
<li><code>public int getDefaultPort()</code>：返回协议的默认端口号。</li>
<li><code>public String getProtocol()</code>：返回URL的协议。</li>
<li><code>public String getHost()</code>：返回URL的主机。</li>
<li><code>public String getFile()</code>：返回URL文件名部分</li>
<li><code>public String getRef()</code>：获取此URL的锚点(也称为<code>引用</code>)。</li>
<li><code>public URLConnection openConnection() throws IOException</code>：打开一个URL连接，并运行客户端访问资源。</li>
</ul>
<p>&emsp;&emsp;下面的实例演示了使用<code>java.net</code>的URL类获取URL的各个部分参数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">URLDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            URL url = <span class="keyword">new</span> URL(<span class="string">"http://www.runoob.com/index.html?language=cn#j2se"</span>);</span><br><span class="line">            System.out.println(<span class="string">"URL为："</span> + url.toString());</span><br><span class="line">            System.out.println(<span class="string">"协议为："</span> + url.getProtocol());</span><br><span class="line">            System.out.println(<span class="string">"验证信息："</span> + url.getAuthority());</span><br><span class="line">            System.out.println(<span class="string">"文件名及请求参数："</span> + url.getFile());</span><br><span class="line">            System.out.println(<span class="string">"主机名："</span> + url.getHost());</span><br><span class="line">            System.out.println(<span class="string">"路径："</span> + url.getPath());</span><br><span class="line">            System.out.println(<span class="string">"端口："</span> + url.getPort());</span><br><span class="line">            System.out.println(<span class="string">"默认端口："</span> + url.getDefaultPort());</span><br><span class="line">            System.out.println(<span class="string">"请求参数："</span> + url.getQuery());</span><br><span class="line">            System.out.println(<span class="string">"定位位置："</span> + url.getRef());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">URL为：http://www.runoob.com/index.html?language=cn<span class="comment">#j2se</span></span><br><span class="line">协议为：http</span><br><span class="line">验证信息：www.runoob.com</span><br><span class="line">文件名及请求参数：/index.html?language=cn</span><br><span class="line">主机名：www.runoob.com</span><br><span class="line">路径：/index.html</span><br><span class="line">端口：-1</span><br><span class="line">默认端口：80</span><br><span class="line">请求参数：language=cn</span><br><span class="line">定位位置：j2se</span><br></pre></td></tr></table></figure>
<h3 id="URLConnections类方法"><a href="#URLConnections类方法" class="headerlink" title="URLConnections类方法"></a>URLConnections类方法</h3><p>&emsp;&emsp;openConnection返回一个<code>java.net.URLConnection</code>。如果你连接HTTP协议的URL，openConnection方法返回HttpURLConnection对象；如果你连接的URL为一个JAR文件，openConnection方法将返回JarURLConnection对象。<br>&emsp;&emsp;URLConnection方法列表如下：</p>
<ul>
<li><code>Object getContent()</code>：检索URL链接内容。</li>
<li><code>Object getContent(Class[] classes)</code>：检索URL链接内容。</li>
<li><code>String getContentEncoding()</code>：返回头部<code>content-encoding</code>字段值。</li>
<li><code>int getContentLength()</code>：返回头部<code>content-length</code>字段值。</li>
<li><code>String getContentType()</code>：返回头部<code>content-type</code>字段值。</li>
<li><code>int getLastModified()</code>：返回头部<code>last-modified</code>字段值。</li>
<li><code>long getExpiration()</code>：返回头部<code>expires</code>字段值。</li>
<li><code>long getIfModifiedSince()</code>：返回对象的<code>ifModifiedSince</code>字段值。</li>
<li><code>public void setDoInput(boolean input)</code>：URL连接可用于输入和/或输出。如果打算使用URL连接进行输入，则将DoInput标志设置为true；如果不打算使用，则设置为false。默认值为true。</li>
<li><code>public void setDoOutput(boolean output)</code>：URL连接可用于输入和/或输出。如果打算使用URL连接进行输出，则将DoOutput标志设置为true；如果不打算使用，则设置为false。默认值为false。</li>
<li><code>public InputStream getInputStream() throws IOException</code>：返回URL的输入流，用于读取资源。</li>
<li><code>public OutputStream getOutputStream() throws IOException</code>：返回URL的输出流，用于写入资源。</li>
<li><code>public URL getURL()</code>：返回URLConnection对象连接的URL。</li>
</ul>
<p>&emsp;&emsp;以下实例中URL采用了HTTP协议：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">URLConnDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            URL url = <span class="keyword">new</span> URL(<span class="string">"http://www.runoob.com"</span>);</span><br><span class="line">            URLConnection urlConnection = url.openConnection();</span><br><span class="line">            HttpURLConnection connection = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (urlConnection <span class="keyword">instanceof</span> HttpURLConnection) &#123;</span><br><span class="line">                connection = (HttpURLConnection) urlConnection;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">"请输入URL地址"</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            BufferedReader in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(connection.getInputStream()));</span><br><span class="line">            String urlString = <span class="string">""</span>;</span><br><span class="line">            String current;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> ((current = in.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                urlString += current;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            System.out.println(urlString);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果是菜鸟教程首页<code>http://www.runoob.com</code>的HTML内容。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2018/12/21/Java/Json格式/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="暴徒">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/Java/Json格式/" itemprop="url">Json格式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-21T14:38:45+08:00">
                2018-12-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;代码如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.json.JSONArray;</span><br><span class="line"><span class="keyword">import</span> org.json.JSONObject;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/* 初始化JSONObject(方法一) */</span></span><br><span class="line">        JSONObject jsonObject1 = <span class="keyword">new</span> JSONObject();</span><br><span class="line">        jsonObject1.put(<span class="string">"Name"</span>, <span class="string">"Tom"</span>);</span><br><span class="line">        jsonObject1.put(<span class="string">"age"</span>, <span class="string">"11"</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="comment">/* 初始化JSONObject(方法二) */</span></span><br><span class="line">        JSONObject jsonObject2 = <span class="keyword">new</span> JSONObject(<span class="string">"&#123;'Name':'Tom','age':'11'&#125;"</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="comment">/* 初始化JSONArray(方法一) */</span></span><br><span class="line">        JSONArray jsonArray1 = <span class="keyword">new</span> JSONArray();</span><br><span class="line">        jsonArray1.put(<span class="string">"abc"</span>);</span><br><span class="line">        jsonArray1.put(<span class="string">"xyz"</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="comment">/* 初始化JSONArray(方法二) */</span></span><br><span class="line">        JSONArray jsonArray2 = <span class="keyword">new</span> JSONArray(<span class="string">"['abc','xyz']"</span>);</span><br><span class="line">​</span><br><span class="line">        System.out.println(<span class="string">"jsonObject1:"</span> + <span class="string">"\r"</span> + jsonObject1.toString());</span><br><span class="line">        System.out.println(<span class="string">"jsonObject2:"</span> + <span class="string">"\r"</span> + jsonObject2.toString());</span><br><span class="line">        System.out.println(<span class="string">"jsonArray1:"</span> + <span class="string">"\r"</span> + jsonArray1.toString());</span><br><span class="line">        System.out.println(<span class="string">"jsonArray2:"</span> + <span class="string">"\r"</span> + jsonArray2.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">"age"</span>:<span class="string">"11"</span>,<span class="string">"Name"</span>:<span class="string">"Tom"</span>&#125;</span><br><span class="line">&#123;<span class="string">"age"</span>:<span class="string">"11"</span>,<span class="string">"Name"</span>:<span class="string">"Tom"</span>&#125;</span><br><span class="line">[<span class="string">"abc"</span>,<span class="string">"xyz"</span>]</span><br><span class="line">[<span class="string">"abc"</span>,<span class="string">"xyz"</span>]</span><br></pre></td></tr></table></figure>
<hr>
<p>&emsp;&emsp;解析Object之一：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"url"</span>:<span class="string">"http://www.cnblogs.com/qianxudetianxia"</span>&#125;</span><br></pre></td></tr></table></figure>
<p>解析方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.json.JSONObject;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String jsonString = <span class="string">"&#123;'url':'http://www.cnblogs.com/qianxudetianxia'&#125;"</span>;</span><br><span class="line">        JSONObject demoJson = <span class="keyword">new</span> JSONObject(jsonString);</span><br><span class="line">        String url = demoJson.getString(<span class="string">"url"</span>);</span><br><span class="line">        System.out.println(url);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.cnblogs.com/qianxudetianxia</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;解析Object之二：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"name"</span>:<span class="string">"android"</span>,<span class="attr">"version"</span>:<span class="string">"1.2.3"</span>&#125;</span><br></pre></td></tr></table></figure>
<p>解析方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.json.JSONObject;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String jsonString = <span class="string">"&#123;'name':'android','version':'1.2.3'&#125;"</span>;</span><br><span class="line">        JSONObject demoJson = <span class="keyword">new</span> JSONObject(jsonString);</span><br><span class="line">        String name = demoJson.getString(<span class="string">"name"</span>);</span><br><span class="line">        String version = demoJson.getString(<span class="string">"version"</span>);</span><br><span class="line">        System.out.println(<span class="string">"name: "</span> + name + <span class="string">", version: "</span> + version);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;解析Array之三：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"number"</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;</span><br></pre></td></tr></table></figure>
<p>解析方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.json.JSONArray;</span><br><span class="line"><span class="keyword">import</span> org.json.JSONObject;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String jsonString = <span class="string">"&#123;'number':[1,2,3]&#125;"</span>;</span><br><span class="line">        JSONObject demoJson = <span class="keyword">new</span> JSONObject(jsonString);</span><br><span class="line">        JSONArray numberList = demoJson.getJSONArray(<span class="string">"number"</span>);</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numberList.length(); i++) &#123;</span><br><span class="line">            <span class="comment">/* 因为数组中的类型为int，所以为getInt，而getString、getLong同理 */</span></span><br><span class="line">            System.out.println(numberList.getInt(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;解析Array之四：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"number"</span>:[[<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">3</span>]]&#125;</span><br></pre></td></tr></table></figure>
<p>解析方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.json.JSONArray;</span><br><span class="line"><span class="keyword">import</span> org.json.JSONObject;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String jsonString = <span class="string">"&#123;'number':[[1],[2],[3]]&#125;"</span>;</span><br><span class="line">        <span class="comment">/* 嵌套数组遍历 */</span></span><br><span class="line">        JSONObject demoJson = <span class="keyword">new</span> JSONObject(jsonString);</span><br><span class="line">        JSONArray numberList = demoJson.getJSONArray(<span class="string">"number"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numberList.length(); i++) &#123;</span><br><span class="line">            <span class="comment">/* 获取数组中的数组 */</span></span><br><span class="line">            System.out.println(numberList.getJSONArray(i).getInt(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;解析Object和Array：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"mobile"</span>:[&#123;<span class="attr">"name"</span>:<span class="string">"android"</span>&#125;,&#123;<span class="attr">"name"</span>:<span class="string">"iphone"</span>&#125;]&#125;</span><br></pre></td></tr></table></figure>
<p>解析方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.json.JSONArray;</span><br><span class="line"><span class="keyword">import</span> org.json.JSONObject;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String jsonString = <span class="string">"&#123;'mobile':[&#123;'name':'android'&#125;,&#123;'name':'iphone'&#125;]&#125;"</span>;</span><br><span class="line">        JSONObject demoJson = <span class="keyword">new</span> JSONObject(jsonString);</span><br><span class="line">        JSONArray numberList = demoJson.getJSONArray(<span class="string">"mobile"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numberList.length(); i++) &#123;</span><br><span class="line">            System.out.println(numberList.getJSONObject(i).getString(<span class="string">"name"</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="JSONException"><a href="#JSONException" class="headerlink" title="JSONException"></a>JSONException</h3><p>&emsp;&emsp;public class JSONException, extends Exception:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java.lang.Object</span><br><span class="line">    |-&gt;  java.lang.Throwable</span><br><span class="line">        |-&gt;  java.lang.Exception</span><br><span class="line">            |-&gt;  org.json.JSONException</span><br></pre></td></tr></table></figure>
<p>Thrown to indicate a problem with the JSON API. Such problems include:</p>
<ul>
<li>Attempts to parse or construct malformed documents.</li>
<li>Use of null as a name.</li>
<li>Use of numeric types not available to JSON, such as NaNs or infinities.</li>
<li>Lookups using an out of range index or nonexistent name.</li>
<li>Type mismatches on lookups.</li>
</ul>
<p>Although this is a checked exception, it is rarely recoverable. Most callers should simply wrap this exception in an unchecked exception and rethrow:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> JSONArray <span class="title">toJSONObject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        JSONObject result = <span class="keyword">new</span> JSONObject();</span><br><span class="line">        ...</span><br><span class="line">    &#125; <span class="keyword">catch</span>(JSONException e)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/82/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/82/">82</a><span class="page-number current">83</span><a class="page-number" href="/page/84/">84</a><span class="space">&hellip;</span><a class="page-number" href="/page/94/">94</a><a class="extend next" rel="next" href="/page/84/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">付康为</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">934</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">付康为</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
