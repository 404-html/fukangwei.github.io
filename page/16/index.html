<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="泥腿子出身">
<meta property="og:url" content="http://fukangwei.gitee.io/page/16/index.html">
<meta property="og:site_name" content="泥腿子出身">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="泥腿子出身">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '561O3H1PZB',
      apiKey: '7631d3cf19ac49bd39ada7163ec937a7',
      indexName: 'fuxinzi',
      hits: "",
      labels: ""
    }
  };
</script>



  <link rel="canonical" href="http://fukangwei.gitee.io/page/16/">





  <title>泥腿子出身</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">泥腿子出身</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/24/opencv和图像处理/特征检测器FeatureDetector/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/24/opencv和图像处理/特征检测器FeatureDetector/" itemprop="url">特征检测器FeatureDetector</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-24T17:19:26+08:00">
                2019-02-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;<code>OpenCV</code>提供<code>FeatureDetector</code>实现特征检测及匹配：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CV_EXPORTS</span> <span class="title">FeatureDetector</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">virtual</span> ~FeatureDetector();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">detect</span> <span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">const</span> Mat &amp;image,</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="built_in">vector</span>&lt;KeyPoint&gt; &amp;keypoints,</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">const</span> Mat &amp;mask = Mat()</span></span></span><br><span class="line"><span class="function"><span class="params">    )</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">detect</span> <span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">const</span> <span class="built_in">vector</span>&lt;Mat&gt; &amp;images,</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;KeyPoint&gt; &gt; &amp;keypoints,</span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">const</span> <span class="built_in">vector</span>&lt;Mat&gt; &amp;masks = <span class="built_in">vector</span>&lt;Mat&gt;()</span></span></span><br><span class="line"><span class="function"><span class="params">    )</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">read</span> <span class="params">( <span class="keyword">const</span> FileNode &amp; )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">write</span> <span class="params">( FileStorage &amp; )</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="keyword">static</span> Ptr&lt;FeatureDetector&gt; create ( <span class="keyword">const</span> <span class="built_in">string</span> &amp;detectorType );</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><code>FeatureDetetor</code>是虚类，通过定义<code>FeatureDetector</code>的对象可以使用多种特征检测方法，通过<code>create</code>函数调用：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ptr&lt;FeatureDetector&gt; FeatureDetector::create ( <span class="keyword">const</span> <span class="built_in">string</span> &amp;detectorType );</span><br></pre></td></tr></table></figure>
<p><code>OpenCV 2.4.3</code>提供了<code>10</code>种特征检测方法：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FAST</code></td>
<td><code>FastFeatureDetector</code></td>
</tr>
<tr>
<td><code>STAR</code></td>
<td><code>StarFeatureDetector</code></td>
</tr>
<tr>
<td><code>SIFT</code></td>
<td><code>SIFT (nonfree module)</code></td>
</tr>
<tr>
<td><code>SURF</code></td>
<td><code>SURF (nonfree module)</code></td>
</tr>
<tr>
<td><code>ORB</code></td>
<td><code>ORB</code></td>
</tr>
<tr>
<td><code>MSER</code></td>
<td><code>MSER</code></td>
</tr>
<tr>
<td><code>GFTT</code></td>
<td><code>GoodFeaturesToTrackDetector</code></td>
</tr>
<tr>
<td><code>HARRIS</code></td>
<td><code>GoodFeaturesToTrackDetector</code> with <code>Harris</code> detector enabled</td>
</tr>
<tr>
<td><code>Dense</code></td>
<td><code>DenseFeatureDetector</code></td>
</tr>
<tr>
<td><code>SimpleBlob</code></td>
<td><code>SimpleBlobDetector</code></td>
</tr>
</tbody>
</table>
</div>
<p>图片中的特征大体可分为三种：点特征、线特征、块特征。<code>FAST</code>算法是<code>Rosten</code>提出的一种快速提取的点特征，<code>Harris</code>与<code>GFTT</code>也是点特征，更具体来说是角点特征。<code>SimpleBlob</code>是简单块特征，可以通过设置<code>SimpleBlobDetector</code>的参数决定提取图像块的主要性质，提供<code>5</code>种：颜色<code>By color</code>、面积<code>By area</code>、圆形度<code>By circularity</code>、最大<code>inertia</code>与最小<code>inertia</code>的比例<code>By ratio of the minimum inertia to maximum inertia</code>以及凸性<code>By convexity</code>。<br>&emsp;&emsp;最常用的当属<code>SIFT</code>以及后来发展起来的<code>SURF</code>，都可以看做较为复杂的块特征。这两个算法在<code>OpenCV</code>的<code>nonfree</code>的模块里面，需要在附件引用项中添加<code>opencv_nonfree243.lib</code>，同时在代码中加入：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">initModule_nonfree();</span><br></pre></td></tr></table></figure>
<h3 id="FastFeatureDetector"><a href="#FastFeatureDetector" class="headerlink" title="FastFeatureDetector"></a>FastFeatureDetector</h3><p>&emsp;&emsp;代码如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/core/core.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/features2d/features2d.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/highgui/highgui.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line">​</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line">​</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Mat image;</span><br><span class="line">    image = imread ( <span class="string">"timg1.jpg"</span> );</span><br><span class="line">    imshow ( <span class="string">"image"</span>, image );</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;KeyPoint&gt; keyPoints; <span class="comment">/* vector of keyPoints */</span></span><br><span class="line">    <span class="comment">/* construction of the fast feature detector object */</span></span><br><span class="line">    <span class="function">FastFeatureDetector <span class="title">fast</span> <span class="params">( <span class="number">40</span> )</span></span>; <span class="comment">/* 检测的阈值为40 */</span></span><br><span class="line">    fast.detect ( image, keyPoints ); <span class="comment">/* feature point detection */</span></span><br><span class="line">    drawKeypoints ( image, keyPoints, image, Scalar::all ( <span class="number">255</span> ), DrawMatchesFlags::DRAW_OVER_OUTIMG );</span><br><span class="line">    imshow ( <span class="string">"FAST feature"</span>, image );</span><br><span class="line">    cvWaitKey ( <span class="number">0</span> );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/24/opencv和图像处理/特征检测器FeatureDetector/1.png" height="255" width="691"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/24/opencv和图像处理/inpaint函数/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/24/opencv和图像处理/inpaint函数/" itemprop="url">inpaint函数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-24T17:09:01+08:00">
                2019-02-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;图像修复技术的原理是什么呢？简而言之，就是利用那些已经被破坏的区域的边缘，即边缘的颜色和结构，根据这些图像留下的信息去推断被破坏的信息区的信息内容，然后对破坏区进行填补，以达到图像修补的目的。<br>&emsp;&emsp;<code>OpenCV</code>中就是利用<code>inpaint</code>这个函数来实现修复功能：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inpaint</span> <span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">    InputArray src, InputArray inpaintMask,</span></span></span><br><span class="line"><span class="function"><span class="params">    OutputArray dst, <span class="keyword">double</span> inpaintRadius, <span class="keyword">int</span> flags</span></span></span><br><span class="line"><span class="function"><span class="params">)</span></span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>src</code>：输入的单通道或三通道图像。</li>
<li><code>inpaintMask</code>：修复模板。对于单通道图像，大小跟原图像一致。<code>inpaintMask</code>图像上除了需要修复的部分之外，其他部分的像素值全部为<code>0</code>。</li>
<li><code>dst</code>：输出的经过修复的图像。</li>
<li><code>inpaintRadius</code>：修复算法取的邻域半径，用于计算当前像素点的差值。</li>
<li><code>flags</code>：修复算法，共有两种，即<code>INPAINT_NS</code>和<code>INPAINT_TELEA</code>。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"opencv2/highgui/highgui.hpp"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"opencv2/imgproc/imgproc.hpp"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"opencv2/photo/photo.hpp"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line">​</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">​</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">help</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"\nCool inpainging demo. Inpainting repairs damage to images by floodfilling the damage \n"</span></span><br><span class="line">         &lt;&lt; <span class="string">"with surrounding image areas.\n"</span></span><br><span class="line">         <span class="string">"Using OpenCV version %s\n"</span> &lt;&lt; CV_VERSION &lt;&lt; <span class="string">"\n"</span></span><br><span class="line">         <span class="string">"Usage:\n"</span></span><br><span class="line">         <span class="string">"./inpaint [image_name -- Default fruits.jpg]\n"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hot keys: \n"</span></span><br><span class="line">         <span class="string">"\tESC - quit the program\n"</span></span><br><span class="line">         <span class="string">"\tr - restore the original image\n"</span></span><br><span class="line">         <span class="string">"\ti or SPACE - run inpainting algorithm\n"</span></span><br><span class="line">         <span class="string">"\t\t(before running it, paint something on the image)\n"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">Mat img, inpaintMask;</span><br><span class="line"><span class="function">Point <span class="title">prevPt</span> <span class="params">( <span class="number">-1</span>, <span class="number">-1</span> )</span></span>;</span><br><span class="line">​</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">onMouse</span> <span class="params">( <span class="keyword">int</span> event, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> flags, <span class="keyword">void</span> * )</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ( event == CV_EVENT_LBUTTONUP || ! ( flags &amp; CV_EVENT_FLAG_LBUTTON ) ) &#123;</span><br><span class="line">        prevPt = Point ( <span class="number">-1</span>, <span class="number">-1</span> );</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( event == CV_EVENT_LBUTTONDOWN ) &#123;</span><br><span class="line">        prevPt = Point ( x, y );</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( event == CV_EVENT_MOUSEMOVE &amp;&amp; ( flags &amp; CV_EVENT_FLAG_LBUTTON ) ) &#123;</span><br><span class="line">        Point pt ( x, y );</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">if</span> ( prevPt.x &lt; <span class="number">0</span> ) &#123;</span><br><span class="line">            prevPt = pt;</span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        line ( inpaintMask, prevPt, pt, Scalar::all ( <span class="number">255</span> ), <span class="number">5</span>, <span class="number">8</span>, <span class="number">0</span> ); <span class="comment">//mask</span></span><br><span class="line">        line ( img, prevPt, pt, Scalar::all ( <span class="number">255</span> ), <span class="number">5</span>, <span class="number">8</span>, <span class="number">0</span> );</span><br><span class="line">        prevPt = pt;</span><br><span class="line">        imshow ( <span class="string">"image"</span>, img );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">( <span class="keyword">int</span> argc, <span class="keyword">char</span> **argv )</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *filename = argc &gt;= <span class="number">2</span> ? argv[<span class="number">1</span>] : ( <span class="keyword">char</span> * ) <span class="string">"fruits.jpg"</span>;</span><br><span class="line">    Mat img0 = imread ( filename, <span class="number">-1</span> );</span><br><span class="line">​</span><br><span class="line">    <span class="keyword">if</span> ( img0.empty() ) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Couldn't open the image "</span> &lt;&lt; filename &lt;&lt; <span class="string">". Usage: inpaint &lt;image_name&gt;\n"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    help();</span><br><span class="line">    namedWindow ( <span class="string">"image"</span>, <span class="number">1</span> );</span><br><span class="line">    img = img0.clone();</span><br><span class="line">    inpaintMask = Mat::zeros ( img.size(), CV_8U ); <span class="comment">//mask</span></span><br><span class="line">    imshow ( <span class="string">"image"</span>, img );</span><br><span class="line">    setMouseCallback ( <span class="string">"image"</span>, onMouse, <span class="number">0</span> );</span><br><span class="line">​</span><br><span class="line">    <span class="keyword">for</span> ( ;; ) &#123;</span><br><span class="line">        <span class="keyword">char</span> c = ( <span class="keyword">char</span> ) waitKey();</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">if</span> ( c == <span class="number">27</span> ) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">if</span> ( c == <span class="string">'r'</span> ) &#123;</span><br><span class="line">            inpaintMask = Scalar::all ( <span class="number">0</span> );</span><br><span class="line">            img0.copyTo ( img );</span><br><span class="line">            imshow ( <span class="string">"image"</span>, img );</span><br><span class="line">        &#125;</span><br><span class="line">​</span><br><span class="line">        <span class="keyword">if</span> ( c == <span class="string">'i'</span> || c == <span class="string">' '</span> ) &#123;</span><br><span class="line">            Mat inpainted;</span><br><span class="line">            inpaint ( img, inpaintMask, inpainted, <span class="number">3</span>, CV_INPAINT_TELEA );</span><br><span class="line">            imshow ( <span class="string">"inpainted image"</span>, inpainted );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">​</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/24/opencv和图像处理/inpaint函数/1.png" height="253" width="688"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/24/机器学习/线性判别分析LDA/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/24/机器学习/线性判别分析LDA/" itemprop="url">线性判别分析LDA</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-24T16:48:43+08:00">
                2019-02-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;线性判别分析(<code>Linear Discriminant Analysis</code>，<code>LDA</code>)是一种经典的降维方法，它在模式识别领域(比如人脸识别、舰艇识别等图形图像识别领域)中有非常广泛的应用。<br>&emsp;&emsp;<code>LDA</code>是一种监督学习的降维技术，也就是说数据集的每个样本是有类别的，而<code>PCA</code>是不考虑样本类别输出的无监督降维技术。<code>LDA</code>的思想可以用一句话概括，就是<code>投影后类内方差最小，类间方差最大</code>。我们要将数据在低维度上进行投影，希望同一种类别数据的投影点尽可能得接近，而不同类别数据的类别中心之间的距离尽可能得大。<br>&emsp;&emsp;假设我们有两类数据，分别为红色和蓝色，如下图所示，这些数据特征是二维的。我们希望将这些数据投影到一维的一条直线，让每一种类别数据的投影点尽可能得接近，而红色和蓝色数据中心之间的距离尽可能得大：</p>
<p><img src="/2019/02/24/机器学习/线性判别分析LDA/1.png" height="198" width="534"></p>
<p>&emsp;&emsp;上图提供了两种投影方式，哪一种能更好地满足我们的标准呢？从直观上可以看出，右图要比左图的投影效果好，因为右图的红色数据和蓝色数据投影点较为集中，且类别之间的距离明显，而左图则在边界处数据混杂。以上就是<code>LDA</code>的主要思想，当然在实际应用中，我们的数据是多个类别的，原始数据一般也是超过二维的，投影后的也一般不是直线，而是一个低维的超平面。<br>&emsp;&emsp;首先生成一些三维的数据：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets.samples_generator <span class="keyword">import</span> make_classification</span><br><span class="line">​</span><br><span class="line">X, y = make_classification(</span><br><span class="line">           n_samples=<span class="number">1000</span>, n_features=<span class="number">3</span>, n_redundant=<span class="number">0</span>, n_classes=<span class="number">3</span>,</span><br><span class="line">           n_informative=<span class="number">2</span>, n_clusters_per_class=<span class="number">1</span>, class_sep=<span class="number">0.5</span>, random_state=<span class="number">10</span>)</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = Axes3D(fig, rect=[<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>], elev=<span class="number">30</span>, azim=<span class="number">20</span>)</span><br><span class="line">plt.scatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], X[:, <span class="number">2</span>], marker=<span class="string">'o'</span>, c=y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/24/机器学习/线性判别分析LDA/2.png" height="296" width="374"></p>
<p>使用<code>LDA</code>的效果如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets.samples_generator <span class="keyword">import</span> make_classification</span><br><span class="line"><span class="keyword">from</span> sklearn.discriminant_analysis <span class="keyword">import</span> LinearDiscriminantAnalysis</span><br><span class="line">​</span><br><span class="line">X, y = make_classification(</span><br><span class="line">           n_samples=<span class="number">1000</span>, n_features=<span class="number">3</span>, n_redundant=<span class="number">0</span>, n_classes=<span class="number">3</span>,</span><br><span class="line">           n_informative=<span class="number">2</span>, n_clusters_per_class=<span class="number">1</span>, class_sep=<span class="number">0.5</span>, random_state=<span class="number">10</span>)</span><br><span class="line">lda = LinearDiscriminantAnalysis(n_components=<span class="number">2</span>)</span><br><span class="line">lda.fit(X, y)</span><br><span class="line">X_new = lda.transform(X)</span><br><span class="line">plt.scatter(X_new[:, <span class="number">0</span>], X_new[:, <span class="number">1</span>], marker=<span class="string">'o'</span>, c=y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/24/机器学习/线性判别分析LDA/3.png" height="266" width="354"></p>
<p>可以看出降维后，样本特征和类别信息之间的关系得以保留。一般来说，如果我们的数据是有类别标签的，那么优先选择<code>LDA</code>去尝试降维；当然也可以使用<code>PCA</code>做很小幅度的降维去消去噪声，然后再使用<code>LDA</code>降维。如果没有类别标签，那么肯定<code>PCA</code>是最先考虑的一个选择了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/24/机器学习/TF-IDF原理/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/24/机器学习/TF-IDF原理/" itemprop="url">TF-IDF原理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-24T16:00:50+08:00">
                2019-02-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;有一篇很长的文章，我要用计算机提取它的关键词(<code>Automatic Keyphrase extraction</code>)，完全不加以人工干预，请问怎样才能正确做到？<br>&emsp;&emsp;这个问题涉及到数据挖掘、文本处理、信息检索等很多计算机前沿领域，但是出乎意料的是，有一个非常简单的经典算法，可以给出令人相当满意的结果。这就是今天介绍的<code>TF-IDF</code>算法。<br>&emsp;&emsp;让我们从一个实例开始讲起，假定现在有一篇长文<code>中国的蜜蜂养殖</code>，我们准备用计算机提取它的关键词。一个容易想到的思路，就是找到出现次数最多的词。如果某个词很重要，它应该在这篇文章中多次出现。于是，我们进行<code>词频</code>(<code>Term Frequency</code>，<code>TF</code>)统计。结果你肯定猜到了，出现次数最多的词是<code>的</code>、<code>是</code>、<code>在</code>等这一类最常用的词。它们叫做<code>停用词</code>(<code>stop words</code>)，表示对找到结果毫无帮助、必须过滤掉的词。<br>&emsp;&emsp;假设我们把它们都过滤掉了，只考虑剩下的有实际意义的词。这样又会遇到了另一个问题，我们可能发现<code>中国</code>、<code>蜜蜂</code>、<code>养殖</code>这三个词的出现次数一样多。这是不是意味着作为关键词，它们的重要性是一样的？<br>&emsp;&emsp;显然不是这样，因为<code>中国</code>是很常见的词，相对而言，<code>蜜蜂</code>和<code>养殖</code>不那么常见。如果这三个词在一篇文章的出现次数一样多，有理由认为，<code>蜜蜂</code>和<code>养殖</code>的重要程度要大于<code>中国</code>，也就是说，在关键词排序上面，<code>蜜蜂</code>和<code>养殖</code>应该排在<code>中国</code>的前面。所以我们需要一个重要性调整系数，衡量一个词是不是常见词。如果某个词比较少见，但是它在这篇文章中多次出现，那么它很可能就反映了这篇文章的特性，正是我们所需要的关键词。<br>&emsp;&emsp;用统计学语言表达，就是在词频的基础上，要对每个词分配一个<code>重要性</code>权重。最常见的词(<code>的</code>、<code>是</code>和<code>在</code>)给予最小的权重，较常见的词(<code>中国</code>)给予较小的权重，较少见的词(<code>蜜蜂</code>、<code>养殖</code>)给予较大的权重。这个权重叫做<code>逆文档频率</code>(<code>Inverse Document Frequency</code>，<code>IDF</code>)，它的大小与一个词的常见程度成反比。<br>&emsp;&emsp;知道了<code>TF</code>和<code>IDF</code>以后，将这两个值相乘，就得到了一个词的<code>TF-IDF</code>值。某个词对文章的重要性越高，它的<code>TF-IDF</code>值就越大。所以排在最前面的几个词，就是这篇文章的关键词。下面就是这个算法的细节。<br>&emsp;&emsp;第一步是计算词频：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">词频(TF) = 某个词在文章中的出现次数</span><br></pre></td></tr></table></figure>
<p>考虑到文章有长短之分，为了便于不同文章的比较，进行<code>词频</code>标准化：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">词频(TF) = 某个词在文章中的出现次数 / 文章的总词数(或者该文出现次数最多的词的出现次数)</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;第二步是计算逆文档频率。这时需要一个语料库(<code>corpus</code>)，用来模拟语言的使用环境：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">逆文档评率(IDF) = log(语料库的文档总数 / (包含该词的文档数 + <span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>如果一个词越常见，那么分母就越大，逆文档频率就越小越接近<code>0</code>。分母之所以要加<code>1</code>，是为了避免分母为<code>0</code>(即所有文档都不包含该词)。<br>&emsp;&emsp;第三步是计算<code>TF-IDF</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TF-IDF = TF * IDF</span><br></pre></td></tr></table></figure>
<p>可以看到，<code>TF-IDF</code>与一个词在文档中的出现次数成正比，与该词在整个语言中的出现次数成反比。所以，自动提取关键词的算法就很清楚了，就是计算出文档的每个词的<code>TF-IDF</code>值，然后按降序排列，取排在最前面的几个词。<br>&emsp;&emsp;还是以<code>中国的蜜蜂养殖</code>为例，假定该文长度为<code>1000</code>个词，<code>中国</code>、<code>蜜蜂</code>、<code>养殖</code>各出现<code>20</code>次，则这三个词的<code>词频</code>(<code>TF</code>)都为<code>0.02</code>。然后搜索<code>Google</code>发现，包含<code>的</code>字的网页共有<code>250</code>亿张，假定这就是中文网页总数，包含<code>中国</code>的网页共有<code>62.3</code>亿张，包含<code>蜜蜂</code>的网页为<code>0.484</code>亿张，包含<code>养殖</code>的网页为<code>0.973</code>亿张，则它们的逆文档频率(<code>IDF</code>)和<code>TF-IDF</code>如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>包含该词的文档数(亿)</th>
<th>IDF</th>
<th>TF-IDF</th>
</tr>
</thead>
<tbody>
<tr>
<td>中国</td>
<td>62.3</td>
<td>0.603</td>
<td>0.0121</td>
</tr>
<tr>
<td>蜜蜂</td>
<td>0.484</td>
<td>2.713</td>
<td>0.0543</td>
</tr>
<tr>
<td>养殖</td>
<td>0.973</td>
<td>2.410</td>
<td>0.0482</td>
</tr>
</tbody>
</table>
</div>
<p>从上表可见，<code>蜜蜂</code>的<code>TF-IDF</code>值最高，<code>养殖</code>其次，<code>中国</code>最低(如果还计算<code>的</code>字的<code>TF-IDF</code>，那将是一个极其接近<code>0</code>的值)。所以如果只选择一个词，<code>蜜蜂</code>就是这篇文章的关键词。<br>&emsp;&emsp;除了自动提取关键词，<code>TF-IDF</code>算法还可以用于许多别的地方。例如信息检索时，对于每个文档，都可以分别计算一组搜索词(<code>中国</code>、<code>蜜蜂</code>、<code>养殖</code>)的<code>TF-IDF</code>，将它们相加，就可以得到整个文档的<code>TF-IDF</code>，这个值最高的文档就是与搜索词最相关的文档。<br>&emsp;&emsp;<code>TF-IDF</code>算法的优点是简单快速，结果比较符合实际情况。缺点是，单纯以<code>词频</code>衡量一个词的重要性，不够全面，有时重要的词可能出现次数并不多。而且，这种算法无法体现词的位置信息，出现位置靠前的词与出现位置靠后的词，都被视为重要性相同，这是不正确的(一种解决方法是，对全文的第一段和每一段的第一句话，给予较大的权重)。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/24/机器学习/热图heatmap/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/24/机器学习/热图heatmap/" itemprop="url">热图heatmap</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-24T15:48:45+08:00">
                2019-02-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;热图(<code>Heatmap</code>)通过色彩变化来显示数据。当应用在表格时，热图适合用来交叉检查多变量的数据，方法是把变量放置于行和列中，再将表格内的不同单元格进行着色。热图适用于显示多个变量之间的差异、显示当中任何模式、显示是否有彼此相似的变量以及检测彼此之间是否存在任何相关性。<br>&emsp;&emsp;通常所有水平行都同属一个类别(在左侧或右侧显示的标签)，而所有垂直列将被分配为另一类别(在顶部或底部显示的标签)。每行或每列会再被分成子类别，全都以矩阵形式相互匹配。表格中的单元格内有不同颜色编码的分类数据，或是基于颜色标度的数字数据。单元格内的数据是基于相连行和列中两个变量之间的关系。<br>&emsp;&emsp;我们需要图解来帮助阅读热图。分类数据采用不同颜色编码表示，而数字数据则需要一个颜色标度(从一种颜色转到另一种颜色)来帮忙表示高低值之间的差异。我们可以使用一系列的纯色来表示多个范围的数值(<code>0</code>至<code>10</code>、<code>11</code>至<code>20</code>、<code>21</code>至<code>30</code>等)，或者可以将两种或多种颜色混合在一起，使用渐变标度来表示单一范围(例如<code>0</code>至<code>100</code>)。<br>&emsp;&emsp;由于热图依赖颜色来表达数值，它比较适合用来显示广泛数值数据，因为要准确地指出色调之间的差异始终有难度，也较难从中提取特定数据点(除非在单元格中加入原始数据)。<br>&emsp;&emsp;如果将其中一行/列设为时间间隔，热图也可用于显示数据随时间的变化。其中一个例子就是使用热图来比较全年多个城市的温度变化，看看最热或最冷的地方在哪儿：我们可以把要比较的城市在水平行中列出，而垂直列则是月份，然后在单元格内填上温度值。</p>
<p><img src="/2019/02/24/机器学习/热图heatmap/1.png" height="265" width="704"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/24/Tkinter编程/OptionMenu选择菜单/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/24/Tkinter编程/OptionMenu选择菜单/" itemprop="url">OptionMenu选择菜单</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-24T15:36:23+08:00">
                2019-02-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;<code>OptionMenu</code>事实上是下拉菜单的改版，它的发明弥补了<code>Listbox</code>组件无法实现下拉列表框的遗憾。<br>&emsp;&emsp;创建一个选择菜单非常简单，只需要它一个<code>Tkinter</code>变量(用于记录用户选择的内容)以及若干选项即可：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> *</span><br><span class="line">​</span><br><span class="line">root = Tk()</span><br><span class="line">​</span><br><span class="line">variable = StringVar()</span><br><span class="line">variable.set(<span class="string">"one"</span>)</span><br><span class="line">​</span><br><span class="line">w = OptionMenu(root, variable, <span class="string">"one"</span>, <span class="string">"two"</span>, <span class="string">"three"</span>)</span><br><span class="line">w.pack()</span><br><span class="line">​</span><br><span class="line">mainloop()</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/24/Tkinter编程/OptionMenu选择菜单/1.png" height="172" width="181"></p>
<p>要获得用户选择的内容，使用<code>Tkinter</code>变量的<code>get</code>方法即可：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">callback</span><span class="params">()</span>:</span></span><br><span class="line">    print(variable.get())</span><br><span class="line">​</span><br><span class="line">Button(root, text=<span class="string">"点我"</span>, command=callback).pack()</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/24/Tkinter编程/OptionMenu选择菜单/2.png" height="168" width="204"></p>
<p>&emsp;&emsp;如下演示如何将很多选项添加到选择菜单中：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> *</span><br><span class="line">​</span><br><span class="line">OPTIONS = [</span><br><span class="line">    <span class="string">"California"</span>,</span><br><span class="line">    <span class="string">"458"</span>,</span><br><span class="line">    <span class="string">"FF"</span>,</span><br><span class="line">    <span class="string">"ENZO"</span>,</span><br><span class="line">    <span class="string">"LaFerrari"</span></span><br><span class="line">]</span><br><span class="line">​</span><br><span class="line">root = Tk()</span><br><span class="line">​</span><br><span class="line">variable = StringVar()</span><br><span class="line">variable.set(OPTIONS[<span class="number">0</span>])</span><br><span class="line">​</span><br><span class="line">w = OptionMenu(root, variable, *OPTIONS)</span><br><span class="line">w.pack()</span><br><span class="line">​</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">callback</span><span class="params">()</span>:</span></span><br><span class="line">    print(variable.get())</span><br><span class="line">​</span><br><span class="line">Button(root, text=<span class="string">"点我"</span>, command=callback).pack()</span><br><span class="line">​</span><br><span class="line">mainloop()</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/24/Node_JS/事件循环/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/24/Node_JS/事件循环/" itemprop="url">事件循环</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-24T15:18:19+08:00">
                2019-02-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;<code>Node.js</code>是单进程单线程应用程序，但是因为<code>V8</code>引擎提供的异步执行回调接口，通过这些接口可以处理大量的并发，所以性能非常高。<code>Node.js</code>基本上所有的事件机制都是用设计模式中观察者模式实现。</p>
<h3 id="事件驱动程序"><a href="#事件驱动程序" class="headerlink" title="事件驱动程序"></a>事件驱动程序</h3><p>&emsp;&emsp;<code>Node.js</code>使用事件驱动模型，这个模型非常高效且可扩展性非常强，因为<code>webserver</code>一直接受请求而不等待任何读写操作(这也被称之为非阻塞式<code>I/O</code>或者事件驱动<code>I/O</code>)。在事件驱动模型中，会生成一个主循环来监听事件，当检测到事件时触发回调函数：</p>
<p><img src="/2019/02/24/Node_JS/事件循环/1.png" height="120" width="313"></p>
<p>&emsp;&emsp;有些类似于观察者模式，事件相当于一个主题(<code>Subject</code>)，而所有注册到这个事件上的处理函数相当于观察者(<code>Observer</code>)。<code>Node.js</code>有多个内置的事件，我们可以通过引入<code>events</code>模块，并通过实例化<code>EventEmitter</code>类来绑定和监听事件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> events = <span class="built_in">require</span>(<span class="string">'events'</span>); <span class="comment">/* 引入events模块 */</span></span><br><span class="line"><span class="keyword">var</span> eventEmitter = <span class="keyword">new</span> events.EventEmitter(); <span class="comment">/* 创建eventEmitter对象 */</span></span><br></pre></td></tr></table></figure>
<p>以下程序绑定事件处理程序：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eventEmitter.on(<span class="string">'eventName'</span>, eventHandler); <span class="comment">/* 绑定事件以及事件的处理程序 */</span></span><br></pre></td></tr></table></figure>
<p>我们可以通过程序触发事件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eventEmitter.emit(<span class="string">'eventName'</span>); <span class="comment">/* 触发事件 */</span></span><br></pre></td></tr></table></figure>
<p>创建<code>main.js</code>文件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> events = <span class="built_in">require</span>(<span class="string">'events'</span>); <span class="comment">/* 引入events模块 */</span></span><br><span class="line"><span class="keyword">var</span> eventEmitter = <span class="keyword">new</span> events.EventEmitter(); <span class="comment">/* 创建eventEmitter对象 */</span></span><br><span class="line">​</span><br><span class="line"><span class="keyword">var</span> connectHandler = <span class="function"><span class="keyword">function</span> <span class="title">connected</span>(<span class="params"></span>) </span>&#123; <span class="comment">/* 创建事件处理程序 */</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'连接成功。'</span>);</span><br><span class="line">    eventEmitter.emit(<span class="string">'data_received'</span>); <span class="comment">/* 触发data_received事件 */</span></span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line"><span class="comment">/* 绑定connection事件处理程序 */</span></span><br><span class="line">eventEmitter.on(<span class="string">'connection'</span>, connectHandler);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 使用匿名函数绑定data_received事件 */</span></span><br><span class="line">eventEmitter.on(<span class="string">'data_received'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'数据接收成功。'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">​</span><br><span class="line">eventEmitter.emit(<span class="string">'connection'</span>); <span class="comment">/* 触发connection事件 */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"程序执行完毕。"</span>);</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">连接成功。</span><br><span class="line">数据接收成功。</span><br><span class="line">程序执行完毕。</span><br></pre></td></tr></table></figure>
<h3 id="Node应用程序是如何工作的？"><a href="#Node应用程序是如何工作的？" class="headerlink" title="Node应用程序是如何工作的？"></a>Node应用程序是如何工作的？</h3><p>&emsp;&emsp;在<code>Node.js</code>应用程序中，执行异步操作的函数将回调函数作为最后一个参数，回调函数接收错误对象作为第一个参数。<br>&emsp;&emsp;创建<code>input.txt</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">菜鸟教程官网地址：www.runoob.com</span><br></pre></td></tr></table></figure>
<p>创建<code>main.js</code>文件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line">​</span><br><span class="line">fs.readFile(<span class="string">'input.txt'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err.stack);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(data.toString());</span><br><span class="line">&#125;);</span><br><span class="line">​</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"程序执行完毕"</span>);</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">程序执行完毕</span><br><span class="line">菜鸟教程官网地址：www.runoob.com</span><br></pre></td></tr></table></figure>
<p><code>fs.readFile</code>是异步函数，用于读取文件，如果在读取文件过程中发生错误，错误<code>err</code>对象就会输出错误信息。如果没有发生错误，<code>readFile</code>跳过<code>err</code>对象的输出，文件内容就通过回调函数输出。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/24/Python语法/csv模块/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/24/Python语法/csv模块/" itemprop="url">csv模块</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-24T13:21:56+08:00">
                2019-02-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Python语法/" itemprop="url" rel="index">
                    <span itemprop="name">Python语法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;逗号分隔值(<code>Comma Separated Values</code>，有时也称为<code>字符分隔值</code>，因为分隔字符也可以不是逗号)，其文件以纯文本形式存储表格数据(数字和文本)。<code>CSV</code>文件由任意数目的记录组成，记录间以某种换行符分隔；每条记录由字段组成，字段间的分隔符是其它字符或字符串，最常见的是逗号或制表符。通常，所有记录都有完全相同的字段序列。<br>&emsp;&emsp;每条记录占一行，以逗号为分隔符，逗号前后的空格会被忽略。如果字段中包含有逗号、换行符，该字段必须用双引号括起来；如果字段前后包含有空格，该字段必须用双引号括起来；字段中的双引号用两个双引号表示。第一条记录，可以是字段名。<br>&emsp;&emsp;有以下表格：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>年</th>
<th>制造商</th>
<th>型号</th>
<th>说明</th>
<th>价值</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>1997</code></td>
<td><code>Ford</code></td>
<td><code>E350</code></td>
<td><code>ac, abs, moon</code></td>
<td><code>3000.00</code></td>
</tr>
<tr>
<td><code>1999</code></td>
<td><code>Chevy</code></td>
<td><code>Venture &quot;Extended Edition&quot;</code></td>
<td></td>
<td><code>4900.00</code></td>
</tr>
<tr>
<td><code>1999</code></td>
<td><code>Chevy</code></td>
<td><code>Venture &quot;Extended Edition, Very Large&quot;</code></td>
<td></td>
<td><code>5000.00</code></td>
</tr>
<tr>
<td><code>1996</code></td>
<td><code>Jeep</code></td>
<td><code>Grand Cherokee</code></td>
<td><code>MUST SELL!</code></td>
<td><code>4799.00</code></td>
</tr>
</tbody>
</table>
</div>
<p>上面表格内容若以<code>CSV</code>格式表示，就会像下列：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">年,制造商,型号,说明,价值</span><br><span class="line"><span class="number">1997</span>,Ford,E350,<span class="string">"ac, abs, moon"</span>,<span class="number">3000.00</span></span><br><span class="line"><span class="number">1999</span>,Chevy,<span class="string">"Venture "</span><span class="string">"Extended Edition"</span><span class="string">""</span>,<span class="string">""</span>,<span class="number">4900.00</span></span><br><span class="line"><span class="number">1999</span>,Chevy,<span class="string">"Venture "</span><span class="string">"Extended Edition, Very Large"</span><span class="string">""</span>,<span class="string">""</span>,<span class="number">5000.00</span></span><br><span class="line"><span class="number">1996</span>,Jeep,Grand Cherokee,<span class="string">"MUST SELL!"</span>,<span class="number">4799.00</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;The <code>so-called</code> <code>CSV</code> (<code>Comma Separated Values</code>) format is the most common import and export format for spreadsheets and databases. <code>CSV</code> format was used for many years prior to attempts to describe the format in a standardized way in <code>RFC 4180</code>. The lack of a <code>well-defined</code> standard means that subtle differences often exist in the data produced and consumed by different applications. These differences can make it annoying to process <code>CSV</code> files from multiple sources. Still, while the delimiters and quoting characters vary, the overall format is similar enough that it is possible to write a single module which can efficiently manipulate such data, hiding the details of reading and writing the data from the programmer.<br>&emsp;&emsp;The csv module implements classes to read and write tabular data in <code>CSV</code> format. It allows programmers to say, <code>write this data in the format preferred by Excel,</code> or <code>read data from this file which was generated by Excel,</code> without knowing the precise details of the <code>CSV</code> format used by <code>Excel</code>. Programmers can also describe the <code>CSV</code> formats understood by other applications or define their own <code>special-purpose</code> <code>CSV</code> formats.<br>&emsp;&emsp;The csv module’s reader and writer objects read and write sequences. Programmers can also read and write data in dictionary form using the <code>DictReader</code> and <code>DictWriter</code> classes.</p>
<h3 id="Module-Contents"><a href="#Module-Contents" class="headerlink" title="Module Contents"></a>Module Contents</h3><p>&emsp;&emsp;The csv module defines the following functions:</p>
<ul>
<li><code>csv.reader(csvfile, dialect=&#39;excel&#39;, **fmtparams)</code>: Return a reader object which will iterate over lines in the given <code>csvfile</code>. <code>csvfile</code> can be any object which supports the iterator protocol and returns a string each time its <code>__next__()</code> method is called: file objects and list objects are both suitable. If <code>csvfile</code> is a file object, it should be opened with <code>newline=&#39;&#39;</code>. An optional <code>dialect</code> parameter can be given which is used to define a set of parameters specific to a particular <code>CSV</code> <code>dialect</code>. It may be an instance of a subclass of the Dialect class or one of the strings returned by the <code>list_dialects()</code> function. The other optional <code>fmtparams</code> keyword arguments can be given to override individual formatting parameters in the current <code>dialect</code>.</li>
</ul>
<p>&emsp;&emsp;Each row read from the csv file is returned as a list of strings. No automatic data type conversion is performed unless the <code>QUOTE_NONNUMERIC</code> format option is specified (in which case unquoted fields are transformed into floats).<br>&emsp;&emsp;A short usage example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> csv</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> open(<span class="string">'eggs.csv'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> csvfile:</span><br><span class="line"><span class="meta">... </span>    spamreader = csv.reader(csvfile, delimiter=<span class="string">' '</span>, quotechar=<span class="string">'|'</span>)</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">for</span> row <span class="keyword">in</span> spamreader:</span><br><span class="line"><span class="meta">... </span>        print(<span class="string">', '</span>.join(row))</span><br><span class="line">Spam, Spam, Spam, Spam, Spam, Baked Beans</span><br><span class="line">Spam, Lovely Spam, Wonderful Spam</span><br></pre></td></tr></table></figure>
<ul>
<li><code>csv.writer(csvfile, dialect=&#39;excel&#39;, **fmtparams)</code>: Return a writer object responsible for converting the user’s data into delimited strings on the given <code>file-like</code> object. <code>csvfile</code> can be any object with a <code>write()</code> method. If <code>csvfile</code> is a file object, it should be opened with <code>newline=&#39;&#39;</code>. An optional <code>dialect</code> parameter can be given which is used to define a set of parameters specific to a particular <code>CSV</code> <code>dialect</code>. It may be an instance of a subclass of the <code>Dialect</code> class or one of the strings returned by the <code>list_dialects()</code> function. The other optional <code>fmtparams</code> keyword arguments can be given to override individual formatting parameters in the current <code>dialect</code>. To make it as easy as possible to interface with modules which implement the <code>DB API</code>, the value <code>None</code> is written as the empty string. While this isn’t a reversible transformation, it makes it easier to dump <code>SQL NULL</code> data values to <code>CSV</code> files without preprocessing the data returned from a <code>cursor.fetch*</code> call. All other <code>non-string</code> data are stringified with <code>str()</code> before being written.</li>
</ul>
<p>&emsp;&emsp;A short usage example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">​</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'eggs.csv'</span>, <span class="string">'w'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> csvfile:</span><br><span class="line">    spamwriter = csv.writer(csvfile, delimiter=<span class="string">' '</span>, quotechar=<span class="string">'|'</span>, quoting=csv.QUOTE_MINIMAL)</span><br><span class="line">    spamwriter.writerow([<span class="string">'Spam'</span>] * <span class="number">5</span> + [<span class="string">'Baked Beans'</span>])</span><br><span class="line">    spamwriter.writerow([<span class="string">'Spam'</span>, <span class="string">'Lovely Spam'</span>, <span class="string">'Wonderful Spam'</span>])</span><br></pre></td></tr></table></figure>
<ul>
<li><code>csv.register_dialect(name[, dialect[, **fmtparams]])</code>: Associate <code>dialect</code> with <code>name</code>. <code>name</code> must be a string. The <code>dialect</code> can be specified either by passing a <code>sub-class</code> of <code>Dialect</code>, or by <code>fmtparams</code> keyword arguments, or both, with keyword arguments overriding parameters of the <code>dialect</code>.</li>
<li><code>csv.unregister_dialect(name)</code>: Delete the dialect associated with <code>name</code> from the dialect registry. An <code>Error</code> is raised if <code>name</code> is not a registered dialect name.</li>
<li><code>csv.get_dialect(name)</code>: Return the dialect associated with <code>name</code>. An <code>Error</code> is raised if <code>name</code> is not a registered dialect name. This function returns an immutable <code>Dialect</code>.</li>
<li><code>csv.list_dialects()</code>: Return the names of all registered dialects.</li>
<li><code>csv.field_size_limit([new_limit])</code>: Returns the current maximum field size allowed by the parser. If <code>new_limit</code> is given, this becomes the new limit.</li>
</ul>
<p>&emsp;&emsp;The csv module defines the following classes:</p>
<ul>
<li><code>csv.DictReader(f, fieldnames=None, restkey=None, restval=None, dialect=&#39;excel&#39;, *args, **kwds):</code> Create an object that operates like a regular reader but maps the information in each row to an <code>OrderedDict</code> whose keys are given by the optional <code>fieldnames</code> parameter.</li>
</ul>
<p>&emsp;&emsp;The <code>fieldnames</code> parameter is a sequence. If <code>fieldnames</code> is omitted, the values in the first row of file <code>f</code> will be used as the <code>fieldnames</code>. Regardless of how the <code>fieldnames</code> are determined, the ordered dictionary preserves their original ordering.<br>&emsp;&emsp;If a row has more fields than <code>fieldnames</code>, the remaining data is put in a list and stored with the fieldname specified by <code>restkey</code> (which defaults to <code>None</code>). If a <code>non-blank</code> row has fewer fields than <code>fieldnames</code>, the missing values are <code>filled-in</code> with <code>None</code>.<br>&emsp;&emsp;All other optional or keyword arguments are passed to the underlying reader instance.<br>&emsp;&emsp;A short usage example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> csv</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> open(<span class="string">'names.csv'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> csvfile:</span><br><span class="line"><span class="meta">... </span>    reader = csv.DictReader(csvfile)</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line"><span class="meta">... </span>        print(row[<span class="string">'first_name'</span>], row[<span class="string">'last_name'</span>])</span><br><span class="line">...</span><br><span class="line">Eric Idle</span><br><span class="line">John Cleese</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(row)</span><br><span class="line">OrderedDict([(<span class="string">'first_name'</span>, <span class="string">'John'</span>), (<span class="string">'last_name'</span>, <span class="string">'Cleese'</span>)])</span><br></pre></td></tr></table></figure>
<ul>
<li><code>class csv.DictWriter(f, fieldnames, restval=&#39;&#39;, extrasaction=&#39;raise&#39;, dialect=&#39;excel&#39;, *args, **kwds)</code>: Create an object which operates like a regular writer but maps dictionaries onto output rows. The <code>fieldnames</code> parameter is a sequence of keys that identify the order in which values in the dictionary passed to the <code>writerow()</code> method are written to file <code>f</code>. The optional <code>restval</code> parameter specifies the value to be written if the dictionary is missing a key in <code>fieldnames</code>. If the dictionary passed to the <code>writerow()</code> method contains a key not found in <code>fieldnames</code>, the optional <code>extrasaction</code> parameter indicates what action to take. If it is set to <code>raise</code>, the default value, a <code>ValueError</code> is raised. If it is set to <code>ignore</code>, extra values in the dictionary are ignored. Any other optional or keyword arguments are passed to the underlying writer instance.</li>
</ul>
<p>&emsp;&emsp;Note that unlike the <code>DictReader</code> class, the <code>fieldnames</code> parameter of the <code>DictWriter</code> is not optional. Since <code>Python&#39;s</code> dict objects are not ordered, there is not enough information available to deduce the order in which the row should be written to file <code>f</code>.<br>&emsp;&emsp;A short usage example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">​</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'names.csv'</span>, <span class="string">'w'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> csvfile:</span><br><span class="line">    fieldnames = [<span class="string">'first_name'</span>, <span class="string">'last_name'</span>]</span><br><span class="line">    writer = csv.DictWriter(csvfile, fieldnames=fieldnames)</span><br><span class="line">    writer.writeheader()</span><br><span class="line">    writer.writerow(&#123;<span class="string">'first_name'</span>: <span class="string">'Baked'</span>, <span class="string">'last_name'</span>: <span class="string">'Beans'</span>&#125;)</span><br><span class="line">    writer.writerow(&#123;<span class="string">'first_name'</span>: <span class="string">'Lovely'</span>, <span class="string">'last_name'</span>: <span class="string">'Spam'</span>&#125;)</span><br><span class="line">    writer.writerow(&#123;<span class="string">'first_name'</span>: <span class="string">'Wonderful'</span>, <span class="string">'last_name'</span>: <span class="string">'Spam'</span>&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>class csv.Dialect</code>: The <code>Dialect</code> class is a container class relied on primarily for its attributes, which are used to define the parameters for a specific reader or writer instance.</li>
<li><code>class csv.excel</code>: The excel class defines the usual properties of an <code>Excel-generated</code> <code>CSV</code> file. It is registered with the dialect name <code>excel</code>.</li>
<li><code>class csv.excel_tab</code>: The <code>excel_tab</code> class defines the usual properties of an <code>Excel-generated</code> <code>TAB-delimited</code> file. It is registered with the dialect name <code>excel-tab</code>.</li>
<li><code>class csv.unix_dialect</code>: The <code>unix_dialect</code> class defines the usual properties of a <code>CSV</code> file generated on <code>UNIX</code> systems, i.e. using <code>\n</code> as line terminator and quoting all fields. It is registered with the dialect name <code>unix</code>.</li>
<li><code>class csv.Sniffer</code>: The <code>Sniffer</code> class is used to deduce the format of a <code>CSV</code> file.</li>
</ul>
<p>&emsp;&emsp;The <code>Sniffer</code> class provides two methods:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sniff(sample, delimiters=<span class="keyword">None</span>)</span><br></pre></td></tr></table></figure>
<p>Analyze the given <code>sample</code> and return a <code>Dialect</code> subclass reflecting the parameters found. If the optional <code>delimiters</code> parameter is given, it is interpreted as a string containing possible valid delimiter characters.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">has_header(sample)</span><br></pre></td></tr></table></figure>
<p>Analyze the <code>sample</code> text (presumed to be in <code>CSV</code> format) and return <code>True</code> if the first row appears to be a series of column headers.<br>&emsp;&emsp;An example for <code>Sniffer</code> use:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">'example.csv'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> csvfile:</span><br><span class="line">    dialect = csv.Sniffer().sniff(csvfile.read(<span class="number">1024</span>))</span><br><span class="line">    csvfile.seek(<span class="number">0</span>)</span><br><span class="line">    reader = csv.reader(csvfile, dialect)</span><br><span class="line">    <span class="comment"># process CSV file contents here</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;The csv module defines the following constants:</p>
<ul>
<li><code>csv.QUOTE_ALL</code>: Instructs writer objects to quote all fields.</li>
<li><code>csv.QUOTE_MINIMAL</code>: Instructs writer objects to only quote those fields which contain special characters such as delimiter, quotechar or any of the characters in lineterminator.</li>
<li><code>csv.QUOTE_NONNUMERIC</code>: Instructs writer objects to quote all <code>non-numeric</code> fields. Instructs the reader to convert all <code>non-quoted</code> fields to type float.</li>
<li><code>csv.QUOTE_NONE</code>: Instructs writer objects to never quote fields. When the current delimiter occurs in output data it is preceded by the current escapechar character. If escapechar is not set, the writer will raise <code>Error</code> if any characters that require escaping are encountered.</li>
</ul>
<p>&emsp;&emsp;Instructs reader to perform no special processing of quote characters.<br>&emsp;&emsp;The csv module defines the following exception:</p>
<ul>
<li><code>exception csv.Error</code>: Raised by any of the functions when an error is detected.</li>
</ul>
<h3 id="Dialects-and-Formatting-Parameters"><a href="#Dialects-and-Formatting-Parameters" class="headerlink" title="Dialects and Formatting Parameters"></a>Dialects and Formatting Parameters</h3><p>&emsp;&emsp;To make it easier to specify the format of input and output records, specific formatting parameters are grouped together into dialects. A dialect is a subclass of the <code>Dialect</code> class having a set of specific methods and a single <code>validate()</code> method. When creating reader or writer objects, the programmer can specify a string or a subclass of the <code>Dialect</code> class as the dialect parameter. In addition to, or instead of, the dialect parameter, the programmer can also specify individual formatting parameters, which have the same names as the attributes defined below for the <code>Dialect</code> class.<br>&emsp;&emsp;Dialects support the following attributes:</p>
<ul>
<li><code>Dialect.delimiter</code>: A <code>one-character</code> string used to separate fields. It defaults to <code>,</code>.</li>
<li><code>Dialect.doublequote</code>: Controls how instances of quotechar appearing inside a field should themselves be quoted. When <code>True</code>, the character is doubled. When <code>False</code>, the escapechar is used as a prefix to the quotechar. It defaults to <code>True</code>.</li>
</ul>
<p>&emsp;&emsp;On output, if doublequote is <code>False</code> and no escapechar is set, Error is raised if a quotechar is found in a field.</p>
<ul>
<li><code>Dialect.escapechar</code>: A <code>one-character</code> string used by the writer to escape the delimiter if quoting is set to <code>QUOTE_NONE</code> and the quotechar if doublequote is <code>False</code>. On reading, the escapechar removes any special meaning from the following character. It defaults to <code>None</code>, which disables escaping.</li>
<li><code>Dialect.lineterminator</code>: The string used to terminate lines produced by the writer. It defaults to <code>\r\n</code>.</li>
</ul>
<p>&emsp;&emsp;<strong>Note</strong>: The reader is <code>hard-coded</code> to recognise either <code>\r</code> or <code>\n</code> as <code>end-of-line</code>, and ignores lineterminator. This behavior may change in the future.</p>
<ul>
<li><code>Dialect.quotechar</code>: A <code>one-character</code> string used to quote fields containing special characters, such as the delimiter or quotechar, or which contain <code>new-line</code> characters. It defaults to <code>&quot;</code>.</li>
<li><code>Dialect.quoting</code>: Controls when quotes should be generated by the writer and recognised by the reader. It can take on any of the <code>QUOTE_*</code> constants and defaults to <code>QUOTE_MINIMAL</code>.</li>
<li><code>Dialect.skipinitialspace</code>: When <code>True</code>, whitespace immediately following the delimiter is ignored. The default is <code>False</code>.</li>
<li><code>Dialect.strict</code>: When <code>True</code>, raise exception Error on bad <code>CSV</code> input. The default is <code>False</code>.</li>
</ul>
<h3 id="Reader-Objects"><a href="#Reader-Objects" class="headerlink" title="Reader Objects"></a>Reader Objects</h3><p>&emsp;&emsp;<code>Reader</code> objects (<code>DictReader</code> instances and objects returned by the <code>reader()</code> function) have the following public methods:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csvreader.__next__()</span><br></pre></td></tr></table></figure>
<p>Return the next row of the reader’s iterable object as a list (if the object was returned from <code>reader()</code>) or a dict (if it is a <code>DictReader</code> instance), parsed according to the current dialect. Usually you should call this as <code>next(reader)</code>.<br>&emsp;&emsp;<code>Reader</code> objects have the following public attributes:</p>
<ul>
<li><code>csvreader.dialect</code>: A <code>read-only</code> description of the dialect in use by the parser.</li>
<li><code>csvreader.line_num</code>: The number of lines read from the source iterator. This is not the same as the number of records returned, as records can span multiple lines.</li>
</ul>
<p>&emsp;&emsp;<code>DictReader</code> objects have the following public attribute:</p>
<ul>
<li><code>csvreader.fieldnames</code>: If not passed as a parameter when creating the object, this attribute is initialized upon first access or when the first record is read from the file.</li>
</ul>
<h3 id="Writer-Objects"><a href="#Writer-Objects" class="headerlink" title="Writer Objects"></a>Writer Objects</h3><p>&emsp;&emsp;<code>Writer</code> objects (<code>DictWriter</code> instances and objects returned by the <code>writer()</code> function) have the following public methods. A row must be an iterable of strings or numbers for <code>Writer</code> objects and a dictionary mapping fieldnames to strings or numbers (by passing them through <code>str()</code> first) for <code>DictWriter</code> objects. Note that complex numbers are written out surrounded by parens. This may cause some problems for other programs which read <code>CSV</code> files (assuming they support complex numbers at all).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csvwriter.writerow(row):</span><br></pre></td></tr></table></figure>
<p>Write the row parameter to the writer’s file object, formatted according to the current dialect.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csvwriter.writerows(rows):</span><br></pre></td></tr></table></figure>
<p>Write all the rows parameters (a list of row objects as described above) to the writer’s file object, formatted according to the current dialect.<br>&emsp;&emsp;<code>Writer</code> objects have the following public attribute:</p>
<ul>
<li><code>csvwriter.dialect</code>: A <code>read-only</code> description of the dialect in use by the writer.</li>
</ul>
<p>&emsp;&emsp;<code>DictWriter</code> objects have the following public method:</p>
<ul>
<li><code>DictWriter.writeheader()</code>: Write a row with the field names (as specified in the constructor).</li>
</ul>
<h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><p>&emsp;&emsp;The simplest example of reading a <code>CSV</code> file:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">​</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'some.csv'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        print(row)</span><br></pre></td></tr></table></figure>
<p>Reading a file with an alternate format:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">​</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'passwd'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f, delimiter=<span class="string">':'</span>, quoting=csv.QUOTE_NONE)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        print(row)</span><br></pre></td></tr></table></figure>
<p>The corresponding simplest possible writing example is:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">​</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'some.csv'</span>, <span class="string">'w'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> f:</span><br><span class="line">    writer = csv.writer(f)</span><br><span class="line">    writer.writerows(someiterable)</span><br></pre></td></tr></table></figure>
<p>Since <code>open()</code> is used to open a <code>CSV</code> file for reading, the file will by default be decoded into unicode using the system default encoding. To decode a file using a different encoding, use the encoding argument of open:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">​</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'some.csv'</span>, newline=<span class="string">''</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        print(row)</span><br></pre></td></tr></table></figure>
<p>The same applies to writing in something other than the system default encoding: specify the encoding argument when opening the output file.<br>&emsp;&emsp;Registering a new dialect:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">​</span><br><span class="line">csv.register_dialect(<span class="string">'unixpwd'</span>, delimiter=<span class="string">':'</span>, quoting=csv.QUOTE_NONE)</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'passwd'</span>, newline=<span class="string">''</span>) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f, <span class="string">'unixpwd'</span>)</span><br></pre></td></tr></table></figure>
<p>A slightly more advanced use of the reader — catching and reporting errors:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv, sys</span><br><span class="line">​</span><br><span class="line">filename = <span class="string">'some.csv'</span></span><br><span class="line"><span class="keyword">with</span> open(filename, newline=<span class="string">''</span>) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">            print(row)</span><br><span class="line">    <span class="keyword">except</span> csv.Error <span class="keyword">as</span> e:</span><br><span class="line">        sys.exit(<span class="string">'file &#123;&#125;, line &#123;&#125;: &#123;&#125;'</span>.format(filename, reader.line_num, e))</span><br></pre></td></tr></table></figure>
<p>And while the module doesn’t directly support parsing strings, it can easily be done:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">​</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> csv.reader([<span class="string">'one,two,three'</span>]):</span><br><span class="line">    print(row)</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;<strong>Footnotes</strong>: If <code>newline=&#39;&#39;</code> is not specified, newlines embedded inside quoted fields will not be interpreted correctly, and on platforms that use <code>\r\n</code> linendings on write an extra <code>\r</code> will be added. It should always be safe to specify <code>newline=&#39;&#39;</code>, since the csv module does its own (universal) newline handling.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/24/Python语法/数据类型和循环/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/24/Python语法/数据类型和循环/" itemprop="url">数据类型和循环</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-24T12:07:14+08:00">
                2019-02-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Python语法/" itemprop="url" rel="index">
                    <span itemprop="name">Python语法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>&emsp;&emsp;<code>Python</code>的数据类型分为整型、布尔类型、浮点型、<code>e</code>记法。在终端输入<code>a = 0.00000000000000000015</code>，再输入<code>a</code>得到<code>1.5e-19</code>；在终端输入<code>b = 1.5e12</code>，再输入<code>b</code>，得到<code>1500000000000.0</code>，这就是<code>e</code>记法。也可以输入<code>b = 15e11</code>，达到同样的结果。<br>&emsp;&emsp;布尔类型是特殊的整型，在终端输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">True</span> + <span class="keyword">True</span>  <span class="comment"># 结果为2</span></span><br><span class="line"><span class="keyword">True</span> * <span class="keyword">True</span>  <span class="comment"># 结果为1</span></span><br><span class="line"><span class="keyword">True</span> + <span class="keyword">False</span>  <span class="comment"># 结果为1</span></span><br><span class="line"><span class="keyword">True</span> * <span class="keyword">False</span>  <span class="comment"># 结果为0</span></span><br><span class="line"><span class="keyword">True</span> / <span class="keyword">False</span>  <span class="comment"># 结果出错</span></span><br></pre></td></tr></table></figure>
<p>类型转换如下：</p>
<p><img src="/2019/02/24/Python语法/数据类型和循环/1.jpg" height="233" width="277"></p>
<p>&emsp;&emsp;在终端输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">'520'</span></span><br><span class="line">b = int(a)  <span class="comment"># b为得到整数520</span></span><br></pre></td></tr></table></figure>
<p>如果<code>a</code>为<code>hello</code>，则程序出错。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5.99</span></span><br><span class="line">c = int(a)  <span class="comment"># c为整数5</span></span><br><span class="line">c = str(<span class="number">5e19</span>)  <span class="comment"># c为字符串“5e+19”</span></span><br></pre></td></tr></table></figure>
<p>注意<code>str</code>的使用，在终端输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">"hello"</span></span><br><span class="line">c = str(<span class="number">520</span>)  <span class="comment"># 这样会报错！</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;关于获取类型的信息，使用<code>type</code>或者<code>isinstance</code>这些<code>BIF</code>。在终端输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">'510'</span></span><br><span class="line">type(a)  <span class="comment"># 得到&lt;class 'str'&gt;</span></span><br><span class="line">type(<span class="number">5.2</span>)  <span class="comment"># 得到&lt;class 'float'&gt;</span></span><br><span class="line">type(<span class="keyword">True</span>)  <span class="comment"># 得到&lt;class 'bool'&gt;</span></span><br><span class="line">type(<span class="number">5e12</span>)  <span class="comment"># 得到&lt;class 'float'&gt;</span></span><br><span class="line"><span class="comment"># --------------------------------</span></span><br><span class="line">a = <span class="string">"hello"</span></span><br><span class="line">isinstance(a, str)  <span class="comment"># 结果为True</span></span><br><span class="line">isinstance(a, int)  <span class="comment"># 结果为False</span></span><br><span class="line">isinstance(<span class="number">520</span>, int)  <span class="comment"># 结果为True</span></span><br><span class="line">isinstance(<span class="number">320.25</span>, float)  <span class="comment"># 结果为True</span></span><br><span class="line">isinstance(<span class="number">320.25</span>, bool)  <span class="comment"># 结果为False</span></span><br></pre></td></tr></table></figure>
<h4 id="多个变量赋值"><a href="#多个变量赋值" class="headerlink" title="多个变量赋值"></a>多个变量赋值</h4><p>&emsp;&emsp;<code>Python</code>允许你同时为多个变量赋值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = b = c = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>以上实例创建一个整型对象(值为<code>1</code>)，从后向前赋值，三个变量被赋予相同的数值。也可以为多个对象指定多个变量：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a, b, c = <span class="number">1</span>, <span class="number">2</span>, <span class="string">"runoob"</span></span><br></pre></td></tr></table></figure>
<p>两个整型对象<code>1</code>和<code>2</code>被分配给变量<code>a</code>和<code>b</code>，字符串对象<code>runoob</code>分配给变量<code>c</code>。</p>
<hr>
<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><h4 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h4><p>&emsp;&emsp;语法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 目标 <span class="keyword">in</span> 表达式:</span><br><span class="line">    循环体</span><br></pre></td></tr></table></figure>
<p>在终端输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">favourite = <span class="string">"hello"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> favourite:</span><br><span class="line">    print(i, end=<span class="string">' '</span>)  <span class="comment"># 打印“h e l l o ”</span></span><br></pre></td></tr></table></figure>
<p>在终端输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">member = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>]  <span class="comment"># Python的列表，相当于C语言的数组</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> member:</span><br><span class="line">    print(each, len(each))  <span class="comment"># len是Python的BIF</span></span><br></pre></td></tr></table></figure>
<p>输出结果为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">one <span class="number">3</span></span><br><span class="line">two <span class="number">3</span></span><br><span class="line">three <span class="number">5</span></span><br><span class="line">four <span class="number">4</span></span><br></pre></td></tr></table></figure>
<h4 id="for和else"><a href="#for和else" class="headerlink" title="for和else"></a>for和else</h4><p>&emsp;&emsp;使用<code>break</code>关键字终止当前循环就不会执行<code>else</code>语句，而使用<code>continue</code>则进入下一轮循环。如果正常地结束循环，就会触发<code>else</code>语句。<br>&emsp;&emsp;正常结束的循环：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> list:</span><br><span class="line">    print(x, end=<span class="string">" "</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"else"</span>)</span><br></pre></td></tr></table></figure>
<p>执行结果为<code>1 2 3 4 5 else</code>。使用<code>continue</code>关键字：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> list:</span><br><span class="line">    <span class="keyword">continue</span></span><br><span class="line">    print(x)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"else"</span>)</span><br></pre></td></tr></table></figure>
<p>执行结果为<code>else</code>。不触发<code>else</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> list:</span><br><span class="line">    print(x)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"else"</span>)</span><br></pre></td></tr></table></figure>
<p>执行结果为<code>1</code>。</p>
<h4 id="range"><a href="#range" class="headerlink" title="range"></a>range</h4><p>&emsp;&emsp;语法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">range([start, ] stop[, step = <span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<p>这个<code>BIF</code>有三个参数，其中括号括起来的表示这两个参数是可选的。<code>range</code>的作用是生成一个从<code>start</code>参数的值开始到<code>stop</code>参数的值结束的数字序列。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">range(<span class="number">5</span>)  <span class="comment"># 得到range(0, 5)</span></span><br><span class="line">list(range(<span class="number">5</span>))  <span class="comment"># 得到[0, 1, 2, 3, 4]</span></span><br><span class="line">​</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">    print(i)  <span class="comment"># 得到0、1、2、3、4这5个数字</span></span><br><span class="line">​</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">9</span>):</span><br><span class="line">    print(i)  <span class="comment"># 得到2、3、4、5、6、7、8这7个数字</span></span><br><span class="line">​</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>):</span><br><span class="line">    print(i)  <span class="comment"># 得到1、3、5、7、9这5个数字</span></span><br></pre></td></tr></table></figure>
<h4 id="break和continue"><a href="#break和continue" class="headerlink" title="break和continue"></a>break和continue</h4><p>&emsp;&emsp;<code>Python</code>的<code>break</code>、<code>continue</code>语句和<code>C</code>语言的类似。<code>break</code>用法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">bingo = <span class="string">"hello"</span></span><br><span class="line">​</span><br><span class="line">answer = input(<span class="string">"Please input the answer: "</span>)</span><br><span class="line">​</span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">if</span> answer == bingo:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    answer = input(<span class="string">"No, you are wrong! Input the answer again: "</span>)</span><br><span class="line">​</span><br><span class="line">print(<span class="string">"Yes! you are right!"</span>)</span><br></pre></td></tr></table></figure>
<p><code>continue</code>用法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">2</span> != <span class="number">0</span>:</span><br><span class="line">        print(i)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">    i += <span class="number">2</span></span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>
<p>最后结果是<code>2</code>、<code>1</code>、<code>4</code>、<code>3</code>、<code>6</code>、<code>5</code>、<code>8</code>、<code>7</code>、<code>10</code>、<code>9</code>这些数字。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/24/Python语法/Python内置函数/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/24/Python语法/Python内置函数/" itemprop="url">Python内置函数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-24T10:42:11+08:00">
                2019-02-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Python语法/" itemprop="url" rel="index">
                    <span itemprop="name">Python语法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="chr"><a href="#chr" class="headerlink" title="chr"></a>chr</h3><p>&emsp;&emsp;<code>chr</code>用一个范围在<code>range(256)</code>内的(就是<code>0</code>至<code>255</code>)整数作参数，返回一个对应的字符：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chr(i)</span><br></pre></td></tr></table></figure>
<p>参数<code>i</code>可以是<code>10</code>进制也可以是<code>16</code>进制的形式的数字。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(chr(<span class="number">0x30</span>), chr(<span class="number">0x31</span>), chr(<span class="number">0x61</span>))  <span class="comment"># 十六进制</span></span><br><span class="line">print(chr(<span class="number">48</span>), chr(<span class="number">49</span>), chr(<span class="number">97</span>))  <span class="comment"># 十进制</span></span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> a</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> a</span><br></pre></td></tr></table></figure>
<h3 id="ord"><a href="#ord" class="headerlink" title="ord"></a>ord</h3><p>&emsp;&emsp;<code>ord</code>以一个字符(长度为1的字符串)作为参数，返回对应的<code>ASCII</code>数值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ord(c)</span><br></pre></td></tr></table></figure>
<p>参数<code>c</code>是字符。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">'a'</span>)</span><br><span class="line"><span class="number">97</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">'b'</span>)</span><br><span class="line"><span class="number">98</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">'c'</span>)</span><br><span class="line"><span class="number">99</span></span><br></pre></td></tr></table></figure>
<h3 id="len"><a href="#len" class="headerlink" title="len"></a>len</h3><p>&emsp;&emsp;<code>len</code>返回对象(字符、列表、元组等)长度或项目个数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">len(s)</span><br></pre></td></tr></table></figure>
<p>参数s是一个对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">"runoob"</span></span><br><span class="line">len(str)  <span class="comment"># 字符串长度，结果为“6”</span></span><br><span class="line">l = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">len(l)  <span class="comment"># 列表元素个数，结果为“5”</span></span><br></pre></td></tr></table></figure>
<p><code>len</code>也可以用于计算文件的行数，以及目录下的文件个数。</p>
<h3 id="range"><a href="#range" class="headerlink" title="range"></a>range</h3><p>&emsp;&emsp;<code>range</code>可创建一个整数列表，一般用在<code>for</code>循环中：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">range(start, stop[, step])</span><br></pre></td></tr></table></figure>
<ul>
<li><code>start</code>：计数从<code>start</code>开始，默认是从<code>0</code>开始。例如<code>range(5)</code>等价于<code>range(0, 5)</code>。</li>
<li><code>end</code>：计数到<code>end</code>结束，但不包括<code>end</code>。例如<code>range(0, 5)</code>的结果为<code>[0, 1, 2, 3, 4]</code>。</li>
<li><code>step</code>：这是步长，默认为<code>1</code>。例如<code>range(0, 5)</code>等价于<code>range(0, 5, 1)</code>。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">10</span>)  <span class="comment"># 从0开始到10</span></span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">1</span>, <span class="number">11</span>)  <span class="comment"># 从1开始到11</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">0</span>, <span class="number">30</span>, <span class="number">5</span>)  <span class="comment"># 步长为5</span></span><br><span class="line">[<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">0</span>, <span class="number">10</span>, <span class="number">3</span>)  <span class="comment"># 步长为3</span></span><br><span class="line">[<span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">0</span>, <span class="number">-10</span>, <span class="number">-1</span>) <span class="comment"># 负数</span></span><br><span class="line">[<span class="number">0</span>, <span class="number">-1</span>, <span class="number">-2</span>, <span class="number">-3</span>, <span class="number">-4</span>, <span class="number">-5</span>, <span class="number">-6</span>, <span class="number">-7</span>, <span class="number">-8</span>, <span class="number">-9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">0</span>)</span><br><span class="line">[]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>
<p>以下是<code>range</code>在<code>for</code>中的使用，循环出<code>runoob</code>的每个字母：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="string">'runoob'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(x)):</span><br><span class="line">    print(x[i])</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;<code>Python 3.x</code>的<code>range</code>函数返回的是一个整数序列的对象，而不是列表：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(range(<span class="number">10</span>))</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">range</span>'&gt;</span></span><br></pre></td></tr></table></figure>
<p>可以利用<code>list</code>函数返回列表：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(range(<span class="number">10</span>))</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
<h3 id="int"><a href="#int" class="headerlink" title="int"></a>int</h3><p>&emsp;&emsp;<code>int</code>用于将一个数字或字符串转换为整型：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">int</span><span class="params">(x, base=<span class="number">10</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>参数<code>x</code>是字符串或数字，<code>base</code>是进制数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>int()  <span class="comment"># 不传入参数时，得到结果0</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int(<span class="number">3</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int(<span class="number">3.6</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int(<span class="string">'12'</span>, <span class="number">16</span>)  <span class="comment"># 如果带参数base，“12”要以字符串的形式进行输入</span></span><br><span class="line"><span class="number">18</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int(<span class="string">'0xa'</span>, <span class="number">16</span>)</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int(<span class="string">'10'</span>, <span class="number">8</span>)</span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure>
<h3 id="abs"><a href="#abs" class="headerlink" title="abs"></a>abs</h3><p>&emsp;&emsp;<code>abs</code>返回数字的绝对值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abs(x)</span><br></pre></td></tr></table></figure>
<p>参数<code>x</code>是数值表达式，可以是整数、浮点数和复数。如果参数是一个复数，则返回它的大小。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"abs(-40):"</span>, abs(<span class="number">-40</span>))  <span class="comment"># 输出“abs(-40): 40”</span></span><br><span class="line">print(<span class="string">"abs(100.10):"</span>, abs(<span class="number">100.10</span>))  <span class="comment"># 输出“abs(100.10): 100.1”</span></span><br></pre></td></tr></table></figure>
<h3 id="list"><a href="#list" class="headerlink" title="list"></a>list</h3><p>&emsp;&emsp;<code>list</code>用于将序列(列表、元组、字符串)转换为列表：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(seq)</span><br></pre></td></tr></table></figure>
<p>参数<code>seq</code>是要转换为列表的序列。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">aTuple = (<span class="number">123</span>, <span class="string">'Google'</span>, <span class="string">'Runoob'</span>, <span class="string">'Taobao'</span>)</span><br><span class="line">list1 = list(aTuple)</span><br><span class="line">print(list1)  <span class="comment"># 输出“[123, 'Google', 'Runoob', 'Taobao']”</span></span><br><span class="line">str = <span class="string">"Hello World"</span></span><br><span class="line">list2 = list(str)</span><br><span class="line">print(list2)  <span class="comment"># 输出“['H', 'e', 'l', 'l', 'o', ' ', 'W', 'o', 'r', 'l', 'd']”</span></span><br></pre></td></tr></table></figure>
<h3 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h3><p>&emsp;&emsp;<code>zip</code>用于将可迭代的对象作为参数，将对象中对应的元素打包成一个个元组，然后返回由这些元组组成的列表。如果各个迭代器的元素个数不一致，则返回列表长度与最短的对象相同，利用<code>*</code>操作符，可以将元组解压为列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zip([iterable, ...])</span><br></pre></td></tr></table></figure>
<p>参数<code>iterable</code>是一个或多个迭代器。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zipped = zip(a, b) <span class="comment"># 打包为元组的列表</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">4</span>), (<span class="number">2</span>, <span class="number">5</span>), (<span class="number">3</span>, <span class="number">6</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zip(a, c) <span class="comment"># 元素个数与最短的列表一致</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">4</span>), (<span class="number">2</span>, <span class="number">5</span>), (<span class="number">3</span>, <span class="number">6</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zip(*zipped) <span class="comment"># 与zip相反，可理解为解压，返回二维矩阵式</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), (<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)]</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;<code>zip(*iterables)</code>: Make an iterator that aggregates elements from each of the <code>iterables</code>.<br>&emsp;&emsp;Returns an iterator of tuples, where the <code>i-th</code> tuple contains the <code>i-th</code> element from each of the argument sequences or iterables. The iterator stops when the shortest input iterable is exhausted. With a single iterable argument, it returns an iterator of <code>1-tuples</code>. With no arguments, it returns an empty iterator. Equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">zip</span><span class="params">(*iterables)</span>:</span></span><br><span class="line">    <span class="comment"># zip('ABCD', 'xy') --&gt; Ax By</span></span><br><span class="line">    sentinel = object()</span><br><span class="line">    iterators = [iter(it) <span class="keyword">for</span> it <span class="keyword">in</span> iterables]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> iterators:</span><br><span class="line">        result = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> it <span class="keyword">in</span> iterators:</span><br><span class="line">            elem = next(it, sentinel)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> elem <span class="keyword">is</span> sentinel:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">            result.append(elem)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">yield</span> tuple(result)</span><br></pre></td></tr></table></figure>
<p>The <code>left-to-right</code> evaluation order of the iterables is guaranteed. This makes possible an idiom for clustering a data series into <code>n-length</code> groups using <code>zip(*[iter(s)] * n)</code>. This repeats the same iterator <code>n</code> times so that each output tuple has the result of <code>n</code> calls to the iterator. This has the effect of dividing the input into <code>n-length</code> chunks.<br>&emsp;&emsp;<code>zip()</code> should only be used with unequal length inputs when you don’t care about trailing, unmatched values from the longer iterables. If those values are important, use <code>itertools.zip_longest()</code> instead.<br>&emsp;&emsp;<code>zip()</code> in conjunction with the <code>*</code> operator can be used to unzip a list:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zipped = zip(x, y)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(zipped)</span><br><span class="line">[(<span class="number">1</span>, <span class="number">4</span>), (<span class="number">2</span>, <span class="number">5</span>), (<span class="number">3</span>, <span class="number">6</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x2, y2 = zip(*zip(x, y))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x == list(x2) <span class="keyword">and</span> y == list(y2)</span><br><span class="line"><span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<h3 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h3><p>&emsp;&emsp;<code>sorted</code>函数对所有可迭代的对象进行排序操作。<code>sort</code>与<code>sorted</code>区别：<code>sort</code>是应用在<code>list</code>上的方法，<code>sorted</code>可以对所有可迭代的对象进行排序操作。<code>list</code>的<code>sort</code>方法返回的是对已经存在的列表进行操作，而内建函数<code>sorted</code>方法返回的是一个新的<code>list</code>，而不是在原来的基础上进行的操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sorted(iterable[, cmp[, key[, reverse]]])</span><br></pre></td></tr></table></figure>
<ul>
<li><code>iterable</code>：可迭代对象。</li>
<li><code>cmp</code>：用于比较的函数，这个具有两个参数，参数的值都是从可迭代对象中取出。此函数必须遵守的规则为：大于则返回<code>1</code>，小于则返回<code>-1</code>，等于则返回<code>0</code>。</li>
<li><code>key</code>：主要是用来进行比较的元素，只有一个参数，具体的函数的参数就是取自于可迭代对象中，指定可迭代对象中的一个元素来进行排序。</li>
<li><code>reverse</code>：排序规则，为<code>True</code>表示降序，为<code>False</code>表示升序(默认)。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">5</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = sorted(a)  <span class="comment"># 保留原列表</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">5</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [(<span class="string">'b'</span>,<span class="number">2</span>),(<span class="string">'a'</span>,<span class="number">1</span>),(<span class="string">'c'</span>,<span class="number">3</span>),(<span class="string">'d'</span>,<span class="number">4</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(L, cmp=<span class="keyword">lambda</span> x,y:cmp(x[<span class="number">1</span>],y[<span class="number">1</span>]))  <span class="comment"># 利用cmp函数</span></span><br><span class="line">[(<span class="string">'a'</span>, <span class="number">1</span>), (<span class="string">'b'</span>, <span class="number">2</span>), (<span class="string">'c'</span>, <span class="number">3</span>), (<span class="string">'d'</span>, <span class="number">4</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(L, key=<span class="keyword">lambda</span> x:x[<span class="number">1</span>])  <span class="comment"># 利用key</span></span><br><span class="line">[(<span class="string">'a'</span>, <span class="number">1</span>), (<span class="string">'b'</span>, <span class="number">2</span>), (<span class="string">'c'</span>, <span class="number">3</span>), (<span class="string">'d'</span>, <span class="number">4</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>students = [(<span class="string">'john'</span>, <span class="string">'A'</span>, <span class="number">15</span>), (<span class="string">'jane'</span>, <span class="string">'B'</span>, <span class="number">12</span>), (<span class="string">'dave'</span>, <span class="string">'B'</span>, <span class="number">10</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(students, key=<span class="keyword">lambda</span> s: s[<span class="number">2</span>])  <span class="comment"># 按年龄排序</span></span><br><span class="line">[(<span class="string">'dave'</span>, <span class="string">'B'</span>, <span class="number">10</span>), (<span class="string">'jane'</span>, <span class="string">'B'</span>, <span class="number">12</span>), (<span class="string">'john'</span>, <span class="string">'A'</span>, <span class="number">15</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(students, key=<span class="keyword">lambda</span> s: s[<span class="number">2</span>], reverse=<span class="keyword">True</span>)  <span class="comment"># 按降序</span></span><br><span class="line">[(<span class="string">'john'</span>, <span class="string">'A'</span>, <span class="number">15</span>), (<span class="string">'jane'</span>, <span class="string">'B'</span>, <span class="number">12</span>), (<span class="string">'dave'</span>, <span class="string">'B'</span>, <span class="number">10</span>)]</span><br></pre></td></tr></table></figure>
<p>按年龄进行排序可以使用如下方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> operator <span class="keyword">import</span> itemgetter</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>students = [(<span class="string">'john'</span>, <span class="string">'A'</span>, <span class="number">15</span>), (<span class="string">'jane'</span>, <span class="string">'B'</span>, <span class="number">12</span>), (<span class="string">'dave'</span>, <span class="string">'B'</span>, <span class="number">10</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(students, key=itemgetter(<span class="number">2</span>))</span><br><span class="line">[(<span class="string">'dave'</span>, <span class="string">'B'</span>, <span class="number">10</span>), (<span class="string">'jane'</span>, <span class="string">'B'</span>, <span class="number">12</span>), (<span class="string">'john'</span>, <span class="string">'A'</span>, <span class="number">15</span>)]</span><br></pre></td></tr></table></figure>
<h3 id="round"><a href="#round" class="headerlink" title="round"></a>round</h3><p>&emsp;&emsp;<code>round</code>返回浮点数<code>x</code>的四舍五入值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">round(x[, n])</span><br></pre></td></tr></table></figure>
<p>参数<code>x</code>是一个浮点数，<code>n</code>是保留的小数位数(可选项，如果不写的话，默认保留到整数)。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"round(70.23456):"</span>, round(<span class="number">70.23456</span>))</span><br><span class="line">print(<span class="string">"round(56.659, 1):"</span>, round(<span class="number">56.659</span>, <span class="number">1</span>))</span><br><span class="line">print(<span class="string">"round(80.264, 2):"</span>, round(<span class="number">80.264</span>, <span class="number">2</span>))</span><br><span class="line">print(<span class="string">"round(100.000056, 3):"</span>, round(<span class="number">100.000056</span>, <span class="number">3</span>))</span><br><span class="line">print(<span class="string">"round(-100.000056, 3):"</span>, round(<span class="number">-100.000056</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">round(<span class="number">70.23456</span>): <span class="number">70</span></span><br><span class="line">round(<span class="number">56.659</span>, <span class="number">1</span>): <span class="number">56.7</span></span><br><span class="line">round(<span class="number">80.264</span>, <span class="number">2</span>): <span class="number">80.26</span></span><br><span class="line">round(<span class="number">100.000056</span>, <span class="number">3</span>): <span class="number">100.0</span></span><br><span class="line">round(<span class="number">-100.000056</span>, <span class="number">3</span>): <span class="number">-100.0</span></span><br></pre></td></tr></table></figure>
<p>在实际使用中发现，<code>round</code>函数并不总是如上所说的四舍五入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">round(2.355, 2)  # 执行结果是2.35</span><br></pre></td></tr></table></figure>
<p>而且在不用的<code>python</code>版本中，其结果也不一样。<br>&emsp;&emsp;在<code>python 2.7</code>的<code>doc</code>中，<code>round</code>的说明写着<code>Values are rounded to the closest multiple of 10 to the power minus ndigits; if two multiples are equally close, rounding is done away from 0.</code>，保留值将保留到离上一位更近的一端(四舍六入)，如果距离两端一样远，则保留到离<code>0</code>远的一边。所以<code>round(0.5)</code>会近似到<code>1</code>，而<code>round(-0.5)</code>会近似到<code>-1</code>。但是到了<code>python 3.5</code>的<code>doc</code>中，文档变成了<code>values are rounded to the closest multiple of 10 to the power minus ndigits; if two multiples are equally close, rounding is done toward the even choice.</code>，如果距离两边一样远，会保留到偶数的一边。比如<code>round(0.5)</code>和<code>round(-0.5)</code>都会保留到<code>0</code>，而<code>round(1.5)</code>会保留到<code>2</code>。所以如果有项目是从<code>py2</code>迁移到<code>py3</code>的，需要注意<code>round</code>函数。</p>
<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><p>&emsp;&emsp;<code>map</code>会根据提供的函数对指定序列做映射。参数<code>function</code>以参数序列<code>iterable</code>中的每一个元素调用<code>function</code>函数。返回包含每次<code>function</code>函数返回值的新列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map(function, iterable, ...)</span><br></pre></td></tr></table></figure>
<p>实例如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">square</span><span class="params">(x)</span>:</span>  <span class="comment"># 计算平方数</span></span><br><span class="line">    <span class="keyword">return</span> x ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line">result = map(square, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">print(list(result))  <span class="comment"># 执行结果是[1, 4, 9, 16, 25]</span></span><br><span class="line">result = map(<span class="keyword">lambda</span> x: x ** <span class="number">2</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">print(list(result))  <span class="comment"># 执行结果是[1, 4, 9, 16, 25]</span></span><br><span class="line">result = map(<span class="keyword">lambda</span> x, y: x + y, [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>], [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>])</span><br><span class="line">print(list(result))  <span class="comment"># 执行结果是[3, 7, 11, 15, 19]</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;<code>map</code>还可以用于转换列表中的元素类型：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>list_float = [<span class="number">1.3</span>, <span class="number">2.3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list_int = map(int, list_float)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(list(list_int))</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<h3 id="str"><a href="#str" class="headerlink" title="str"></a>str</h3><p>&emsp;&emsp;<code>str</code>将对象转化为<code>string</code>格式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">str</span><span class="params">(object=<span class="string">''</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>参数<code>object</code>是对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = <span class="string">'RUNOOB'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str(s)</span><br><span class="line"><span class="string">'RUNOOB'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict = &#123;<span class="string">'runoob'</span>: <span class="string">'runoob.com'</span>, <span class="string">'google'</span>: <span class="string">'google.com'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str(dict)</span><br><span class="line"><span class="string">"&#123;'runoob': 'runoob.com', 'google': 'google.com'&#125;"</span></span><br></pre></td></tr></table></figure>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p>&emsp;&emsp;<code>filter</code>函数用于过滤序列，过滤掉不符合条件的元素，返回由符合条件元素组成的新列表。参数<code>function</code>为函数，参数<code>iterable</code>为序列，序列的每个元素作为参数传递给函数进行判，然后返回<code>True</code>或<code>False</code>，最后将返回<code>True</code>的元素放到新列表中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filter(function, iterable)</span><br></pre></td></tr></table></figure>
<p>实例如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_odd</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> n % <span class="number">2</span> == <span class="number">1</span></span><br><span class="line"></span><br><span class="line">newlist = filter(is_odd, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>])</span><br><span class="line">print(list(newlist))  <span class="comment"># 输出“[1, 3, 5, 7, 9]”</span></span><br></pre></td></tr></table></figure>
<h3 id="bool"><a href="#bool" class="headerlink" title="bool"></a>bool</h3><p>&emsp;&emsp;<code>bool</code>函数用于将给定参数转换为布尔类型，如果没有参数，则返回<code>False</code>。<code>bool</code>是<code>int</code>的子类。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">bool</span><span class="params">([x])</span></span></span><br></pre></td></tr></table></figure>
<p>参数<code>x</code>是要进行转换的参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool()</span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>issubclass(bool, int)  <span class="comment"># bool是int的子类</span></span><br><span class="line"><span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<h3 id="super"><a href="#super" class="headerlink" title="super"></a>super</h3><p>&emsp;&emsp;<code>super</code>用于调用一个父类(超类)，并返回该父类实例。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">super(type[, object-<span class="keyword">or</span>-type])</span><br></pre></td></tr></table></figure>
<p>参数<code>type</code>是类，<code>object-or-type</code>一般是<code>self</code>，该方法没有返回值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooParent</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.parent = <span class="string">'I\'m the parent.'</span></span><br><span class="line">        print(<span class="string">'Parent'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">(self, message)</span>:</span></span><br><span class="line">        print(<span class="string">"%s from Parent"</span> % message)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooChild</span><span class="params">(FooParent)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># super(FooChild, self)首先找到FooChild的父类(就是类FooParent)，</span></span><br><span class="line">        <span class="comment"># 然后把类B的对象FooChild转换为类FooParent的对象</span></span><br><span class="line">        super(FooChild, self).__init__()</span><br><span class="line">        print(<span class="string">'Child'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">(self, message)</span>:</span></span><br><span class="line">        super(FooChild, self).bar(message)</span><br><span class="line">        print(<span class="string">'Child bar fuction'</span>)</span><br><span class="line">        print(self.parent)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    fooChild = FooChild()</span><br><span class="line">    fooChild.bar(<span class="string">'HelloWorld'</span>)</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Parent</span><br><span class="line">Child</span><br><span class="line">HelloWorld <span class="keyword">from</span> Parent</span><br><span class="line">Child bar fuction</span><br><span class="line">I<span class="string">'m the parent.</span></span><br></pre></td></tr></table></figure>
<h3 id="min"><a href="#min" class="headerlink" title="min"></a>min</h3><p>&emsp;&emsp;<code>min</code>返回给定参数的最小值，参数可以为序列，而<code>max</code>方法返回的是最大值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">min(x, y, z, ...)</span><br></pre></td></tr></table></figure>
<p>参数<code>x</code>、<code>y</code>和<code>z</code>都是数值表达式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"min(80, 100, 1000):"</span>, min(<span class="number">80</span>, <span class="number">100</span>, <span class="number">1000</span>))</span><br><span class="line">print(<span class="string">"min(-20, 100, 400):"</span>, min(<span class="number">-20</span>, <span class="number">100</span>, <span class="number">400</span>))</span><br><span class="line">print(<span class="string">"min(-80, -20, -10):"</span>, min(<span class="number">-80</span>, <span class="number">-20</span>, <span class="number">-10</span>))</span><br><span class="line">print(<span class="string">"min(0, 100, -400):"</span>, min(<span class="number">0</span>, <span class="number">100</span>, <span class="number">-400</span>))</span><br></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">min(<span class="number">80</span>, <span class="number">100</span>, <span class="number">1000</span>): <span class="number">80</span></span><br><span class="line">min(<span class="number">-20</span>, <span class="number">100</span>, <span class="number">400</span>): <span class="number">-20</span></span><br><span class="line">min(<span class="number">-80</span>, <span class="number">-20</span>, <span class="number">-10</span>): <span class="number">-80</span></span><br><span class="line">min(<span class="number">0</span>, <span class="number">100</span>, <span class="number">-400</span>): <span class="number">-400</span></span><br></pre></td></tr></table></figure>
<h3 id="sum"><a href="#sum" class="headerlink" title="sum"></a>sum</h3><p>&emsp;&emsp;<code>sum</code>对序列进行求和计算：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sum(iterable[, start])</span><br></pre></td></tr></table></figure>
<p>参数<code>iterable</code>是可迭代对象，例如列表；<code>start</code>是指定相加的参数，如果没有设置这个值，默认为<code>0</code>。该方法返回计算结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum((<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), <span class="number">1</span>)  <span class="comment"># 元组计算总和后再加1</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="number">2</span>)  <span class="comment"># 列表计算总和后再加2</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<h3 id="isinstance"><a href="#isinstance" class="headerlink" title="isinstance"></a>isinstance</h3><p>&emsp;&emsp;<code>isinstance</code>函数来判断一个对象是否是一个已知的类型，类似于<code>type</code>。<code>isinstance</code>与<code>type</code>的区别如下：</p>
<ul>
<li><code>type</code>不会认为子类是一种父类类型，不考虑继承关系。</li>
<li><code>isinstance</code>会认为子类是一种父类类型，考虑继承关系。</li>
</ul>
<p>如果要判断两个类型是否相同，推荐使用<code>isinstance</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">isinstance(object, classinfo)</span><br></pre></td></tr></table></figure>
<p>参数<code>object</code>是实例对象；<code>classinfo</code>可以是直接或间接类名、基本类型或者由它们组成的元组。如果对象的类型与参数<code>classinfo</code>相同，则返回<code>True</code>，否则返回<code>False</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance (a, int)</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance (a, str)</span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance (a, (str, int, list))  <span class="comment"># 是元组中的一个，返回True</span></span><br><span class="line"><span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<p><code>type</code>与<code>isinstance</code>的区别如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">isinstance(A(), A)  <span class="comment"># returns True</span></span><br><span class="line">type(A()) == A      <span class="comment"># returns True</span></span><br><span class="line">isinstance(B(), A)  <span class="comment"># returns True</span></span><br><span class="line">type(B()) == A      <span class="comment"># returns False</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;对于基本类型来说，<code>classinfo</code>可以是<code>int</code>、<code>float</code>、<code>bool</code>、<code>complex</code>、<code>str</code>、<code>list</code>、<code>dict</code>、<code>set</code>和<code>tuple</code>。</p>
<h3 id="dir"><a href="#dir" class="headerlink" title="dir"></a>dir</h3><p>&emsp;&emsp;<code>dir</code>不带参数时，返回当前范围内的变量、方法和定义的类型列表；带参数时，返回参数的属性、方法列表。如果参数包含方法<code>__dir__</code>，该方法将被调用；如果参数不包含<code>__dir__</code>，该方法将最大限度地收集参数信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dir([object])</span><br></pre></td></tr></table></figure>
<p>参数<code>object</code>是对象、变量或类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dir()  <span class="comment"># 获得当前模块的属性列表</span></span><br><span class="line">[<span class="string">'__builtins__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__name__'</span>, <span class="string">'__package__'</span>, <span class="string">'arr'</span>, <span class="string">'myslice'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dir([ ])  <span class="comment"># 查看列表的方法</span></span><br><span class="line">[<span class="string">'__add__'</span>, <span class="string">'__class__'</span>, <span class="string">'__contains__'</span>, <span class="string">'__delattr__'</span>, <span class="string">'__delitem__'</span>, <span class="string">'__delslice__'</span>,</span><br><span class="line"><span class="string">'__doc__'</span>, <span class="string">'__eq__'</span>, <span class="string">'__format__'</span>, <span class="string">'__ge__'</span>, <span class="string">'__getattribute__'</span>, <span class="string">'__getitem__'</span>, <span class="string">'__getslice__'</span>,</span><br><span class="line"><span class="string">'__gt__'</span>, <span class="string">'__hash__'</span>, <span class="string">'__iadd__'</span>, <span class="string">'__imul__'</span>, <span class="string">'__init__'</span>, <span class="string">'__iter__'</span>, <span class="string">'__le__'</span>, <span class="string">'__len__'</span>, <span class="string">'__lt__'</span>,</span><br><span class="line"><span class="string">'__mul__'</span>, <span class="string">'__ne__'</span>, <span class="string">'__new__'</span>, <span class="string">'__reduce__'</span>, <span class="string">'__reduce_ex__'</span>, <span class="string">'__repr__'</span>, <span class="string">'__reversed__'</span>,</span><br><span class="line"><span class="string">'__rmul__'</span>, <span class="string">'__setattr__'</span>, <span class="string">'__setitem__'</span>, <span class="string">'__setslice__'</span>, <span class="string">'__sizeof__'</span>, <span class="string">'__str__'</span>, <span class="string">'__subclasshook__'</span>,</span><br><span class="line"><span class="string">'append'</span>, <span class="string">'count'</span>, <span class="string">'extend'</span>, <span class="string">'index'</span>, <span class="string">'insert'</span>, <span class="string">'pop'</span>, <span class="string">'remove'</span>, <span class="string">'reverse'</span>, <span class="string">'sort'</span>]</span><br></pre></td></tr></table></figure>
<h3 id="set"><a href="#set" class="headerlink" title="set"></a>set</h3><p>&emsp;&emsp;<code>set</code>创建一个无序不重复元素集，可进行关系测试、删除重复数据，还可以计算交集、差集、并集等。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">set</span><span class="params">([iterable])</span></span></span><br></pre></td></tr></table></figure>
<p>参数<code>iterable</code>是可迭代对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = set(<span class="string">'runoob'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = set(<span class="string">'google'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x, y</span><br><span class="line">(set([<span class="string">'b'</span>, <span class="string">'r'</span>, <span class="string">'u'</span>, <span class="string">'o'</span>, <span class="string">'n'</span>]), set([<span class="string">'e'</span>, <span class="string">'o'</span>, <span class="string">'g'</span>, <span class="string">'l'</span>]))  <span class="comment"># 重复的元素被删除</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x &amp; y  <span class="comment"># 交集</span></span><br><span class="line">set([<span class="string">'o'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x | y  <span class="comment"># 并集</span></span><br><span class="line">set([<span class="string">'b'</span>, <span class="string">'e'</span>, <span class="string">'g'</span>, <span class="string">'l'</span>, <span class="string">'o'</span>, <span class="string">'n'</span>, <span class="string">'r'</span>, <span class="string">'u'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x - y  <span class="comment"># 差集</span></span><br><span class="line">set([<span class="string">'r'</span>, <span class="string">'b'</span>, <span class="string">'u'</span>, <span class="string">'n'</span>])</span><br></pre></td></tr></table></figure>
<h3 id="iter"><a href="#iter" class="headerlink" title="iter"></a>iter</h3><p>&emsp;&emsp;<code>iter</code>用来生成迭代器。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iter(object[, sentinel])</span><br></pre></td></tr></table></figure>
<p>参数<code>object</code>是支持迭代的集合对象；对于<code>sentinel</code>，如果传递了第二个参数，则参数<code>object</code>必须是一个可调用的对象(例如函数)，此时<code>iter</code>创建了一个迭代器对象，每次调用这个迭代器对象的<code>__next__</code>方法时，都会调用<code>object</code>。该函数返回迭代器对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> iter(lst):</span><br><span class="line"><span class="meta">... </span>    print(i)</span><br><span class="line">...</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
<h3 id="next"><a href="#next" class="headerlink" title="next"></a>next</h3><p>&emsp;&emsp;<code>next</code>返回迭代器的下一个项目。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">next(iterator[, default])</span><br></pre></td></tr></table></figure>
<p>参数<code>iterator</code>是可迭代对象；<code>default</code>是可选的，用于设置在没有下一个元素时返回的默认值，如果不设置，又没有下一个元素时则会触发<code>StopIteration</code>异常。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">it = iter([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])  <span class="comment"># 首先获得Iterator对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:  <span class="comment"># 循环：</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        x = next(it)  <span class="comment"># 获得下一个值</span></span><br><span class="line">        print(x)</span><br><span class="line">    <span class="keyword">except</span> StopIteration:  <span class="comment"># 遇到StopIteration就退出循环</span></span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<h3 id="eval"><a href="#eval" class="headerlink" title="eval"></a>eval</h3><p>&emsp;&emsp;<code>eval</code>函数用来执行一个字符串表达式，并返回表达式的值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eval(expression[, globals[, locals]])</span><br></pre></td></tr></table></figure>
<p>参数<code>expression</code>是表达式；<code>globals</code>是变量作用域，全局命名空间，如果被提供，则必须是一个字典对象；<code>locals</code>是变量作用域，局部命名空间，如果被提供，可以是任何映射对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = <span class="number">7</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>eval(<span class="string">'3 * x'</span>)</span><br><span class="line"><span class="number">21</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>eval(<span class="string">'pow(2,2)'</span>)</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>eval(<span class="string">'2 + 2'</span>)</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>n = <span class="number">81</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>eval(<span class="string">"n + 4"</span>)</span><br><span class="line"><span class="number">85</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;<code>eval</code>在做计算前并不知道需要转化的内容是不是合法的(安全的)<code>python</code>数据类型，只是在调用函数的时候去计算。如果被计算的内容不是合法的，<code>python</code>类型就会抛出异常。<br>&emsp;&emsp;<code>ast.literal</code>则会判断需要计算的内容计算后是不是合法的<code>python</code>类型，如果是则进行运算，否则就不进行运算。</p>
<h3 id="staticmethod"><a href="#staticmethod" class="headerlink" title="staticmethod"></a>staticmethod</h3><p>&emsp;&emsp;<code>staticmethod</code>返回函数的静态方法。该方法不强制要求传递参数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(arg1, arg2, ...)</span>:</span></span><br><span class="line">        ...</span><br></pre></td></tr></table></figure>
<p>以上实例声明了静态方法<code>f</code>，类可以不用实例化就可以调用该方法(如<code>C.f()</code>)，当然也可以实例化后调用(如<code>C().f()</code>)。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'runoob'</span>)</span><br><span class="line"></span><br><span class="line">C.f()  <span class="comment"># 静态方法无需实例化</span></span><br><span class="line">cobj = C()</span><br><span class="line">cobj.f()  <span class="comment"># 也可以实例化后调用</span></span><br></pre></td></tr></table></figure>
<h3 id="bytearray"><a href="#bytearray" class="headerlink" title="bytearray"></a>bytearray</h3><p>&emsp;&emsp;<code>bytearray</code>返回一个字节数组。这个数组里的元素是可变的，并且每个元素的值范围是<code>0 &lt;= x &lt; 256</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">bytearray</span><span class="params">([source[, encoding[, errors]]])</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>如果<code>source</code>为整数，则返回一个长度为<code>source</code>的初始化数组。</li>
<li>如果<code>source</code>为字符串，则按照指定的<code>encoding</code>将字符串转换为字节序列。</li>
<li>如果<code>source</code>为可迭代类型，则元素必须为<code>[0, 255]</code>中的整数。</li>
<li>如果没有输入任何参数，默认就是初始化数组为<code>0</code>个元素。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bytearray()</span><br><span class="line">bytearray(<span class="string">b''</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bytearray([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">bytearray(<span class="string">b'\x01\x02\x03'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bytearray(<span class="string">'runoob'</span>, <span class="string">'utf-8'</span>)</span><br><span class="line">bytearray(<span class="string">b'runoob'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="repr"><a href="#repr" class="headerlink" title="repr"></a>repr</h3><p>&emsp;&emsp;<code>repr</code>将对象转化为供解释器读取的形式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repr(object)</span><br></pre></td></tr></table></figure>
<p>该函数返回一个对象的<code>string</code>格式。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = <span class="string">'RUNOOB'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>repr(s)</span><br><span class="line"><span class="string">"'RUNOOB'"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict = &#123;<span class="string">'runoob'</span>: <span class="string">'runoob.com'</span>, <span class="string">'google'</span>: <span class="string">'google.com'</span>&#125;;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>repr(dict)</span><br><span class="line"><span class="string">"&#123;'google': 'google.com', 'runoob': 'runoob.com'&#125;"</span></span><br></pre></td></tr></table></figure>
<h3 id="enumerate"><a href="#enumerate" class="headerlink" title="enumerate"></a>enumerate</h3><p>&emsp;&emsp;<code>enumerate</code>用于将一个可遍历的数据对象(如列表、元组或字符串)组合为一个索引序列，同时列出数据和数据下标，一般用在<code>for</code>循环当中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enumerate(sequence, [start=<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p>参数<code>sequence</code>是一个序列、迭代器或其他支持迭代对象，<code>start</code>是下标起始位置，该函数返回<code>enumerate</code>对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>seasons = [<span class="string">'Spring'</span>, <span class="string">'Summer'</span>, <span class="string">'Fall'</span>, <span class="string">'Winter'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(enumerate(seasons))</span><br><span class="line">[(<span class="number">0</span>, <span class="string">'Spring'</span>), (<span class="number">1</span>, <span class="string">'Summer'</span>), (<span class="number">2</span>, <span class="string">'Fall'</span>), (<span class="number">3</span>, <span class="string">'Winter'</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(enumerate(seasons, start=<span class="number">1</span>))  <span class="comment"># 下标从“1”开始</span></span><br><span class="line">[(<span class="number">1</span>, <span class="string">'Spring'</span>), (<span class="number">2</span>, <span class="string">'Summer'</span>), (<span class="number">3</span>, <span class="string">'Fall'</span>), (<span class="number">4</span>, <span class="string">'Winter'</span>)]</span><br></pre></td></tr></table></figure>
<h3 id="locals"><a href="#locals" class="headerlink" title="locals"></a>locals</h3><p>&emsp;&emsp;<code>locals</code>函数会以字典类型返回当前位置的全部局部变量。对于函数、方法、<code>lambda</code>函式、类、以及实现了<code>__call__</code>方法的类实例，它都返回<code>True</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">runoob</span><span class="params">(arg)</span>:</span>  <span class="comment"># 两个局部变量，即arg和z</span></span><br><span class="line"><span class="meta">... </span>    z = <span class="number">1</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">print</span> (locals())</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>runoob(<span class="number">4</span>)</span><br><span class="line">&#123;<span class="string">'z'</span>: <span class="number">1</span>, <span class="string">'arg'</span>: <span class="number">4</span>&#125;  <span class="comment"># 返回一个名字/值对的字典</span></span><br></pre></td></tr></table></figure>
<h3 id="var"><a href="#var" class="headerlink" title="var"></a>var</h3><p>&emsp;&emsp;<code>vars</code>返回对象<code>object</code>的属性和属性值的字典对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vars([object])</span><br></pre></td></tr></table></figure>
<p>参数<code>object</code>是对象。如果没有参数，就打印当前调用位置的属性和属性值，类似于<code>locals</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(vars())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">'__builtins__'</span>: &lt;module <span class="string">'__builtin__'</span> (built-<span class="keyword">in</span>)&gt;,</span><br><span class="line">    <span class="string">'__name__'</span>: <span class="string">'__main__'</span>, <span class="string">'__doc__'</span>: <span class="keyword">None</span>, <span class="string">'__package__'</span>: <span class="keyword">None</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Runoob</span>:</span></span><br><span class="line"><span class="meta">... </span>    a = <span class="number">1</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(vars(Runoob))</span><br><span class="line">&#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'__module__'</span>: <span class="string">'__main__'</span>, <span class="string">'__doc__'</span>: <span class="keyword">None</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>runoob = Runoob()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(vars(runoob))</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="exec"><a href="#exec" class="headerlink" title="exec"></a>exec</h3><p>&emsp;&emsp;<code>exec</code>执行储存在字符串或文件中的<code>Python</code>语句，相比于<code>eval</code>，<code>exec</code>可以执行更复杂的<code>Python</code>代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exec(object[, globals[, locals]])</span><br></pre></td></tr></table></figure>
<ul>
<li><code>object</code>：必选参数，表示需要被指定的<code>Python</code>代码，它必须是字符串或<code>code</code>对象。如果<code>object</code>是一个字符串，该字符串会先被解析为一组<code>Python</code>语句，然后再执行(除非发生语法错误)。如果<code>object</code>是一个<code>code</code>对象，那么它只是被简单的执行。</li>
<li><code>globals</code>：可选参数，表示全局命名空间(存放全局变量)。如果被提供，则必须是一个字典对象。</li>
<li><code>locals</code>：可选参数，表示当前局部命名空间(存放局部变量)。如果被提供，可以是任何映射对象。如果该参数被忽略，那么它将会取与<code>globals</code>相同的值。</li>
</ul>
<p><code>exec</code>返回值永远为<code>None</code>。单行语句字符串如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>exec(<span class="string">'print("Hello World")'</span>)</span><br><span class="line">Hello World</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>exec(<span class="string">"print('runoob.com')"</span>)</span><br><span class="line">runoob.com</span><br></pre></td></tr></table></figure>
<p>多行语句字符串如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">expr = <span class="string">"""</span></span><br><span class="line"><span class="string">z = 30</span></span><br><span class="line"><span class="string">sum = x + y + z</span></span><br><span class="line"><span class="string">print(sum)</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    y = <span class="number">20</span></span><br><span class="line">    exec(expr)  <span class="comment"># 输出“60”</span></span><br><span class="line">    exec(expr, &#123;<span class="string">'x'</span>: <span class="number">1</span>, <span class="string">'y'</span>: <span class="number">2</span>&#125;)  <span class="comment"># 输出“33”</span></span><br><span class="line">    exec(expr, &#123;<span class="string">'x'</span>: <span class="number">1</span>, <span class="string">'y'</span>: <span class="number">2</span>&#125;, &#123;<span class="string">'y'</span>: <span class="number">3</span>, <span class="string">'z'</span>: <span class="number">4</span>&#125;)  <span class="comment"># 输出“34”</span></span><br><span class="line"></span><br><span class="line">func()</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/15/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><span class="space">&hellip;</span><a class="page-number" href="/page/94/">94</a><a class="extend next" rel="next" href="/page/17/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">付康为</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">939</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">付康为</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
