<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="&amp;emsp;&amp;emsp;The QPrinter class is a paint device that paints on a printer.     Header Inherits     QPrinter QPaintDevice     Note: All functions in this class are reentrant. Public Functions    Return">
<meta property="og:type" content="article">
<meta property="og:title" content="Qt之QPrinter">
<meta property="og:url" content="http://fukangwei.gitee.io/2019/02/18/Qt语法详解/Qt之QPrinter/index.html">
<meta property="og:site_name" content="暴徒">
<meta property="og:description" content="&amp;emsp;&amp;emsp;The QPrinter class is a paint device that paints on a printer.     Header Inherits     QPrinter QPaintDevice     Note: All functions in this class are reentrant. Public Functions    Return">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-02-18T06:22:02.996Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Qt之QPrinter">
<meta name="twitter:description" content="&amp;emsp;&amp;emsp;The QPrinter class is a paint device that paints on a printer.     Header Inherits     QPrinter QPaintDevice     Note: All functions in this class are reentrant. Public Functions    Return">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '561O3H1PZB',
      apiKey: '7631d3cf19ac49bd39ada7163ec937a7',
      indexName: 'fuxinzi',
      hits: "",
      labels: ""
    }
  };
</script>



  <link rel="canonical" href="http://fukangwei.gitee.io/2019/02/18/Qt语法详解/Qt之QPrinter/">





  <title>Qt之QPrinter | 暴徒</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">暴徒</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/18/Qt语法详解/Qt之QPrinter/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="暴徒">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Qt之QPrinter</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-18T11:15:19+08:00">
                2019-02-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>&emsp;&emsp;The <code>QPrinter</code> class is a paint device that paints on a printer.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Header</th>
<th>Inherits</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter</code></td>
<td><code>QPaintDevice</code></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Note</strong>: All functions in this class are reentrant.</p>
<h3 id="Public-Functions"><a href="#Public-Functions" class="headerlink" title="Public Functions"></a>Public Functions</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Return</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code>QPrinter(PrinterMode mode = ScreenResolution)</code></td>
</tr>
<tr>
<td></td>
<td><code>QPrinter(const QPrinterInfo &amp; printer, PrinterMode mode = ScreenResolution)</code></td>
</tr>
<tr>
<td></td>
<td><code>~QPrinter()</code></td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>abort()</code></td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>collateCopies() const</code></td>
</tr>
<tr>
<td><code>ColorMode</code></td>
<td><code>colorMode() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>copyCount() const</code></td>
</tr>
<tr>
<td><code>QString</code></td>
<td><code>creator() const</code></td>
</tr>
<tr>
<td><code>QString</code></td>
<td><code>docName() const</code></td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>doubleSidedPrinting() const</code></td>
</tr>
<tr>
<td><code>DuplexMode</code></td>
<td><code>duplex() const</code></td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>fontEmbeddingEnabled() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>fromPage() const</code></td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>fullPage() const</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>getPageMargins(qreal * left, qreal * top, qreal * right, qreal * bottom, Unit unit) const</code></td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>isValid() const</code></td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>newPage()</code></td>
</tr>
<tr>
<td><code>Orientation</code></td>
<td><code>orientation() const</code></td>
</tr>
<tr>
<td><code>QString</code></td>
<td><code>outputFileName() const</code></td>
</tr>
<tr>
<td><code>OutputFormat</code></td>
<td><code>outputFormat() const</code></td>
</tr>
<tr>
<td><code>PageOrder</code></td>
<td><code>pageOrder() const</code></td>
</tr>
<tr>
<td><code>QRect</code></td>
<td><code>pageRect() const</code></td>
</tr>
<tr>
<td><code>QRectF</code></td>
<td><code>pageRect(Unit unit) const</code></td>
</tr>
<tr>
<td><code>QRect</code></td>
<td><code>paperRect() const</code></td>
</tr>
<tr>
<td><code>QRectF</code></td>
<td><code>paperRect(Unit unit) const</code></td>
</tr>
<tr>
<td><code>PaperSize</code></td>
<td><code>paperSize() const</code></td>
</tr>
<tr>
<td><code>QSizeF</code></td>
<td><code>paperSize(Unit unit) const</code></td>
</tr>
<tr>
<td><code>PaperSource</code></td>
<td><code>paperSource() const</code></td>
</tr>
<tr>
<td><code>QPrintEngine *</code></td>
<td><code>printEngine() const</code></td>
</tr>
<tr>
<td><code>QString</code></td>
<td><code>printProgram() const</code></td>
</tr>
<tr>
<td><code>PrintRange</code></td>
<td><code>printRange() const</code></td>
</tr>
<tr>
<td><code>QString</code></td>
<td><code>printerName() const</code></td>
</tr>
<tr>
<td><code>QString</code></td>
<td><code>printerSelectionOption() const</code></td>
</tr>
<tr>
<td><code>PrinterState</code></td>
<td><code>printerState() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>resolution() const</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setCollateCopies(bool collate)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setColorMode(ColorMode newColorMode)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setCopyCount(int count)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setCreator(const QString &amp; creator)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setDocName(const QString &amp; name)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setDoubleSidedPrinting(bool doubleSided)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setDuplex(DuplexMode duplex)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setFontEmbeddingEnabled(bool enable)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setFromTo(int from, int to)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setFullPage(bool fp)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setOrientation(Orientation orientation)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setOutputFileName(const QString &amp; fileName)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setOutputFormat(OutputFormat format)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setPageMargins(qreal left, qreal top, qreal right, qreal bottom, Unit unit)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setPageOrder(PageOrder pageOrder)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setPaperSize(PaperSize newPaperSize)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setPaperSize(const QSizeF &amp; paperSize, Unit unit)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setPaperSource(PaperSource source)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setPrintProgram(const QString &amp; printProg)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setPrintRange(PrintRange range)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setPrinterName(const QString &amp; name)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setPrinterSelectionOption(const QString &amp; option)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setResolution(int dpi)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setWinPageSize(int pageSize)</code></td>
</tr>
<tr>
<td><code>QList&lt;PaperSource&gt;</code></td>
<td><code>supportedPaperSources() const</code></td>
</tr>
<tr>
<td><code>QList&lt;int&gt;</code></td>
<td><code>supportedResolutions() const</code></td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>supportsMultipleCopies() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>toPage() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>winPageSize() const</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="Reimplemented-Public-Functions"><a href="#Reimplemented-Public-Functions" class="headerlink" title="Reimplemented Public Functions"></a>Reimplemented Public Functions</h3><ul>
<li><code>virtual QPaintEngine * paintEngine() const;</code></li>
</ul>
<h3 id="Protected-Functions"><a href="#Protected-Functions" class="headerlink" title="Protected Functions"></a>Protected Functions</h3><ul>
<li><code>void setEngines(QPrintEngine * printEngine, QPaintEngine * paintEngine);</code></li>
</ul>
<h3 id="Detailed-Description"><a href="#Detailed-Description" class="headerlink" title="Detailed Description"></a>Detailed Description</h3><p>&emsp;&emsp;The <code>QPrinter</code> class is a paint device that paints on a printer.<br>&emsp;&emsp;This device represents a series of pages of printed output, and is used in almost exactly the same way as other paint devices such as <code>QWidget</code> and <code>QPixmap</code>. A set of additional functions are provided to manage <code>device-specific</code> features, such as orientation and resolution, and to step through the pages in a document as it is generated.<br>&emsp;&emsp;When printing directly to a printer on <code>Windows</code> or <code>Mac OS X</code>, <code>QPrinter</code> uses the <code>built-in</code> printer drivers. On <code>X11</code>, <code>QPrinter</code> uses the <code>Common Unix Printing System</code> (<code>CUPS</code>) or the standard <code>Unix</code> lpr utility to send <code>PostScript</code> or <code>PDF</code> output to the printer. As an alternative, the <code>printProgram()</code> function can be used to specify the command or utility to use instead of the system default.<br>&emsp;&emsp;Note that setting parameters like paper size and resolution on an invalid printer is undefined. You can use <code>QPrinter::isValid()</code> to verify this before changing any parameters.<br>&emsp;&emsp;<code>QPrinter</code> supports a number of parameters, most of which can be changed by the end user through a print dialog. In general, <code>QPrinter</code> passes these functions onto the underlying <code>QPrintEngine</code>.<br>&emsp;&emsp;The most important parameters are:</p>
<ul>
<li><code>setOrientation()</code> tells <code>QPrinter</code> which page orientation to use.</li>
<li><code>setPaperSize()</code> tells <code>QPrinter</code> what paper size to expect from the printer.</li>
<li><code>setResolution()</code> tells <code>QPrinter</code> what resolution you wish the printer to provide, in dots per inch (<code>DPI</code>).</li>
<li><code>setFullPage()</code> tells <code>QPrinter</code> whether you want to deal with the full page or just with the part the printer can draw on.</li>
<li><code>setCopyCount()</code> tells <code>QPrinter</code> how many copies of the document it should print.</li>
</ul>
<p>&emsp;&emsp;Many of these functions can only be called before the actual printing begins (i.e., before <code>QPainter::begin()</code> is called). This usually makes sense because, for example, it’s not possible to change the number of copies when you are halfway through printing. There are also some settings that the user sets (through the printer dialog) and that applications are expected to obey.<br>&emsp;&emsp;When <code>QPainter::begin()</code> is called, the <code>QPrinter</code> it operates on is prepared for a new page, enabling the <code>QPainter</code> to be used immediately to paint the first page in a document. Once the first page has been painted, <code>newPage()</code> can be called to request a new blank page to paint on, or <code>QPainter::end()</code> can be called to finish printing. The second page and all following pages are prepared using a call to <code>newPage()</code> before they are painted.<br>&emsp;&emsp;The first page in a document does not need to be preceded by a call to <code>newPage()</code>. You only need to calling <code>newPage()</code> after <code>QPainter::begin()</code> if you need to insert a blank page at the beginning of a printed document. Similarly, calling <code>newPage()</code> after the last page in a document is painted will result in a trailing blank page appended to the end of the printed document.<br>&emsp;&emsp;If you want to abort the print job, <code>abort()</code> will try its best to stop printing. It may cancel the entire job or just part of it.<br>&emsp;&emsp;Since <code>QPrinter</code> can print to any <code>QPrintEngine</code> subclass, it is possible to extend printing support to cover new types of printing subsystem by subclassing <code>QPrintEngine</code> and reimplementing its interface.</p>
<h3 id="Member-Type-Documentation"><a href="#Member-Type-Documentation" class="headerlink" title="Member Type Documentation"></a>Member Type Documentation</h3><ul>
<li>enum <code>QPrinter::ColorMode</code>: This enum type is used to indicate whether <code>QPrinter</code> should print in color or not.</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter::Color</code></td>
<td><code>1</code></td>
<td>print in color if available, otherwise in grayscale.</td>
</tr>
<tr>
<td><code>QPrinter::GrayScale</code></td>
<td><code>0</code></td>
<td>print in grayscale, even on color printers.</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>enum <code>QPrinter::DuplexMode</code>: This enum is used to indicate whether printing will occur on one or both sides of each sheet of paper (simplex or duplex printing).</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter::DuplexNone</code></td>
<td><code>0</code></td>
<td>Single sided (simplex) printing only.</td>
</tr>
<tr>
<td><code>QPrinter::DuplexAuto</code></td>
<td><code>1</code></td>
<td>The printer’s default setting is used to determine whether duplex printing is used.</td>
</tr>
<tr>
<td><code>QPrinter::DuplexLongSide</code></td>
<td><code>2</code></td>
<td>Both sides of each sheet of paper are used for printing. The paper is turned over its longest edge before the second side is printed</td>
</tr>
<tr>
<td><code>QPrinter::DuplexShortSide</code></td>
<td><code>3</code></td>
<td>Both sides of each sheet of paper are used for printing. The paper is turned over its shortest edge before the second side is printed</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>enum <code>QPrinter::Orientation</code>: This enum type (not to be confused with <code>Orientation</code>) is used to specify each page’s orientation.</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter::Portrait</code></td>
<td><code>0</code></td>
<td>the page’s height is greater than its width.</td>
</tr>
<tr>
<td><code>QPrinter::Landscape</code></td>
<td><code>1</code></td>
<td>the page’s width is greater than its height.</td>
</tr>
</tbody>
</table>
</div>
<p>This type interacts with <code>QPrinter::PaperSize</code> and <code>QPrinter::setFullPage()</code> to determine the final size of the page available to the application.</p>
<ul>
<li>enum <code>QPrinter::OutputFormat</code>: The <code>OutputFormat</code> enum is used to describe the format <code>QPrinter</code> should use for printing.</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter::NativeFormat</code></td>
<td><code>0</code></td>
<td><code>QPrinter</code> will print output using a method defined by the platform it is running on. This mode is the default when printing directly to a printer.</td>
</tr>
<tr>
<td><code>QPrinter::PdfFormat</code></td>
<td><code>1</code></td>
<td><code>QPrinter</code> will generate its output as a searchable <code>PDF</code> file. This mode is the default when printing to a file.</td>
</tr>
<tr>
<td><code>QPrinter::PostScriptFormat</code></td>
<td><code>2</code></td>
<td><code>QPrinter</code> will generate its output as in the <code>PostScript</code> format.</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>enum <code>QPrinter::PageOrder</code>: This enum type is used by <code>QPrinter</code> to tell the application program how to print.</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter::FirstPageFirst</code></td>
<td><code>0</code></td>
<td>the <code>lowest-numbered</code> page should be printed first.</td>
</tr>
<tr>
<td><code>QPrinter::LastPageFirst</code></td>
<td><code>1</code></td>
<td>the <code>highest-numbered</code> page should be printed first.</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>enum <code>QPrinter::PaperSize</code>: This enum type specifies what paper size <code>QPrinter</code> should use. <code>QPrinter</code> does not check that the paper size is available; it just uses this information, together with <code>QPrinter::Orientation</code> and <code>QPrinter::setFullPage()</code>, to determine the printable area.</li>
</ul>
<p>&emsp;&emsp;The defined sizes (with <code>setFullPage(true)</code>) are:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter::A0</code></td>
<td><code>5</code></td>
<td><code>841 x 1189</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::A1</code></td>
<td><code>6</code></td>
<td><code>594 x 841</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::A2</code></td>
<td><code>7</code></td>
<td><code>420 x 594</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::A3</code></td>
<td><code>8</code></td>
<td><code>297 x 420</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::A4</code></td>
<td><code>0</code></td>
<td><code>210 x 297</code> mm, <code>8.26 x 11.69</code> inches</td>
</tr>
<tr>
<td><code>QPrinter::A5</code></td>
<td><code>9</code></td>
<td><code>148 x 210</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::A6</code></td>
<td><code>10</code></td>
<td><code>105 x 148</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::A7</code></td>
<td><code>11</code></td>
<td><code>74 x 105</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::A8</code></td>
<td><code>12</code></td>
<td><code>52 x 74</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::A9</code></td>
<td><code>13</code></td>
<td><code>37 x 52</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::B0</code></td>
<td><code>14</code></td>
<td><code>1000 x 1414</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::B1</code></td>
<td><code>15</code></td>
<td><code>707 x 1000</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::B2</code></td>
<td><code>17</code></td>
<td><code>500 x 707</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::B3</code></td>
<td><code>18</code></td>
<td><code>353 x 500</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::B4</code></td>
<td><code>19</code></td>
<td><code>250 x 353</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::B5</code></td>
<td><code>1</code></td>
<td><code>176 x 250</code> mm, <code>6.93 x 9.84</code> inches</td>
</tr>
<tr>
<td><code>QPrinter::B6</code></td>
<td><code>20</code></td>
<td><code>125 x 176</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::B7</code></td>
<td><code>21</code></td>
<td><code>88 x 125</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::B8</code></td>
<td><code>22</code></td>
<td><code>62 x 88</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::B9</code></td>
<td><code>23</code></td>
<td><code>33 x 62</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::B10</code></td>
<td><code>16</code></td>
<td><code>31 x 44</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::C5E</code></td>
<td><code>24</code></td>
<td><code>163 x 229</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::Comm10E</code></td>
<td><code>25</code></td>
<td><code>105 x 241</code> mm, U.S. Common <code>10</code> Envelope</td>
</tr>
<tr>
<td><code>QPrinter::DLE</code></td>
<td><code>26</code></td>
<td><code>110 x 220</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::Executive</code></td>
<td><code>4</code></td>
<td><code>7.5 x 10</code> inches, <code>190.5 x 254</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::Folio</code></td>
<td><code>27</code></td>
<td><code>210 x 330</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::Ledger</code></td>
<td><code>28</code></td>
<td><code>431.8 x 279.4</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::Legal</code></td>
<td><code>3</code></td>
<td><code>8.5 x 14</code> inches, <code>215.9 x 355.6</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::Letter</code></td>
<td><code>2</code></td>
<td><code>8.5 x 11</code> inches, <code>215.9 x 279.4</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::Tabloid</code></td>
<td><code>29</code></td>
<td><code>279.4 x 431.8</code> mm</td>
</tr>
<tr>
<td><code>QPrinter::Custom</code></td>
<td><code>30</code></td>
<td>Unknown, or a user defined size.</td>
</tr>
</tbody>
</table>
</div>
<p>With <code>setFullPage(false)</code> (the default), the metrics will be a bit smaller; how much depends on the printer in use.</p>
<ul>
<li>enum <code>QPrinter::PaperSource</code>: This enum type specifies what paper source <code>QPrinter</code> is to use. <code>QPrinter</code> does not check that the paper source is available; it just uses this information to try and set the paper source. Whether it will set the paper source depends on whether the printer has that particular source. <strong>Warning</strong>: This is currently only implemented for <code>Windows</code>.</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter::Auto</code></td>
<td><code>6</code></td>
</tr>
<tr>
<td><code>QPrinter::Cassette</code></td>
<td><code>11</code></td>
</tr>
<tr>
<td><code>QPrinter::Envelope</code></td>
<td><code>4</code></td>
</tr>
<tr>
<td><code>QPrinter::EnvelopeManual</code></td>
<td><code>5</code></td>
</tr>
<tr>
<td><code>QPrinter::FormSource</code></td>
<td><code>12</code></td>
</tr>
<tr>
<td><code>QPrinter::LargeCapacity</code></td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>QPrinter::LargeFormat</code></td>
<td><code>9</code></td>
</tr>
<tr>
<td><code>QPrinter::Lower</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>QPrinter::MaxPageSource</code></td>
<td><code>13</code></td>
</tr>
<tr>
<td><code>QPrinter::Middle</code></td>
<td><code>2</code></td>
</tr>
<tr>
<td><code>QPrinter::Manual</code></td>
<td><code>3</code></td>
</tr>
<tr>
<td><code>QPrinter::OnlyOne</code></td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>QPrinter::Tractor</code></td>
<td><code>7</code></td>
</tr>
<tr>
<td><code>QPrinter::SmallFormat</code></td>
<td><code>8</code></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>enum <code>QPrinter::PrintRange</code>: Used to specify the print range selection option.</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter::AllPages</code></td>
<td><code>0</code></td>
<td>All pages should be printed.</td>
</tr>
<tr>
<td><code>QPrinter::Selection</code></td>
<td><code>1</code></td>
<td>Only the selection should be printed.</td>
</tr>
<tr>
<td><code>QPrinter::PageRange</code></td>
<td><code>2</code></td>
<td>The specified page range should be printed.</td>
</tr>
<tr>
<td><code>QPrinter::CurrentPage</code></td>
<td><code>3</code></td>
<td>Only the current page should be printed.</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>enum <code>QPrinter::PrinterMode</code>: This enum describes the mode the printer should work in. It basically presets a certain resolution and working mode.</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter::ScreenResolution</code></td>
<td><code>0</code></td>
<td>Sets the resolution of the print device to the screen resolution. This has the big advantage that the results obtained when painting on the printer will match more or less exactly the visible output on the screen. It is the easiest to use, as font metrics on the screen and on the printer are the same. This is the default value. <code>ScreenResolution</code> will produce a lower quality output than <code>HighResolution</code> and should only be used for drafts.</td>
</tr>
<tr>
<td><code>QPrinter::PrinterResolution</code></td>
<td><code>1</code></td>
<td>This value is deprecated. Is is equivalent to <code>ScreenResolution</code> on <code>Unix</code> and <code>HighResolution</code> on <code>Windows</code> and <code>Mac</code>. Due do the difference between <code>ScreenResolution</code> and <code>HighResolution</code>, use of this value may lead to <code>non-portable</code> printer code.</td>
</tr>
<tr>
<td><code>QPrinter::HighResolution</code></td>
<td><code>2</code></td>
<td>On <code>Windows</code>, sets the printer resolution to that defined for the printer in use. For <code>PostScript</code> printing, sets the resolution of the <code>PostScript</code> driver to <code>1200</code> dpi.</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Note</strong>: When rendering text on a <code>QPrinter</code> device, it is important to realize that the size of text, when specified in points, is independent of the resolution specified for the device itself. Therefore, it may be useful to specify the font size in pixels when combining text with graphics to ensure that their relative sizes are what you expect.</p>
<ul>
<li>enum <code>QPrinter::PrinterState</code>:</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter::Idle</code></td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>QPrinter::Active</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>QPrinter::Aborted</code></td>
<td><code>2</code></td>
</tr>
<tr>
<td><code>QPrinter::Error</code></td>
<td><code>3</code></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>enum <code>QPrinter::Unit</code>: This enum type is used to specify the measurement unit for page and paper sizes.</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QPrinter::Millimeter</code></td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>QPrinter::Point</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>QPrinter::Inch</code></td>
<td><code>2</code></td>
</tr>
<tr>
<td><code>QPrinter::Pica</code></td>
<td><code>3</code></td>
</tr>
<tr>
<td><code>QPrinter::Didot</code></td>
<td><code>4</code></td>
</tr>
<tr>
<td><code>QPrinter::Cicero</code></td>
<td><code>5</code></td>
</tr>
<tr>
<td><code>QPrinter::DevicePixel</code></td>
<td><code>6</code></td>
</tr>
</tbody>
</table>
</div>
<p>Note the difference between <code>Point</code> and <code>DevicePixel</code>. The <code>Point</code> unit is defined to be <code>1/72th</code> of an inch, while the <code>DevicePixel</code> unit is resolution dependant and is based on the actual pixels, or dots, on the printer.</p>
<h3 id="Member-Function-Documentation"><a href="#Member-Function-Documentation" class="headerlink" title="Member Function Documentation"></a>Member Function Documentation</h3><ul>
<li><code>QPrinter::QPrinter(PrinterMode mode = ScreenResolution)</code>: Creates a new printer object with the given <code>mode</code>.</li>
<li><code>QPrinter::QPrinter(const QPrinterInfo &amp; printer, PrinterMode mode = ScreenResolution)</code>: Creates a new printer object with the given <code>printer</code> and <code>mode</code>.</li>
<li><code>QPrinter::~QPrinter()</code>: Destroys the printer object and frees any allocated resources. If the printer is destroyed while a print job is in progress this may or may not affect the print job.</li>
<li><code>bool QPrinter::abort()</code>: Aborts the current print run. Returns <code>true</code> if the print run was successfully aborted and <code>printerState()</code> will return <code>QPrinter::Aborted</code>; otherwise returns <code>false</code>. It is not always possible to abort a print job. For example, all the data has gone to the printer but the printer cannot or will not cancel the job when asked to.</li>
<li><code>bool QPrinter::collateCopies() const</code>: Returns <code>true</code> if collation is turned on when multiple copies is selected. Returns <code>false</code> if it is turned off when multiple copies is selected. When collating is turned off the printing of each individual page will be repeated the <code>numCopies()</code> amount before the next page is started. With collating turned on all pages are printed before the next copy of those pages is started.</li>
<li><code>ColorMode QPrinter::colorMode() const</code>: Returns the current color mode.</li>
<li>int <code>QPrinter::copyCount() const</code>: Returns the number of copies that will be printed. The default value is <code>1</code>.</li>
<li><code>QString QPrinter::creator() const</code>: Returns the name of the application that created the document.</li>
<li><code>QString QPrinter::docName() const</code>: Returns the document name.</li>
<li><code>bool QPrinter::doubleSidedPrinting() const</code>: Returns <code>true</code> if double side printing is enabled. Currently this option is only supported on <code>X11</code>.</li>
<li><code>DuplexMode QPrinter::duplex() const</code>: Returns the current duplex mode. Currently this option is only supported on <code>X11</code>.</li>
<li><code>bool QPrinter::fontEmbeddingEnabled() const</code>: Returns <code>true</code> if font embedding is enabled. Currently this option is only supported on <code>X11</code>.</li>
<li><code>int QPrinter::fromPage() const</code>: Returns the number of the first page in a range of pages to be printed (the <code>from page</code> setting). Pages in a document are numbered according to the convention that the first page is page <code>1</code>. By default, this function returns a special value of <code>0</code>, meaning that the <code>from page</code> setting is unset. <strong>Note</strong>: If <code>fromPage()</code> and <code>toPage()</code> both return <code>0</code>, this indicates that the whole document will be printed.</li>
<li><code>bool QPrinter::fullPage() const</code>: Returns <code>true</code> if the origin of the printer’s coordinate system is at the corner of the page and <code>false</code> if it is at the edge of the printable area.</li>
<li><code>void QPrinter::getPageMargins(qreal * left, qreal * top, qreal * right, qreal * bottom, Unit unit) const</code>: Returns the page margins for this printer in <code>left</code>, <code>top</code>, <code>right</code>, <code>bottom</code>. The <code>unit</code> of the returned margins are specified with the <code>unit</code> parameter.</li>
<li><code>bool QPrinter::isValid() const</code>: Returns <code>true</code> if the printer currently selected is a valid printer in the system, or a pure <code>PDF/PostScript</code> printer; otherwise returns <code>false</code>. To detect other failures check the output of <code>QPainter::begin()</code> or <code>QPrinter::newPage()</code>.</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">QPrinter printer;</span><br><span class="line">printer.setOutputFormat ( QPrinter::PdfFormat );</span><br><span class="line">printer.setOutputFileName ( <span class="string">"/foobar/nonwritable.pdf"</span> );</span><br><span class="line">QPainter painter;</span><br><span class="line">​</span><br><span class="line"><span class="keyword">if</span> ( ! painter.begin ( &amp;printer ) ) &#123; <span class="comment">/* failed to open file */</span></span><br><span class="line">    qWarning ( <span class="string">"failed to open file, is it writable?"</span> );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">painter.drawText ( <span class="number">10</span>, <span class="number">10</span>, <span class="string">"Test"</span> );</span><br><span class="line">​</span><br><span class="line"><span class="keyword">if</span> ( ! printer.newPage() ) &#123;</span><br><span class="line">    qWarning ( <span class="string">"failed in flushing page to disk, disk full?"</span> );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">painter.drawText ( <span class="number">10</span>, <span class="number">10</span>, <span class="string">"Test 2"</span> );</span><br><span class="line">painter.end();</span><br></pre></td></tr></table></figure>
<ul>
<li><code>bool QPrinter::newPage()</code>: Tells the printer to eject the current page and to continue printing on a new page. Returns <code>true</code> if this was successful; otherwise returns <code>false</code>. Calling <code>newPage()</code> on an inactive <code>QPrinter</code> object will always fail.</li>
<li><code>Orientation QPrinter::orientation() const</code>: Returns the orientation setting. This is <code>driver-dependent</code>, but is usually <code>QPrinter::Portrait</code>.</li>
<li><code>QString QPrinter::outputFileName() const</code>: Returns the name of the output file. By default, this is an empty string (indicating that the printer shouldn’t print to file).</li>
<li><code>OutputFormat QPrinter::outputFormat() const</code>: Returns the output format for this printer.</li>
<li><code>PageOrder QPrinter::pageOrder() const</code>: Returns the current page order. The default page order is <code>FirstPageFirst</code>.</li>
<li><code>QRect QPrinter::pageRect() const</code>: Returns the page’s rectangle; this is usually smaller than the <code>paperRect()</code> since the page normally has margins between its borders and the paper. The unit of the returned rectangle is <code>DevicePixel</code>.</li>
<li><code>QRectF QPrinter::pageRect(Unit unit) const</code>: Returns the page’s rectangle in <code>unit</code>; this is usually smaller than the <code>paperRect()</code> since the page normally has margins between its borders and the paper.</li>
<li><code>QPaintEngine * QPrinter::paintEngine() const [virtual]</code>: Reimplemented from <code>QPaintDevice::paintEngine()</code>. Returns the paint engine used by the printer.</li>
<li><code>QRect QPrinter::paperRect() const</code>: Returns the paper’s rectangle; this is usually larger than the <code>pageRect()</code>. The unit of the returned rectangle is <code>DevicePixel</code>.</li>
<li><code>QRectF QPrinter::paperRect(Unit unit) const</code>: Returns the paper’s rectangle in <code>unit</code>; this is usually larger than the <code>pageRect()</code>.</li>
<li><code>PaperSize QPrinter::paperSize() const</code>: Returns the printer paper size. The default value is <code>driver-dependent</code>.</li>
<li><code>QSizeF QPrinter::paperSize(Unit unit) const</code>: Returns the paper size in <code>unit</code>.</li>
<li><code>PaperSource QPrinter::paperSource() const</code>: Returns the printer’s paper source. This is <code>Manual</code> or a printer tray or paper cassette.</li>
<li><code>QPrintEngine * QPrinter::printEngine() const</code>: Returns the print engine used by the printer.</li>
<li><code>QString QPrinter::printProgram() const</code>: Returns the name of the program that sends the print output to the printer. The default is to return an empty string; meaning that <code>QPrinter</code> will try to be smart in a <code>system-dependent</code> way. On <code>X11</code> only, you can set it to something different to use a specific print program. On the other platforms, this returns an empty string.</li>
<li><code>PrintRange QPrinter::printRange() const</code>: Returns the page range of the <code>QPrinter</code>. After the print setup dialog has been opened, this function returns the value selected by the user.</li>
<li><code>QString QPrinter::printerName() const</code>: Returns the printer name. This value is initially set to the name of the default printer.</li>
<li><code>QString QPrinter::printerSelectionOption() const</code>: Returns the printer options selection string. This is useful only if the print command has been explicitly set. The default value (an empty string) implies that the printer should be selected in a <code>system-dependent</code> manner. Any other value implies that the given value should be used. <strong>Warning</strong>: This function is not available on <code>Windows</code>.</li>
<li><code>PrinterState QPrinter::printerState() const</code>: Returns the current state of the printer. This may not always be accurate (for example if the printer doesn’t have the capability of reporting its state to the operating system).</li>
<li><code>int QPrinter::resolution() const</code>: Returns the current assumed resolution of the printer, as set by <code>setResolution()</code> or by the printer driver.</li>
<li><code>void QPrinter::setCollateCopies(bool collate)</code>: Sets the default value for collation checkbox when the print dialog appears. If <code>collate</code> is <code>true</code>, it will enable <code>setCollateCopiesEnabled()</code>. The default value is <code>false</code>. This value will be changed by what the user presses in the print dialog.</li>
<li><code>void QPrinter::setColorMode(ColorMode newColorMode)</code>: Sets the printer’s color mode to <code>newColorMode</code>, which can be either <code>Color</code> or <code>GrayScale</code>.</li>
<li><code>void QPrinter::setCopyCount(int count)</code>: Sets the number of copies to be printed to <code>count</code>. The printer driver reads this setting and prints the specified number of copies.</li>
<li><code>void QPrinter::setCreator(const QString &amp; creator)</code>: Sets the name of the application that created the document to <code>creator</code>. This function is only applicable to the <code>X11</code> version of <code>Qt</code>. If no <code>creator</code> name is specified, the <code>creator</code> will be set to <code>Qt</code> followed by some version number.</li>
<li><code>void QPrinter::setDocName(const QString &amp; name)</code>: Sets the document name to <code>name</code>. On <code>X11</code>, the document name is for example used as the default output filename in <code>QPrintDialog</code>. Note that the document name does not affect the file name if the printer is printing to a file. Use the <code>setOutputFile()</code> function for this.</li>
<li><code>void QPrinter::setDoubleSidedPrinting(bool doubleSided)</code>: Enables double sided printing if <code>doubleSided</code> is <code>true</code>; otherwise disables it. Currently this option is only supported on <code>X11</code>.</li>
<li><code>void QPrinter::setDuplex(DuplexMode duplex)</code>: Enables double sided printing based on the <code>duplex</code> mode. Currently this option is only supported on <code>X11</code>.</li>
<li><code>void QPrinter::setEngines(QPrintEngine * printEngine, QPaintEngine * paintEngine) [protected]</code>: This function is used by subclasses of <code>QPrinter</code> to specify custom print and paint engines (<code>printEngine</code> and <code>paintEngine</code>, respectively). <code>QPrinter</code> does not take ownership of the engines, so you need to manage these engine instances yourself. Note that changing the engines will reset the printer state and all its properties.</li>
<li><code>void QPrinter::setFontEmbeddingEnabled(bool enable)</code>: Enabled or disables font embedding depending on <code>enable</code>. Currently this option is only supported on <code>X11</code>.</li>
<li><code>void QPrinter::setFromTo(int from, int to)</code>: Sets the range of pages to be printed to cover the pages with numbers specified by <code>from</code> and <code>to</code>, where <code>from</code> corresponds to the first page in the range and <code>to</code> corresponds to the last. <strong>Note</strong>: Pages in a document are numbered according to the convention that the first page is page <code>1</code>. However, if <code>from</code> and <code>to</code> are both set to <code>0</code>, the whole document will be printed. This function is mostly used to set a default value that the user can override in the print dialog when you call <code>setup()</code>.</li>
<li><code>void QPrinter::setFullPage(bool fp)</code>: If <code>fp</code> is <code>true</code>, enables support for painting over the entire page; otherwise restricts painting to the printable area reported by the device. By default, full page printing is disabled. In this case, the origin of the <code>QPrinter&#39;s</code> coordinate system coincides with the <code>top-left</code> corner of the printable area. If full page printing is enabled, the origin of the <code>QPrinter&#39;s</code> coordinate system coincides with the <code>top-left</code> corner of the paper itself. In this case, the device metrics will report the exact same dimensions as indicated by <code>PaperSize</code>. It may not be possible to print on the entire physical page because of the printer’s margins, so the application must account for the margins itself.</li>
<li><code>void QPrinter::setOrientation(Orientation orientation)</code>: Sets the print orientation to <code>orientation</code>. The <code>orientation</code> can be either <code>QPrinter::Portrait</code> or <code>QPrinter::Landscape</code>. The printer driver reads this setting and prints using the specified orientation. On <code>Windows</code>, this option can be changed while printing and will take effect from the next call to <code>newPage()</code>. On <code>Mac OS X</code>, changing the orientation during a print job has no effect.</li>
<li><code>void QPrinter::setOutputFileName(const QString &amp; fileName)</code>: Sets the name of the output file to <code>fileName</code>. Setting a null or empty name (<code>0</code> or <code>&quot;&quot;</code>) disables printing to a file. Setting a <code>non-empty</code> name enables printing to a file. This can change the value of <code>outputFormat()</code>. If the file name has the suffix <code>.ps</code> then <code>PostScript</code> is automatically selected as output format. If the file name has the <code>.pdf</code> suffix <code>PDF</code> is generated. If the file name has a suffix other than <code>.ps</code> and <code>.pdf</code>, the output format used is the one set with <code>setOutputFormat()</code>. <code>QPrinter</code> uses <code>Qt&#39;s</code> <code>cross-platform</code> <code>PostScript</code> or <code>PDF</code> print engines respectively. If you can produce this format natively, for example <code>Mac OS X</code> can generate <code>PDF&#39;s</code> from its print engine, set the output format back to <code>NativeFormat</code>.</li>
<li><code>void QPrinter::setOutputFormat(OutputFormat format)</code>: Sets the output format for this printer to <code>format</code>.</li>
<li><code>void QPrinter::setPageMargins(qreal left, qreal top, qreal right, qreal bottom, Unit unit)</code>: This function sets the <code>left</code>, <code>top</code>, <code>right</code> and <code>bottom</code> page margins for this printer. The unit of the margins are specified with the <code>unit</code> parameter.</li>
<li><code>void QPrinter::setPageOrder(PageOrder pageOrder)</code>: Sets the page order to <code>pageOrder</code>. The page order can be <code>QPrinter::FirstPageFirst</code> or <code>QPrinter::LastPageFirst</code>. The application is responsible for reading the page order and printing accordingly. This function is mostly useful for setting a default value that the user can override in the print dialog. This function is only supported under <code>X11</code>.</li>
<li><code>void QPrinter::setPaperSize(PaperSize newPaperSize)</code>: Sets the printer paper size to <code>newPaperSize</code> if that size is supported. The result is undefined if <code>newPaperSize</code> is not supported. The default paper size is <code>driver-dependent</code>. This function is useful mostly for setting a default value that the user can override in the print dialog.</li>
<li><code>void QPrinter::setPaperSize(const QSizeF &amp; paperSize, Unit unit)</code>: Sets the paper size based on <code>paperSize</code> in <code>unit</code>.</li>
<li><code>void QPrinter::setPaperSource(PaperSource source)</code>: Sets the paper source setting to <code>source</code>. <code>Windows</code> only: This option can be changed while printing and will take effect from the next call to <code>newPage()</code>.</li>
<li><code>void QPrinter::setPrintProgram(const QString &amp; printProg)</code>: Sets the name of the program that should do the print job to <code>printProg</code>. On <code>X11</code>, this function sets the program to call with the <code>PostScript</code> output. On other platforms, it has no effect.</li>
<li><code>void QPrinter::setPrintRange(PrintRange range)</code>: Sets the print range option in to be <code>range</code>.</li>
<li><code>void QPrinter::setPrinterName(const QString &amp; name)</code>: Sets the printer name to <code>name</code>.</li>
<li><code>void QPrinter::setPrinterSelectionOption(const QString &amp; option)</code>: Sets the printer to use <code>option</code> to select the printer. <code>option</code> is null by default (which implies that <code>Qt</code> should be smart enough to guess correctly), but it can be set to other values to use a specific printer selection option. If the printer selection option is changed while the printer is active, the current print job may or may not be affected. Warning: This function is not available on <code>Windows</code>.</li>
<li><code>void QPrinter::setResolution(int dpi)</code>: Requests that the printer prints at <code>dpi</code> or as near to <code>dpi</code> as possible. This setting affects the coordinate system as returned by, for example <code>QPainter::viewport()</code>. This function must be called before <code>QPainter::begin()</code> to have an effect on all platforms.</li>
<li><code>void QPrinter::setWinPageSize(int pageSize)</code>: Sets the page size to be used by the printer under Windows to <code>pageSize</code>. <strong>Warning</strong>: This function is not portable so you may prefer to use <code>setPaperSize()</code> instead.</li>
<li><code>QList&lt;PaperSource&gt; QPrinter::supportedPaperSources() const</code>: Returns the supported paper sizes for this printer. The values will be either a value that matches an entry in the <code>QPrinter::PaperSource</code> enum or a driver spesific value. The driver spesific values are greater than the constant <code>DMBIN_USER</code> declared in <code>wingdi.h</code>. <strong>Warning</strong>: This function is only available in <code>Windows</code>.</li>
<li><code>QList&lt;int&gt; QPrinter::supportedResolutions() const</code>: Returns a list of the resolutions (a list of <code>dots-per-inch</code> integers) that the printer says it supports. For <code>X11</code> where all printing is directly to postscript, this function will always return a one item list containing only the postscript resolution.</li>
<li><code>bool QPrinter::supportsMultipleCopies() const</code>: Returns <code>true</code> if the printer supports printing multiple copies of the same document in one job; otherwise <code>false</code> is returned. On most systems this function will return <code>true</code>. However, on <code>X11</code> systems that do not support <code>CUPS</code>, this function will return <code>false</code>. That means the application has to handle the number of copies by printing the same document the required number of times.</li>
<li><code>int QPrinter::toPage() const</code>: Returns the number of the last page in a range of pages to be printed (the <code>to page</code> setting). Pages in a document are numbered according to the convention that the first page is page <code>1</code>. By default, this function returns a special value of <code>0</code>, meaning that the <code>to page</code> setting is unset. <strong>Note</strong>: If <code>fromPage()</code> and <code>toPage()</code> both return <code>0</code>, this indicates that the whole document will be printed. The programmer is responsible for reading this setting and printing accordingly.</li>
<li><code>int QPrinter::winPageSize() const</code>: Returns the page size used by the printer under <code>Windows</code>. <strong>Warning</strong>: This function is not portable so you may prefer to use <code>paperSize()</code> instead.</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/02/18/Qt语法详解/Qt之QErrorMessage/" rel="next" title="Qt之QErrorMessage">
                <i class="fa fa-chevron-left"></i> Qt之QErrorMessage
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/02/18/Qt语法详解/Qt之QListIterator/" rel="prev" title="Qt之QListIterator">
                Qt之QListIterator <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">付康为</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">939</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Public-Functions"><span class="nav-number">1.</span> <span class="nav-text">Public Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reimplemented-Public-Functions"><span class="nav-number">2.</span> <span class="nav-text">Reimplemented Public Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Protected-Functions"><span class="nav-number">3.</span> <span class="nav-text">Protected Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Detailed-Description"><span class="nav-number">4.</span> <span class="nav-text">Detailed Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Member-Type-Documentation"><span class="nav-number">5.</span> <span class="nav-text">Member Type Documentation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Member-Function-Documentation"><span class="nav-number">6.</span> <span class="nav-text">Member Function Documentation</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">付康为</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  


  

  

</body>
</html>
