<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="&amp;emsp;&amp;emsp;QComboBox提供了下拉列表框的控件，下面简单地介绍几个的方法和属性。&amp;emsp;&amp;emsp;addItems在列表的最后一项添加一个文本内容为text选项： 12void addItem ( const QString &amp;amp;text, const QVariant &amp;amp;userData = QVariant() );void addItem ( const">
<meta property="og:type" content="article">
<meta property="og:title" content="Qt之QComboBox">
<meta property="og:url" content="http://fukangwei.gitee.io/2019/02/21/Qt语法详解/Qt之QComboBox/index.html">
<meta property="og:site_name" content="泥腿子出身">
<meta property="og:description" content="&amp;emsp;&amp;emsp;QComboBox提供了下拉列表框的控件，下面简单地介绍几个的方法和属性。&amp;emsp;&amp;emsp;addItems在列表的最后一项添加一个文本内容为text选项： 12void addItem ( const QString &amp;amp;text, const QVariant &amp;amp;userData = QVariant() );void addItem ( const">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://fukangwei.gitee.io/2019/02/21/Qt语法详解/Qt之QComboBox/1.png">
<meta property="og:image" content="http://fukangwei.gitee.io/2019/02/21/Qt语法详解/Qt之QComboBox/2.png">
<meta property="og:updated_time" content="2019-04-02T11:28:45.818Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Qt之QComboBox">
<meta name="twitter:description" content="&amp;emsp;&amp;emsp;QComboBox提供了下拉列表框的控件，下面简单地介绍几个的方法和属性。&amp;emsp;&amp;emsp;addItems在列表的最后一项添加一个文本内容为text选项： 12void addItem ( const QString &amp;amp;text, const QVariant &amp;amp;userData = QVariant() );void addItem ( const">
<meta name="twitter:image" content="http://fukangwei.gitee.io/2019/02/21/Qt语法详解/Qt之QComboBox/1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '561O3H1PZB',
      apiKey: '7631d3cf19ac49bd39ada7163ec937a7',
      indexName: 'fuxinzi',
      hits: "",
      labels: ""
    }
  };
</script>



  <link rel="canonical" href="http://fukangwei.gitee.io/2019/02/21/Qt语法详解/Qt之QComboBox/">





  <title>Qt之QComboBox | 泥腿子出身</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">泥腿子出身</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fukangwei.gitee.io/2019/02/21/Qt语法详解/Qt之QComboBox/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="付康为">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="泥腿子出身">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Qt之QComboBox</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-21T16:23:06+08:00">
                2019-02-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Qt语法详解/" itemprop="url" rel="index">
                    <span itemprop="name">Qt语法详解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>&emsp;&emsp;<code>QComboBox</code>提供了下拉列表框的控件，下面简单地介绍几个的方法和属性。<br>&emsp;&emsp;<code>addItems</code>在列表的最后一项添加一个文本内容为<code>text</code>选项：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addItem</span> <span class="params">( <span class="keyword">const</span> QString &amp;text, <span class="keyword">const</span> QVariant &amp;userData = QVariant() )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addItem</span> <span class="params">( <span class="keyword">const</span> QIcon &amp;icon, <span class="keyword">const</span> QString &amp;text, <span class="keyword">const</span> QVariant &amp;userData = QVariant() )</span></span>;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;<code>currentText</code>返回下拉列表框中当前选中的文本：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QString <span class="title">currentText</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;<code>count</code>返回当前列表框中选项数量：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;<code>currentIndex</code>返回当前列表框中选中文本的序号：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">currentIndex</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;代码如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"widget.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QComboBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QLayout&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QDebug&gt;</span></span></span><br><span class="line">​</span><br><span class="line">Widget::Widget ( QWidget *parent ) : QWidget ( parent ) &#123;</span><br><span class="line">    QComboBox *combobox = <span class="keyword">new</span> QComboBox ( <span class="keyword">this</span> );</span><br><span class="line">    combobox-&gt;addItem ( tr ( <span class="string">"Circle"</span> ) );</span><br><span class="line">    combobox-&gt;addItem ( tr ( <span class="string">"Pology"</span> ) );</span><br><span class="line">    QGridLayout *mainLayout = <span class="keyword">new</span> QGridLayout ( <span class="keyword">this</span> );</span><br><span class="line">    mainLayout-&gt;addWidget ( combobox, <span class="number">0</span>, <span class="number">0</span> );</span><br><span class="line">    qDebug() &lt;&lt; <span class="string">"Now there are "</span> &lt;&lt; combobox-&gt;count() &lt;&lt; <span class="string">"Items"</span>;</span><br><span class="line">    qDebug() &lt;&lt; <span class="string">"The current item is"</span> &lt;&lt; combobox-&gt;currentText();</span><br><span class="line">&#125;</span><br><span class="line">​</span><br><span class="line">Widget::~Widget() &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/21/Qt语法详解/Qt之QComboBox/1.png"></p>
<p>执行结果：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Now there are <span class="number">2</span> Items</span><br><span class="line">The current item is <span class="string">"Circle"</span></span><br></pre></td></tr></table></figure>
<hr>
<p>&emsp;&emsp;The <code>QComboBox</code> widget is a combined button and popup list.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Header</th>
<th>Inherits</th>
<th>Inherited By</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QComboBox</code></td>
<td><code>QWidget</code></td>
<td><code>QFontComboBox</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="Public-Functions"><a href="#Public-Functions" class="headerlink" title="Public Functions"></a>Public Functions</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Return</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code>QComboBox(QWidget * parent = 0)</code></td>
</tr>
<tr>
<td></td>
<td><code>~QComboBox()</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>addItem(const QString &amp; text, const QVariant &amp; userData = QVariant())</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>addItem(const QIcon &amp; icon, const QString &amp; text, const QVariant &amp; userData = QVariant())</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>addItems(const QStringList &amp; texts)</code></td>
</tr>
<tr>
<td><code>QCompleter *</code></td>
<td><code>completer() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>count() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>currentIndex() const</code></td>
</tr>
<tr>
<td><code>QString</code></td>
<td><code>currentText() const</code></td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>duplicatesEnabled() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>findData(const QVariant &amp; data, int role = Qt::UserRole, Qt::MatchFlags flags = static_cast<qt::matchflags> ( Qt::MatchExactly &#124; Qt::MatchCaseSensitive )) const<code \=""></code></qt::matchflags></code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>findText(const QString &amp; text, Qt::MatchFlags flags = static_cast<qt::matchflags> ( Qt::MatchExactly &#124; Qt::MatchCaseSensitive )) const<code \=""></code></qt::matchflags></code></td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>hasFrame() const</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>hidePopup()</code></td>
</tr>
<tr>
<td><code>QSize</code></td>
<td><code>iconSize() const</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>insertItem(int index, const QString &amp; text, const QVariant &amp; userData = QVariant())</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>insertItem(int index, const QIcon &amp; icon, const QString &amp; text, const QVariant &amp; userData = QVariant())</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>insertItems(int index, const QStringList &amp; list)</code></td>
</tr>
<tr>
<td><code>InsertPolicy</code></td>
<td><code>insertPolicy() const</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>insertSeparator(int index)</code></td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>isEditable() const</code></td>
</tr>
<tr>
<td><code>QVariant</code></td>
<td><code>itemData(int index, int role = Qt::UserRole) const</code></td>
</tr>
<tr>
<td><code>QAbstractItemDelegate *</code></td>
<td><code>itemDelegate() const</code></td>
</tr>
<tr>
<td><code>QIcon</code></td>
<td><code>itemIcon(int index) const</code></td>
</tr>
<tr>
<td><code>QString</code></td>
<td><code>itemText(int index) const</code></td>
</tr>
<tr>
<td><code>QLineEdit *</code></td>
<td><code>lineEdit() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>maxCount() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>maxVisibleItems() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>minimumContentsLength() const</code></td>
</tr>
<tr>
<td><code>QAbstractItemModel *</code></td>
<td><code>model() const</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>modelColumn() const</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>removeItem(int index)</code></td>
</tr>
<tr>
<td><code>QModelIndex</code></td>
<td><code>rootModelIndex() const</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setCompleter(QCompleter * completer)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setDuplicatesEnabled(bool enable)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setEditable(bool editable)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setFrame(bool)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setIconSize(const QSize &amp; size)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setInsertPolicy(InsertPolicy policy)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setItemData(int index, const QVariant &amp; value, int role = Qt::UserRole)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setItemDelegate(QAbstractItemDelegate * delegate)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setItemIcon(int index, const QIcon &amp; icon)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setItemText(int index, const QString &amp; text)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setLineEdit(QLineEdit * edit)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setMaxCount(int max)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setMaxVisibleItems(int maxItems)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setMinimumContentsLength(int characters)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setModel(QAbstractItemModel * model)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setModelColumn(int visibleColumn)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setRootModelIndex(const QModelIndex &amp; index)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setSizeAdjustPolicy(SizeAdjustPolicy policy)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setValidator(const QValidator * validator)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setView(QAbstractItemView * itemView)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>showPopup()</code></td>
</tr>
<tr>
<td><code>SizeAdjustPolicy</code></td>
<td><code>sizeAdjustPolicy() const</code></td>
</tr>
<tr>
<td><code>const QValidator *</code></td>
<td><code>validator() const</code></td>
</tr>
<tr>
<td><code>QAbstractItemView *</code></td>
<td><code>view() const</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="Reimplemented-Public-Functions"><a href="#Reimplemented-Public-Functions" class="headerlink" title="Reimplemented Public Functions"></a>Reimplemented Public Functions</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Return</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>virtual bool</code></td>
<td><code>event(QEvent * event)</code></td>
</tr>
<tr>
<td><code>virtual QSize</code></td>
<td><code>minimumSizeHint() const</code></td>
</tr>
<tr>
<td><code>virtual QSize</code></td>
<td><code>sizeHint() const</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="Public-Slots"><a href="#Public-Slots" class="headerlink" title="Public Slots"></a>Public Slots</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Return</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>void</code></td>
<td><code>clear()</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>clearEditText()</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setCurrentIndex(int index)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setEditText(const QString &amp; text)</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="Signals"><a href="#Signals" class="headerlink" title="Signals"></a>Signals</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Return</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>void</code></td>
<td><code>activated(int index)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>activated(const QString &amp; text)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>currentIndexChanged(int index)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>currentIndexChanged(const QString &amp; text)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>editTextChanged(const QString &amp; text)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>highlighted(int index)</code></td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>highlighted(const QString &amp; text)</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="Protected-Functions"><a href="#Protected-Functions" class="headerlink" title="Protected Functions"></a>Protected Functions</h3><ul>
<li><code>void initStyleOption(QStyleOptionComboBox * option) const</code></li>
</ul>
<h3 id="Reimplemented-Protected-Functions"><a href="#Reimplemented-Protected-Functions" class="headerlink" title="Reimplemented Protected Functions"></a>Reimplemented Protected Functions</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Return</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>virtual void</code></td>
<td><code>changeEvent(QEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>contextMenuEvent(QContextMenuEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>focusInEvent(QFocusEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>focusOutEvent(QFocusEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>hideEvent(QHideEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>inputMethodEvent(QInputMethodEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual QVariant</code></td>
<td><code>inputMethodQuery(Qt::InputMethodQuery query) const</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>keyPressEvent(QKeyEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>keyReleaseEvent(QKeyEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>mousePressEvent(QMouseEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>mouseReleaseEvent(QMouseEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>paintEvent(QPaintEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>resizeEvent(QResizeEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>showEvent(QShowEvent * e)</code></td>
</tr>
<tr>
<td><code>virtual void</code></td>
<td><code>wheelEvent(QWheelEvent * e)</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="Detailed-Description"><a href="#Detailed-Description" class="headerlink" title="Detailed Description"></a>Detailed Description</h3><p>&emsp;&emsp;The <code>QComboBox</code> widget is a combined button and popup list.<br>&emsp;&emsp;A <code>QComboBox</code> provides a means of presenting a list of options to the user in a way that takes up the minimum amount of screen space.<br>&emsp;&emsp;A combobox is a selection widget that displays the current item, and can pop up a list of selectable items. A combobox may be editable, allowing the user to modify each item in the list.<br>&emsp;&emsp;Comboboxes can contain pixmaps as well as strings; the <code>insertItem()</code> and <code>setItemText()</code> functions are suitably overloaded. For editable comboboxes, the function <code>clearEditText()</code> is provided, to clear the displayed string without changing the combobox’s contents.<br>&emsp;&emsp;There are two signals emitted if the current item of a combobox changes, <code>currentIndexChanged()</code> and <code>activated()</code>. <code>currentIndexChanged()</code> is always emitted regardless if the change was done programmatically or by user interaction, while <code>activated()</code> is only emitted when the change is caused by user interaction. The <code>highlighted()</code> signal is emitted when the user highlights an item in the combobox popup list. All three signals exist in two versions, one with a <code>QString</code> argument and one with an int argument. If the user selects or highlights a pixmap, only the int signals are emitted. Whenever the text of an editable combobox is changed the <code>editTextChanged()</code> signal is emitted.<br>&emsp;&emsp;When the user enters a new string in an editable combobox, the widget may or may not insert it, and it can insert it in several locations. The default policy is is <code>AtBottom</code> but you can change this using <code>setInsertPolicy()</code>.<br>&emsp;&emsp;It is possible to constrain the input to an editable combobox using <code>QValidator</code>; see <code>setValidator()</code>. By default, any input is accepted.<br>&emsp;&emsp;A combobox can be populated using the insert functions, <code>insertItem()</code> and <code>insertItems()</code> for example. Items can be changed with <code>setItemText()</code>. An item can be removed with <code>removeItem()</code> and all items can be removed with <code>clear()</code>. The text of the current item is returned by <code>currentText()</code>, and the text of a numbered item is returned with <code>text()</code>. The current item can be set with <code>setCurrentIndex()</code>. The number of items in the combobox is returned by <code>count()</code>; the maximum number of items can be set with <code>setMaxCount()</code>. You can allow editing using <code>setEditable()</code>. For editable comboboxes you can set <code>auto-completion</code> using <code>setCompleter()</code> and whether or not the user can add duplicates is set with <code>setDuplicatesEnabled()</code>.<br>&emsp;&emsp;<code>QComboBox</code> uses the <code>model/view</code> framework for its popup list and to store its items. By default a <code>QStandardItemModel</code> stores the items and a <code>QListView</code> subclass displays the popuplist. You can access the model and view directly (with <code>model()</code> and <code>view()</code>), but <code>QComboBox</code> also provides functions to set and get item data (e.g., <code>setItemData()</code> and <code>itemText()</code>). You can also set a new model and view (with <code>setModel()</code> and <code>setView()</code>). For the text and icon in the combobox label, the data in the model that has the <code>Qt::DisplayRole</code> and <code>Qt::DecorationRole</code> is used. Note that you cannot alter the <code>SelectionMode</code> of the <code>view()</code>, e.g., by using <code>setSelectionMode()</code>.</p>
<p><img src="/2019/02/21/Qt语法详解/Qt之QComboBox/2.png"></p>
<h3 id="Member-Type-Documentation"><a href="#Member-Type-Documentation" class="headerlink" title="Member Type Documentation"></a>Member Type Documentation</h3><ul>
<li>enum <code>QComboBox::InsertPolicy</code>: This enum specifies what the <code>QComboBox</code> should do when a new string is entered by the user.</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QComboBox::NoInsert</code></td>
<td><code>0</code></td>
<td>The string will not be inserted into the combobox.</td>
</tr>
<tr>
<td><code>QComboBox::InsertAtTop</code></td>
<td><code>1</code></td>
<td>The string will be inserted as the first item in the combobox.</td>
</tr>
<tr>
<td><code>QComboBox::InsertAtCurrent</code></td>
<td><code>2</code></td>
<td>The current item will be replaced by the string.</td>
</tr>
<tr>
<td><code>QComboBox::InsertAtBottom</code></td>
<td><code>3</code></td>
<td>The string will be inserted after the last item in the combobox.</td>
</tr>
<tr>
<td><code>QComboBox::InsertAfterCurrent</code></td>
<td><code>4</code></td>
<td>The string is inserted after the current item in the combobox.</td>
</tr>
<tr>
<td><code>QComboBox::InsertBeforeCurrent</code></td>
<td><code>5</code></td>
<td>The string is inserted before the current item in the combobox.</td>
</tr>
<tr>
<td><code>QComboBox::InsertAlphabetically</code></td>
<td><code>6</code></td>
<td>The string is inserted in the alphabetic order in the combobox.</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>enum <code>QComboBox::SizeAdjustPolicy</code>: This enum specifies how the size hint of the <code>QComboBox</code> should adjust when new content is added or content changes.</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QComboBox::AdjustToContents</code></td>
<td><code>0</code></td>
<td>The combobox will always adjust to the contents</td>
</tr>
<tr>
<td><code>QComboBox::AdjustToContentsOnFirstShow</code></td>
<td><code>1</code></td>
<td>The combobox will adjust to its contents the first time it is shown.</td>
</tr>
<tr>
<td><code>QComboBox::AdjustToMinimumContentsLength</code></td>
<td><code>2</code></td>
<td>Use <code>AdjustToContents</code> or <code>AdjustToContentsOnFirstShow</code> instead.</td>
</tr>
<tr>
<td><code>QComboBox::AdjustToMinimumContentsLengthWithIcon</code></td>
<td><code>3</code></td>
<td>The combobox will adjust to <code>minimumContentsLength</code> plus space for an icon. For performance reasons use this policy on large models.</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Property-Documentation"><a href="#Property-Documentation" class="headerlink" title="Property Documentation"></a>Property Documentation</h3><ul>
<li><code>count : const int</code>: This property holds the number of items in the combobox. By default, for an empty combo box, this property has a value of <code>0</code>. Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count</span><span class="params">()</span> <span class="keyword">const</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>currentIndex : int</code>: This property holds the index of the current item in the combobox. The current index can change when inserting or removing items. By default, for an empty combo box or a combo box in which no current item is set, this property has a value of <code>-1</code>. Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">currentIndex</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setCurrentIndex</span> <span class="params">( <span class="keyword">int</span> index )</span></span></span><br></pre></td></tr></table></figure>
<p>Notifier signal:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">currentIndexChanged</span> <span class="params">( <span class="keyword">int</span> index )</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">currentIndexChanged</span> <span class="params">( <span class="keyword">const</span> QString &amp;text )</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>currentText : const QString</code>: This property holds the current text. If the combo box is editable, the current text is the value displayed by the line edit. Otherwise, it is the value of the current item or an empty string if the combo box is empty or no current item is set. Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QString <span class="title">currentText</span><span class="params">()</span> <span class="keyword">const</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>duplicatesEnabled : bool</code>: This property holds whether the user can enter duplicate items into the combobox. Note that it is always possible to programmatically insert duplicate items into the combobox. By default, this property is false (duplicates are not allowed). Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">duplicatesEnabled</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setDuplicatesEnabled</span> <span class="params">( <span class="keyword">bool</span> enable )</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>editable : bool</code>: This property holds whether the combo box can be edited by the user. By default, this property is false. The effect of editing depends on the insert policy. Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isEditable</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setEditable</span> <span class="params">( <span class="keyword">bool</span> editable )</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>frame : bool</code>: This property holds whether the combo box draws itself with a frame. If enabled (the default) the combo box draws itself inside a frame, otherwise the combo box draws itself without any frame. Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">hasFrame</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setFrame</span> <span class="params">( <span class="keyword">bool</span> )</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>iconSize : QSize</code>: This property holds the size of the icons shown in the combobox. Unless explicitly set this returns the default value of the current style. This size is the maximum size that icons can have; icons of smaller size are not scaled up. Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QSize <span class="title">iconSize</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setIconSize</span> <span class="params">( <span class="keyword">const</span> QSize &amp;size )</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>insertPolicy : InsertPolicy</code>: This property holds the policy used to determine where <code>user-inserted</code> items should appear in the combobox. The default value is <code>AtBottom</code>, indicating that new items will appear at the bottom of the list of items. Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">InsertPolicy <span class="title">insertPolicy</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setInsertPolicy</span> <span class="params">( InsertPolicy policy )</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>maxCount : int</code>: This property holds the maximum number of items allowed in the combobox. <strong>Note</strong>: If you set the maximum number to be less then the current amount of items in the combobox, the extra items will be truncated. This also applies if you have set an external model on the combobox. By default, this property’s value is derived from the highest signed integer available (typically <code>2147483647</code>). Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxCount</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setMaxCount</span> <span class="params">( <span class="keyword">int</span> max )</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>maxVisibleItems : int</code>: This property holds the maximum allowed size on screen of the combo box, measured in items. By default, this property has a value of <code>10</code>. <strong>Note</strong>: This property is ignored for <code>non-editable</code> comboboxes in styles that returns true for <code>QStyle::SH_ComboBox_Popup</code> such as the <code>Mac</code> style or the <code>Gtk+</code> Style. Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxVisibleItems</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setMaxVisibleItems</span> <span class="params">( <span class="keyword">int</span> maxItems )</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>minimumContentsLength : int</code>: This property holds the minimum number of characters that should fit into the combobox. The default value is <code>0</code>. If this property is set to a positive value, the <code>minimumSizeHint()</code> and <code>sizeHint()</code> take it into account. Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minimumContentsLength</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setMinimumContentsLength</span> <span class="params">( <span class="keyword">int</span> characters )</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>modelColumn : int</code>: This property holds the column in the model that is visible. If set prior to populating the combo box, the <code>pop-up</code> view will not be affected and will show the first column (using this property’s default value). By default, this property has a value of <code>0</code>. Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">modelColumn</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setModelColumn</span> <span class="params">( <span class="keyword">int</span> visibleColumn )</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>sizeAdjustPolicy : SizeAdjustPolicy</code>: This property holds the policy describing how the size of the combobox changes when the content changes. The default value is <code>AdjustToContentsOnFirstShow</code>. Access functions:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">SizeAdjustPolicy <span class="title">sizeAdjustPolicy</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setSizeAdjustPolicy</span> <span class="params">( SizeAdjustPolicy policy )</span></span></span><br></pre></td></tr></table></figure>
<h3 id="Member-Function-Documentation"><a href="#Member-Function-Documentation" class="headerlink" title="Member Function Documentation"></a>Member Function Documentation</h3><ul>
<li><code>QComboBox::QComboBox(QWidget * parent = 0)</code>: Constructs a combobox with the given <code>parent</code>, using the default model <code>QStandardItemModel</code>.</li>
<li><code>QComboBox::~QComboBox()</code>: Destroys the combobox.</li>
<li><code>void QComboBox::activated(int index) [signal]</code>: This signal is sent when the user chooses an item in the combobox. The item’s <code>index</code> is passed. Note that this signal is sent even when the choice is not changed. If you need to know when the choice actually changes, use signal <code>currentIndexChanged()</code>.</li>
<li><code>void QComboBox::activated(const QString &amp; text) [signal]</code>: This signal is sent when the user chooses an item in the combobox. The item’s <code>text</code> is passed. Note that this signal is sent even when the choice is not changed. If you need to know when the choice actually changes, use signal <code>currentIndexChanged()</code>.</li>
<li><code>void QComboBox::addItem(const QString &amp; text, const QVariant &amp; userData = QVariant())</code>: Adds an item to the combobox with the given <code>text</code>, and containing the specified <code>userData</code> (stored in the <code>Qt::UserRole</code>). The item is appended to the list of existing items.</li>
<li><code>void QComboBox::addItem(const QIcon &amp; icon, const QString &amp; text, const QVariant &amp; userData = QVariant())</code>: Adds an item to the combobox with the given <code>icon</code> and <code>text</code>, and containing the specified <code>userData</code> (stored in the <code>Qt::UserRole</code>). The item is appended to the list of existing items.</li>
<li><code>void QComboBox::addItems(const QStringList &amp; texts)</code>: Adds each of the strings in the given <code>texts</code> to the combobox. Each item is appended to the list of existing items in turn.  </li>
<li><code>void QComboBox::changeEvent(QEvent * e) [virtual protected]</code>: Reimplemented from <code>QWidget::changeEvent()</code>.</li>
<li><code>void QComboBox::clear() [slot]</code>: Clears the combobox, removing all items. <strong>Note</strong>: If you have set an external model on the combobox this model will still be cleared when calling this function.</li>
<li><code>void QComboBox::clearEditText() [slot]</code>: Clears the contents of the line edit used for editing in the combobox.</li>
<li><code>QCompleter * QComboBox::completer() const</code>: Returns the completer that is used to auto complete text input for the combobox.</li>
<li><code>void QComboBox::contextMenuEvent(QContextMenuEvent * e) [virtual protected]</code>: Reimplemented from <code>QWidget::contextMenuEvent()</code>.</li>
<li><code>void QComboBox::editTextChanged(const QString &amp; text) [signal]</code>: This signal is emitted when the <code>text</code> in the combobox’s line edit widget is changed. The new text is specified by <code>text</code>.</li>
<li><code>bool QComboBox::event(QEvent * event) [virtual]</code>: Reimplemented from <code>QObject::event()</code>.</li>
<li><code>int QComboBox::findData(const QVariant &amp; data, int role = Qt::UserRole, Qt::MatchFlags flags = static_cast&lt;Qt::MatchFlags&gt; ( Qt::MatchExactly | Qt::MatchCaseSensitive )) const</code>: Returns the index of the item containing the given <code>data</code> for the given <code>role</code>; otherwise returns <code>-1</code>. The <code>flags</code> specify how the items in the combobox are searched.</li>
<li><code>int QComboBox::findText(const QString &amp; text, Qt::MatchFlags flags = static_cast&lt;Qt::MatchFlags&gt; ( Qt::MatchExactly | Qt::MatchCaseSensitive )) const</code>: Returns the index of the item containing the given <code>text</code>; otherwise returns <code>-1</code>. The <code>flags</code> specify how the items in the combobox are searched.</li>
<li><code>void QComboBox::focusInEvent(QFocusEvent * e) [virtual protected]</code>: Reimplemented from <code>QWidget::focusInEvent()</code>.</li>
<li><code>void QComboBox::focusOutEvent(QFocusEvent * e) [virtual protected]</code>: Reimplemented from <code>QWidget::focusOutEvent()</code>.</li>
<li><code>void QComboBox::hideEvent(QHideEvent * e) [virtual protected]</code>: Reimplemented from <code>QWidget::hideEvent()</code>.</li>
<li><code>void QComboBox::hidePopup() [virtual]</code>: Hides the list of items in the combobox if it is currently visible and resets the internal state, so that if the custom <code>pop-up</code> was shown inside the reimplemented <code>showPopup()</code>, then you also need to reimplement the <code>hidePopup()</code> function to hide your custom <code>pop-up</code> and call the base class implementation to reset the internal state whenever your custom <code>pop-up</code> widget is hidden.</li>
<li><code>void QComboBox::highlighted(int index) [signal]</code>: This signal is sent when an item in the combobox popup list is highlighted by the user. The item’s <code>index</code> is passed.</li>
<li><code>void QComboBox::highlighted(const QString &amp; text) [signal]</code>: This signal is sent when an item in the combobox popup list is highlighted by the user. The item’s <code>text</code> is passed.</li>
<li><code>void QComboBox::initStyleOption(QStyleOptionComboBox * option) const [protected]</code>:  Initialize <code>option</code> with the values from this <code>QComboBox</code>. This method is useful for subclasses when they need a <code>QStyleOptionComboBox</code>, but don’t want to fill in all the information themselves.</li>
<li><code>void QComboBox::inputMethodEvent(QInputMethodEvent * e) [virtual protected]</code>: Reimplemented from <code>QWidget::inputMethodEvent()</code>.</li>
<li><code>QVariant QComboBox::inputMethodQuery(Qt::InputMethodQuery query) const [virtual protected]</code>: Reimplemented from <code>QWidget::inputMethodQuery()</code>.</li>
<li><code>void QComboBox::insertItem(int index, const QString &amp; text, const QVariant &amp; userData = QVariant())</code>: Inserts the <code>text</code> and <code>userData</code> (stored in the <code>Qt::UserRole</code>) into the combobox at the given <code>index</code>. If the <code>index</code> is equal to or higher than the total number of items, the new item is appended to the list of existing items. If the <code>index</code> is <code>0</code> or negative, the new item is prepended to the list of existing items.</li>
<li><code>void QComboBox::insertItem(int index, const QIcon &amp; icon, const QString &amp; text, const QVariant &amp; userData = QVariant())</code>: Inserts the <code>icon</code>, <code>text</code> and <code>userData</code> (stored in the <code>Qt::UserRole</code>) into the combobox at the given <code>index</code>. If the <code>index</code> is equal to or higher than the total number of items, the new item is appended to the list of existing items. If the <code>index</code> is <code>0</code> or negative, the new item is prepended to the list of existing items.</li>
<li><p><code>void QComboBox::insertItems(int index, const QStringList &amp; list)</code>: Inserts the strings from the <code>list</code> into the combobox as separate items, starting at the <code>index</code> specified. If the <code>index</code> is equal to or higher than the total number of items, the new items are appended to the list of existing items. If the <code>index</code> is <code>0</code> or negative, the new items are prepended to the list of existing items.</p>
</li>
<li><p><code>void QComboBox::insertSeparator(int index)</code>: Inserts a separator item into the combobox at the given index. If the index is equal to or higher than the total number of items, the new item is appended to the list of existing items. If the index is zero or negative, the new item is prepended to the list of existing items.</p>
</li>
<li><code>QVariant QComboBox::itemData(int index, int role = Qt::UserRole) const</code>: Returns the data for the given role in the given index in the combobox, or QVariant::Invalid if there is no data for this role.</li>
<li><code>QAbstractItemDelegate * QComboBox::itemDelegate() const</code>: Returns the item delegate used by the popup list view.</li>
<li><code>QIcon QComboBox::itemIcon(int index) const</code>: Returns the icon for the given index in the combobox.</li>
<li><code>QString QComboBox::itemText(int index) const</code>: Returns the text for the given index in the combobox.</li>
<li><code>void QComboBox::keyPressEvent(QKeyEvent * e) [virtual protected]</code>: Reimplemented from QWidget::keyPressEvent().</li>
<li><code>void QComboBox::keyReleaseEvent(QKeyEvent * e) [virtual protected]</code>: Reimplemented from QWidget::keyReleaseEvent().</li>
<li><code>QLineEdit * QComboBox::lineEdit() const</code>: Returns the line edit used to edit items in the combobox, or 0 if there is no line edit. Only editable combo boxes have a line edit.</li>
<li><code>QSize QComboBox::minimumSizeHint() const [virtual]</code>: Reimplemented from QWidget::minimumSizeHint().</li>
<li><code>QAbstractItemModel * QComboBox::model() const</code>: Returns the model used by the combobox.</li>
<li><code>void QComboBox::mousePressEvent(QMouseEvent * e) [virtual protected]</code>: Reimplemented from QWidget::mousePressEvent().</li>
<li><code>void QComboBox::mouseReleaseEvent(QMouseEvent * e) [virtual protected]</code>: Reimplemented from QWidget::mouseReleaseEvent().</li>
<li><code>void QComboBox::paintEvent(QPaintEvent * e) [virtual protected]</code>: Reimplemented from QWidget::paintEvent().</li>
<li><code>void QComboBox::removeItem(int index)</code>: Removes the item at the given index from the combobox. This will update the current index if the index is removed. This function does nothing if index is out of range.</li>
<li><code>void QComboBox::resizeEvent(QResizeEvent * e) [virtual protected]</code>: Reimplemented from QWidget::resizeEvent().</li>
<li><code>QModelIndex QComboBox::rootModelIndex() const</code>: Returns the root model item index for the items in the combobox.</li>
<li><code>void QComboBox::setCompleter(QCompleter * completer)</code>: Sets the completer to use instead of the current completer. If completer is 0, auto completion is disabled. By default, for an editable combo box, a QCompleter that performs case insensitive inline completion is automatically created.</li>
<li><code>void QComboBox::setEditText(const QString &amp; text) [slot]</code>: Sets the text in the combobox’s text edit.</li>
<li><code>void QComboBox::setItemData(int index, const QVariant &amp; value, int role = Qt::UserRole)</code>: Sets the data role for the item on the given index in the combobox to the specified value.</li>
<li><code>void QComboBox::setItemDelegate(QAbstractItemDelegate * delegate)</code>: Sets the item delegate for the popup list view. The combobox takes ownership of the delegate. Warning: You should not share the same instance of a delegate between comboboxes, widget mappers or views. Doing so can cause incorrect or unintuitive editing behavior since each view connected to a given delegate may receive the closeEditor() signal, and attempt to access, modify or close an editor that has already been closed.</li>
<li><code>void QComboBox::setItemIcon(int index, const QIcon &amp; icon)</code>: Sets the icon for the item on the given index in the combobox.</li>
<li><code>void QComboBox::setItemText(int index, const QString &amp; text)</code>: Sets the text for the item on the given index in the combobox.</li>
<li><code>void QComboBox::setLineEdit(QLineEdit * edit)</code>: Sets the line edit to use instead of the current line edit widget. The combo box takes ownership of the line edit.</li>
<li><code>void QComboBox::setModel(QAbstractItemModel * model)</code>: Sets the model to be model. model must not be 0. If you want to clear the contents of a model, call clear().</li>
<li><code>void QComboBox::setRootModelIndex(const QModelIndex &amp; index)</code>: Sets the root model item index for the items in the combobox.</li>
<li><code>void QComboBox::setValidator(const QValidator * validator)</code>: Sets the validator to use instead of the current validator.</li>
<li><code>void QComboBox::setView(QAbstractItemView * itemView)</code>: Sets the view to be used in the combobox popup to the given itemView. The combobox takes ownership of the view. Note: If you want to use the convenience views (like QListWidget, QTableWidget or QTreeWidget), make sure to call setModel() on the combobox with the convenience widgets model before calling this function.</li>
<li><code>void QComboBox::showEvent(QShowEvent * e) [virtual protected]</code>: Reimplemented from QWidget::showEvent().</li>
<li><code>void QComboBox::showPopup() [virtual]</code>: Displays the list of items in the combobox. If the list is empty then the no items will be shown. If you reimplement this function to show a custom pop-up, make sure you call hidePopup() to reset the internal state.</li>
<li><code>QSize QComboBox::sizeHint() const [virtual]</code>: Reimplemented from QWidget::sizeHint(). This implementation caches the size hint to avoid resizing when the contents change dynamically. To invalidate the cached value change the sizeAdjustPolicy.</li>
<li><code>const QValidator * QComboBox::validator() const</code>: Returns the validator that is used to constrain text input for the combobox.</li>
<li><code>QAbstractItemView * QComboBox::view() const</code>: Returns the list view used for the combobox popup.</li>
<li><code>void QComboBox::wheelEvent(QWheelEvent * e) [virtual protected]</code>: Reimplemented from QWidget::wheelEvent().</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/02/20/Qt语法详解/Qt之QPixmap/" rel="next" title="Qt之QPixmap">
                <i class="fa fa-chevron-left"></i> Qt之QPixmap
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/02/22/Qt语法详解/Qt之QTextTableFormat/" rel="prev" title="Qt之QTextTableFormat">
                Qt之QTextTableFormat <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">付康为</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">958</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Public-Functions"><span class="nav-number">1.</span> <span class="nav-text">Public Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reimplemented-Public-Functions"><span class="nav-number">2.</span> <span class="nav-text">Reimplemented Public Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Public-Slots"><span class="nav-number">3.</span> <span class="nav-text">Public Slots</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Signals"><span class="nav-number">4.</span> <span class="nav-text">Signals</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Protected-Functions"><span class="nav-number">5.</span> <span class="nav-text">Protected Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reimplemented-Protected-Functions"><span class="nav-number">6.</span> <span class="nav-text">Reimplemented Protected Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Detailed-Description"><span class="nav-number">7.</span> <span class="nav-text">Detailed Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Member-Type-Documentation"><span class="nav-number">8.</span> <span class="nav-text">Member Type Documentation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Property-Documentation"><span class="nav-number">9.</span> <span class="nav-text">Property Documentation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Member-Function-Documentation"><span class="nav-number">10.</span> <span class="nav-text">Member Function Documentation</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">付康为</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  


  

  

</body>
</html>
